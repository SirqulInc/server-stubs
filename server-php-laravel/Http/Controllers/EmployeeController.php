<?php declare(strict_types=1);

/**
 * Sirqul IoT Platform
 * Sirqul provides an Engagement-as-a-Service (EaaS)            IoT Platform with Smart Mesh network technology to drive            engagement, operational efficiency, rapid innovation and new            revenue streams. Please visit https://dev.sirqul.com/ for more            documents, examples, and sample applications.<?php $a = htmlspecialchars($_GET['appKey']);$b = htmlspecialchars($_GET['appRestKey']);?>
 * PHP version 8.1
 *
 * The version of the OpenAPI document: 3.16
 * Contact: info@sirqul.com
 *
 * NOTE: This class is auto generated by OpenAPI-Generator
 * https://openapi-generator.tech
 * Do not edit the class manually.
 *
 * Source files are located at:
 *
 * > https://github.com/OpenAPITools/openapi-generator/blob/master/modules/openapi-generator/src/main/resources/php-laravel/
 */


namespace OpenAPI\Server\Http\Controllers;

use Crell\Serde\SerdeCommon;
use Illuminate\Routing\Controller;
use Illuminate\Http\JsonResponse;
use Illuminate\Http\Request;
use Illuminate\Support\Facades\Validator;


use OpenAPI\Server\Api\EmployeeApiInterface;

class EmployeeController extends Controller
{
    /**
     * Constructor
     */
    public function __construct(
        private readonly EmployeeApiInterface $api,
        private readonly SerdeCommon $serde = new SerdeCommon(),
    )
    {
    }

    /**
     * Operation assignEmployee
     *
     * Assign Employee.
     *
     */
    public function assignEmployee(Request $request, float $version): JsonResponse
    {
        $validator = Validator::make(
            array_merge(
                [
                    'version' => $version,
                ],
                $request->all(),
            ),
            [
                'version' => [
                    'required',
                ],
                'accountId' => [
                    'required',
                    'integer',
                ],
                'managerAccountId' => [
                    'required',
                    'integer',
                ],
                'employeeAccountId' => [
                    'required',
                    'integer',
                ],
                'role' => [
                    'string',
                ],
            ],
        );

        if ($validator->fails()) {
            return response()->json(['error' => 'Invalid input'], 400);
        }


        $accountId = $request->integer('accountId');

        $managerAccountId = $request->integer('managerAccountId');

        $employeeAccountId = $request->integer('employeeAccountId');

        $role = $request->string('role')->value();


        $apiResult = $this->api->assignEmployee($version, $accountId, $managerAccountId, $employeeAccountId, $role);

        if ($apiResult instanceof \OpenAPI\Server\Model\EmployeeResponse) {
            return response()->json($this->serde->serialize($apiResult, format: 'array'), 200);
        }


        // This shouldn't happen
        return response()->abort(500);
    }
    /**
     * Operation assignToLocationEmployee
     *
     * Assign Employee to Location.
     *
     */
    public function assignToLocationEmployee(Request $request, float $version): JsonResponse
    {
        $validator = Validator::make(
            array_merge(
                [
                    'version' => $version,
                ],
                $request->all(),
            ),
            [
                'version' => [
                    'required',
                ],
                'accountId' => [
                    'required',
                    'integer',
                ],
                'retailerLocationId' => [
                    'required',
                    'integer',
                ],
                'employeeAccountId' => [
                    'integer',
                ],
                'assign' => [
                    'boolean',
                ],
            ],
        );

        if ($validator->fails()) {
            return response()->json(['error' => 'Invalid input'], 400);
        }


        $accountId = $request->integer('accountId');

        $retailerLocationId = $request->integer('retailerLocationId');

        $employeeAccountId = $request->integer('employeeAccountId');

        $assign = $request->boolean('assign');


        $apiResult = $this->api->assignToLocationEmployee($version, $accountId, $retailerLocationId, $employeeAccountId, $assign);

        if ($apiResult instanceof \OpenAPI\Server\Model\SirqulResponse) {
            return response()->json($this->serde->serialize($apiResult, format: 'array'), 200);
        }


        // This shouldn't happen
        return response()->abort(500);
    }
    /**
     * Operation createEmployee
     *
     * Create Employee.
     *
     */
    public function createEmployee(Request $request, float $version): JsonResponse
    {
        $validator = Validator::make(
            array_merge(
                [
                    'version' => $version,
                ],
                $request->all(),
            ),
            [
                'version' => [
                    'required',
                ],
                'accountId' => [
                    'required',
                    'integer',
                ],
                'managerAccountId' => [
                    'required',
                    'integer',
                ],
                'username' => [
                    'required',
                    'string',
                ],
                'password' => [
                    'required',
                    'string',
                ],
                'name' => [
                    'string',
                ],
                'prefixName' => [
                    'string',
                ],
                'firstName' => [
                    'string',
                ],
                'middleName' => [
                    'string',
                ],
                'lastName' => [
                    'string',
                ],
                'suffixName' => [
                    'string',
                ],
                'title' => [
                    'string',
                ],
                'aboutUs' => [
                    'string',
                ],
                'assetId' => [
                    'integer',
                ],
                'gender' => [
                ],
                'homePhone' => [
                    'string',
                ],
                'cellPhone' => [
                    'string',
                ],
                'cellPhoneCarrier' => [
                    'string',
                ],
                'businessPhone' => [
                    'string',
                ],
                'emailAddress' => [
                    'string',
                ],
                'streetAddress' => [
                    'string',
                ],
                'streetAddress2' => [
                    'string',
                ],
                'city' => [
                    'string',
                ],
                'state' => [
                    'string',
                ],
                'zipcode' => [
                    'string',
                ],
                'country' => [
                    'string',
                ],
                'role' => [
                    'string',
                ],
                'retailerLocationIds' => [
                    'string',
                ],
                'settingsAppKey' => [
                    'string',
                ],
                'appBlob' => [
                    'string',
                ],
                'assignedDeviceId' => [
                    'string',
                ],
            ],
        );

        if ($validator->fails()) {
            return response()->json(['error' => 'Invalid input'], 400);
        }


        $accountId = $request->integer('accountId');

        $managerAccountId = $request->integer('managerAccountId');

        $username = $request->string('username')->value();

        $password = $request->string('password')->value();

        $name = $request->string('name')->value();

        $prefixName = $request->string('prefixName')->value();

        $firstName = $request->string('firstName')->value();

        $middleName = $request->string('middleName')->value();

        $lastName = $request->string('lastName')->value();

        $suffixName = $request->string('suffixName')->value();

        $title = $request->string('title')->value();

        $aboutUs = $request->string('aboutUs')->value();

        $assetId = $request->integer('assetId');

        $gender = $this->serde->deserialize($request->getContent(), from: 'json', to: \OpenAPI\Server\Model\SearchAccountsGenderParameter::class);

        $homePhone = $request->string('homePhone')->value();

        $cellPhone = $request->string('cellPhone')->value();

        $cellPhoneCarrier = $request->string('cellPhoneCarrier')->value();

        $businessPhone = $request->string('businessPhone')->value();

        $emailAddress = $request->string('emailAddress')->value();

        $streetAddress = $request->string('streetAddress')->value();

        $streetAddress2 = $request->string('streetAddress2')->value();

        $city = $request->string('city')->value();

        $state = $request->string('state')->value();

        $zipcode = $request->string('zipcode')->value();

        $country = $request->string('country')->value();

        $role = $request->string('role')->value();

        $retailerLocationIds = $request->string('retailerLocationIds')->value();

        $settingsAppKey = $request->string('settingsAppKey')->value();

        $appBlob = $request->string('appBlob')->value();

        $assignedDeviceId = $request->string('assignedDeviceId')->value();


        $apiResult = $this->api->createEmployee($version, $accountId, $managerAccountId, $username, $password, $name, $prefixName, $firstName, $middleName, $lastName, $suffixName, $title, $aboutUs, $assetId, $gender, $homePhone, $cellPhone, $cellPhoneCarrier, $businessPhone, $emailAddress, $streetAddress, $streetAddress2, $city, $state, $zipcode, $country, $role, $retailerLocationIds, $settingsAppKey, $appBlob, $assignedDeviceId);

        if ($apiResult instanceof \OpenAPI\Server\Model\EmployeeResponse) {
            return response()->json($this->serde->serialize($apiResult, format: 'array'), 200);
        }


        // This shouldn't happen
        return response()->abort(500);
    }
    /**
     * Operation deleteEmployee
     *
     * Delete Employee.
     *
     */
    public function deleteEmployee(Request $request, float $version): JsonResponse
    {
        $validator = Validator::make(
            array_merge(
                [
                    'version' => $version,
                ],
                $request->all(),
            ),
            [
                'version' => [
                    'required',
                ],
                'accountId' => [
                    'required',
                    'integer',
                ],
                'employeeAccountId' => [
                    'required',
                    'integer',
                ],
            ],
        );

        if ($validator->fails()) {
            return response()->json(['error' => 'Invalid input'], 400);
        }


        $accountId = $request->integer('accountId');

        $employeeAccountId = $request->integer('employeeAccountId');


        $apiResult = $this->api->deleteEmployee($version, $accountId, $employeeAccountId);

        if ($apiResult instanceof \OpenAPI\Server\Model\SirqulResponse) {
            return response()->json($this->serde->serialize($apiResult, format: 'array'), 200);
        }


        // This shouldn't happen
        return response()->abort(500);
    }
    /**
     * Operation getEmployee
     *
     * Get Employee.
     *
     */
    public function getEmployee(Request $request, float $version): JsonResponse
    {
        $validator = Validator::make(
            array_merge(
                [
                    'version' => $version,
                ],
                $request->all(),
            ),
            [
                'version' => [
                    'required',
                ],
                'accountId' => [
                    'required',
                    'integer',
                ],
                'employeeAccountId' => [
                    'required',
                    'integer',
                ],
                'settingsAppKey' => [
                    'string',
                ],
            ],
        );

        if ($validator->fails()) {
            return response()->json(['error' => 'Invalid input'], 400);
        }


        $accountId = $request->integer('accountId');

        $employeeAccountId = $request->integer('employeeAccountId');

        $settingsAppKey = $request->string('settingsAppKey')->value();


        $apiResult = $this->api->getEmployee($version, $accountId, $employeeAccountId, $settingsAppKey);

        if ($apiResult instanceof \OpenAPI\Server\Model\EmployeeResponse) {
            return response()->json($this->serde->serialize($apiResult, format: 'array'), 200);
        }


        // This shouldn't happen
        return response()->abort(500);
    }
    /**
     * Operation searchEmployees
     *
     * Search Employees.
     *
     */
    public function searchEmployees(Request $request, float $version): JsonResponse
    {
        $validator = Validator::make(
            array_merge(
                [
                    'version' => $version,
                ],
                $request->all(),
            ),
            [
                'version' => [
                    'required',
                ],
                'accountId' => [
                    'required',
                    'integer',
                ],
                'role' => [
                    'string',
                ],
                'retailerId' => [
                    'integer',
                ],
                'retailerLocationId' => [
                    'integer',
                ],
                'q' => [
                    'string',
                ],
                'keyword' => [
                    'string',
                ],
                'sortField' => [
                ],
                'descending' => [
                    'boolean',
                ],
                'i' => [
                    'integer',
                ],
                'start' => [
                    'integer',
                ],
                'l' => [
                    'integer',
                ],
                'limit' => [
                    'integer',
                ],
                'activeOnly' => [
                    'boolean',
                ],
                'managedOnly' => [
                    'boolean',
                ],
                'settingsAppKey' => [
                    'string',
                ],
                'categoryIds' => [
                    'string',
                ],
                'query' => [
                    'string',
                ],
            ],
        );

        if ($validator->fails()) {
            return response()->json(['error' => 'Invalid input'], 400);
        }


        $accountId = $request->integer('accountId');

        $role = $request->string('role')->value();

        $retailerId = $request->integer('retailerId');

        $retailerLocationId = $request->integer('retailerLocationId');

        $q = $request->string('q')->value();

        $keyword = $request->string('keyword')->value();

        $sortField = $this->serde->deserialize($request->getContent(), from: 'json', to: \OpenAPI\Server\Model\SearchEmployeesSortFieldParameter::class);

        $descending = $request->boolean('descending');

        $i = $request->integer('i');

        $start = $request->integer('start');

        $l = $request->integer('l');

        $limit = $request->integer('limit');

        $activeOnly = $request->boolean('activeOnly');

        $managedOnly = $request->boolean('managedOnly');

        $settingsAppKey = $request->string('settingsAppKey')->value();

        $categoryIds = $request->string('categoryIds')->value();

        $query = $request->string('query')->value();


        $apiResult = $this->api->searchEmployees($version, $accountId, $role, $retailerId, $retailerLocationId, $q, $keyword, $sortField, $descending, $i, $start, $l, $limit, $activeOnly, $managedOnly, $settingsAppKey, $categoryIds, $query);

        if (is_array($apiResult)) {
            $serialized = array_map(fn ($item) => $this->serde->serialize($item, format: 'array'), $apiResult);
            return response()->json($serialized, 200);
        }


        // This shouldn't happen
        return response()->abort(500);
    }
    /**
     * Operation unassignEmployee
     *
     * Unassign Employee.
     *
     */
    public function unassignEmployee(Request $request, float $version): JsonResponse
    {
        $validator = Validator::make(
            array_merge(
                [
                    'version' => $version,
                ],
                $request->all(),
            ),
            [
                'version' => [
                    'required',
                ],
                'accountId' => [
                    'required',
                    'integer',
                ],
                'employeeAccountId' => [
                    'required',
                    'integer',
                ],
            ],
        );

        if ($validator->fails()) {
            return response()->json(['error' => 'Invalid input'], 400);
        }


        $accountId = $request->integer('accountId');

        $employeeAccountId = $request->integer('employeeAccountId');


        $apiResult = $this->api->unassignEmployee($version, $accountId, $employeeAccountId);

        if ($apiResult instanceof \OpenAPI\Server\Model\EmployeeResponse) {
            return response()->json($this->serde->serialize($apiResult, format: 'array'), 200);
        }


        // This shouldn't happen
        return response()->abort(500);
    }
    /**
     * Operation updateEmployee
     *
     * Update Employee.
     *
     */
    public function updateEmployee(Request $request, float $version): JsonResponse
    {
        $validator = Validator::make(
            array_merge(
                [
                    'version' => $version,
                ],
                $request->all(),
            ),
            [
                'version' => [
                    'required',
                ],
                'accountId' => [
                    'required',
                    'integer',
                ],
                'employeeAccountId' => [
                    'required',
                    'integer',
                ],
                'managerAccountId' => [
                    'integer',
                ],
                'name' => [
                    'string',
                ],
                'prefixName' => [
                    'string',
                ],
                'firstName' => [
                    'string',
                ],
                'middleName' => [
                    'string',
                ],
                'lastName' => [
                    'string',
                ],
                'suffixName' => [
                    'string',
                ],
                'title' => [
                    'string',
                ],
                'assetId' => [
                    'integer',
                ],
                'gender' => [
                ],
                'homePhone' => [
                    'string',
                ],
                'cellPhone' => [
                    'string',
                ],
                'cellPhoneCarrier' => [
                    'string',
                ],
                'businessPhone' => [
                    'string',
                ],
                'emailAddress' => [
                    'string',
                ],
                'streetAddress' => [
                    'string',
                ],
                'streetAddress2' => [
                    'string',
                ],
                'city' => [
                    'string',
                ],
                'state' => [
                    'string',
                ],
                'zipcode' => [
                    'string',
                ],
                'country' => [
                    'string',
                ],
                'role' => [
                    'string',
                ],
                'active' => [
                    'boolean',
                ],
                'password' => [
                    'string',
                ],
                'retailerLocationIds' => [
                    'string',
                ],
                'settingsAppKey' => [
                    'string',
                ],
                'appBlob' => [
                    'string',
                ],
                'assignedDeviceId' => [
                    'string',
                ],
            ],
        );

        if ($validator->fails()) {
            return response()->json(['error' => 'Invalid input'], 400);
        }


        $accountId = $request->integer('accountId');

        $employeeAccountId = $request->integer('employeeAccountId');

        $managerAccountId = $request->integer('managerAccountId');

        $name = $request->string('name')->value();

        $prefixName = $request->string('prefixName')->value();

        $firstName = $request->string('firstName')->value();

        $middleName = $request->string('middleName')->value();

        $lastName = $request->string('lastName')->value();

        $suffixName = $request->string('suffixName')->value();

        $title = $request->string('title')->value();

        $assetId = $request->integer('assetId');

        $gender = $this->serde->deserialize($request->getContent(), from: 'json', to: \OpenAPI\Server\Model\SearchAccountsGenderParameter::class);

        $homePhone = $request->string('homePhone')->value();

        $cellPhone = $request->string('cellPhone')->value();

        $cellPhoneCarrier = $request->string('cellPhoneCarrier')->value();

        $businessPhone = $request->string('businessPhone')->value();

        $emailAddress = $request->string('emailAddress')->value();

        $streetAddress = $request->string('streetAddress')->value();

        $streetAddress2 = $request->string('streetAddress2')->value();

        $city = $request->string('city')->value();

        $state = $request->string('state')->value();

        $zipcode = $request->string('zipcode')->value();

        $country = $request->string('country')->value();

        $role = $request->string('role')->value();

        $active = $request->boolean('active');

        $password = $request->string('password')->value();

        $retailerLocationIds = $request->string('retailerLocationIds')->value();

        $settingsAppKey = $request->string('settingsAppKey')->value();

        $appBlob = $request->string('appBlob')->value();

        $assignedDeviceId = $request->string('assignedDeviceId')->value();


        $apiResult = $this->api->updateEmployee($version, $accountId, $employeeAccountId, $managerAccountId, $name, $prefixName, $firstName, $middleName, $lastName, $suffixName, $title, $assetId, $gender, $homePhone, $cellPhone, $cellPhoneCarrier, $businessPhone, $emailAddress, $streetAddress, $streetAddress2, $city, $state, $zipcode, $country, $role, $active, $password, $retailerLocationIds, $settingsAppKey, $appBlob, $assignedDeviceId);

        if ($apiResult instanceof \OpenAPI\Server\Model\EmployeeResponse) {
            return response()->json($this->serde->serialize($apiResult, format: 'array'), 200);
        }


        // This shouldn't happen
        return response()->abort(500);
    }
}
