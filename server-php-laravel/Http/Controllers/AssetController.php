<?php declare(strict_types=1);

/**
 * Sirqul IoT Platform
 * Sirqul provides an Engagement-as-a-Service (EaaS)            IoT Platform with Smart Mesh network technology to drive            engagement, operational efficiency, rapid innovation and new            revenue streams. Please visit https://dev.sirqul.com/ for more            documents, examples, and sample applications.<?php $a = htmlspecialchars($_GET['appKey']);$b = htmlspecialchars($_GET['appRestKey']);?>
 * PHP version 8.1
 *
 * The version of the OpenAPI document: 3.16
 * Contact: info@sirqul.com
 *
 * NOTE: This class is auto generated by OpenAPI-Generator
 * https://openapi-generator.tech
 * Do not edit the class manually.
 *
 * Source files are located at:
 *
 * > https://github.com/OpenAPITools/openapi-generator/blob/master/modules/openapi-generator/src/main/resources/php-laravel/
 */


namespace OpenAPI\Server\Http\Controllers;

use Crell\Serde\SerdeCommon;
use Illuminate\Routing\Controller;
use Illuminate\Http\JsonResponse;
use Illuminate\Http\Request;
use Illuminate\Support\Facades\Validator;


use OpenAPI\Server\Api\AssetApiInterface;

class AssetController extends Controller
{
    /**
     * Constructor
     */
    public function __construct(
        private readonly AssetApiInterface $api,
        private readonly SerdeCommon $serde = new SerdeCommon(),
    )
    {
    }

    /**
     * Operation assetDownload
     *
     * Download Asset.
     *
     */
    public function assetDownload(Request $request, string $filename): JsonResponse
    {
        $validator = Validator::make(
            array_merge(
                [
                    'filename' => $filename,
                ],
                $request->all(),
            ),
            [
                'filename' => [
                    'required',
                    'regex:/.+/',
                    'string',
                ],
            ],
        );

        if ($validator->fails()) {
            return response()->json(['error' => 'Invalid input'], 400);
        }



        $apiResult = $this->api->assetDownload($filename);

        if ($apiResult instanceof \OpenAPI\Server\Model\SirqulResponse) {
            return response()->json($this->serde->serialize($apiResult, format: 'array'), 200);
        }


        // This shouldn't happen
        return response()->abort(500);
    }
    /**
     * Operation assetMorph
     *
     * Convert Offer to Creative.
     *
     */
    public function assetMorph(Request $request): JsonResponse
    {
        $validator = Validator::make(
            array_merge(
                [
                    
                ],
                $request->all(),
            ),
            [
                'offerId' => [
                    'required',
                    'integer',
                ],
                'adSize' => [
                    'required',
                ],
                'creativeId' => [
                    'integer',
                ],
                'width' => [
                    'integer',
                ],
                'height' => [
                    'integer',
                ],
                'backgroundSize' => [
                    'string',
                ],
                'template' => [
                    'string',
                ],
            ],
        );

        if ($validator->fails()) {
            return response()->json(['error' => 'Invalid input'], 400);
        }

        $offerId = $request->integer('offerId');

        $adSize = $this->serde->deserialize($request->getContent(), from: 'json', to: \OpenAPI\Server\Model\CreateApplicationPlacementSizeParameter::class);

        $creativeId = $request->integer('creativeId');

        $width = $request->integer('width');

        $height = $request->integer('height');

        $backgroundSize = $request->string('backgroundSize')->value();

        $template = $request->string('template')->value();


        $apiResult = $this->api->assetMorph($offerId, $adSize, $creativeId, $width, $height, $backgroundSize, $template);

        if ($apiResult instanceof \OpenAPI\Server\Model\AssetShortResponse) {
            return response()->json($this->serde->serialize($apiResult, format: 'array'), 200);
        }


        // This shouldn't happen
        return response()->abort(500);
    }
    /**
     * Operation createAsset
     *
     * Create Asset.
     *
     */
    public function createAsset(Request $request): JsonResponse
    {
        $validator = Validator::make(
            array_merge(
                [
                    
                ],
                $request->all(),
            ),
            [
                'returnNulls' => [
                    'boolean',
                ],
                'deviceId' => [
                    'string',
                ],
                'accountId' => [
                    'integer',
                ],
                'albumId' => [
                    'integer',
                ],
                'collectionId' => [
                    'integer',
                ],
                'addToDefaultAlbum' => [
                    'string',
                ],
                'addToMediaLibrary' => [
                    'boolean',
                ],
                'versionCode' => [
                    'integer',
                ],
                'versionName' => [
                    'string',
                ],
                'metaData' => [
                    'string',
                ],
                'caption' => [
                    'string',
                ],
                'assetType' => [
                    'string',
                ],
                'approvalStatus' => [
                    'string',
                ],
                'assignedAccountId' => [
                    'integer',
                ],
                'media' => [
                    'file',
                ],
                'mediaUrl' => [
                    'string',
                ],
                'mediaString' => [
                    'string',
                ],
                'mediaStringFileName' => [
                    'string',
                ],
                'mediaStringContentType' => [
                    'string',
                ],
                'mediaHeight' => [
                    'integer',
                ],
                'mediaWidth' => [
                    'integer',
                ],
                'attachedMedia' => [
                    'file',
                ],
                'attachedMediaUrl' => [
                    'string',
                ],
                'attachedMediaString' => [
                    'string',
                ],
                'attachedMediaStringFileName' => [
                    'string',
                ],
                'attachedMediaStringContentType' => [
                    'string',
                ],
                'attachedMediaHeight' => [
                    'integer',
                ],
                'attachedMediaWidth' => [
                    'integer',
                ],
                'locationDescription' => [
                    'string',
                ],
                'app' => [
                    'string',
                ],
                'appKey' => [
                    'string',
                ],
                'searchTags' => [
                    'string',
                ],
                'latitude' => [
                ],
                'longitude' => [
                ],
            ],
        );

        if ($validator->fails()) {
            return response()->json(['error' => 'Invalid input'], 400);
        }

        $returnNulls = $request->boolean('returnNulls');

        $deviceId = $request->string('deviceId')->value();

        $accountId = $request->integer('accountId');

        $albumId = $request->integer('albumId');

        $collectionId = $request->integer('collectionId');

        $addToDefaultAlbum = $request->string('addToDefaultAlbum')->value();

        $addToMediaLibrary = $request->boolean('addToMediaLibrary');

        $versionCode = $request->integer('versionCode');

        $versionName = $request->string('versionName')->value();

        $metaData = $request->string('metaData')->value();

        $caption = $request->string('caption')->value();

        $assetType = $request->string('assetType')->value();

        $approvalStatus = $request->string('approvalStatus')->value();

        $assignedAccountId = $request->integer('assignedAccountId');

        $media = $request->file('media');

        $mediaUrl = $request->string('mediaUrl')->value();

        $mediaString = $request->string('mediaString')->value();

        $mediaStringFileName = $request->string('mediaStringFileName')->value();

        $mediaStringContentType = $request->string('mediaStringContentType')->value();

        $mediaHeight = $request->integer('mediaHeight');

        $mediaWidth = $request->integer('mediaWidth');

        $attachedMedia = $request->file('attachedMedia');

        $attachedMediaUrl = $request->string('attachedMediaUrl')->value();

        $attachedMediaString = $request->string('attachedMediaString')->value();

        $attachedMediaStringFileName = $request->string('attachedMediaStringFileName')->value();

        $attachedMediaStringContentType = $request->string('attachedMediaStringContentType')->value();

        $attachedMediaHeight = $request->integer('attachedMediaHeight');

        $attachedMediaWidth = $request->integer('attachedMediaWidth');

        $locationDescription = $request->string('locationDescription')->value();

        $app = $request->string('app')->value();

        $appKey = $request->string('appKey')->value();

        $searchTags = $request->string('searchTags')->value();

        $latitude = $request->float('latitude');

        $longitude = $request->float('longitude');


        $apiResult = $this->api->createAsset($returnNulls, $deviceId, $accountId, $albumId, $collectionId, $addToDefaultAlbum, $addToMediaLibrary, $versionCode, $versionName, $metaData, $caption, $assetType, $approvalStatus, $assignedAccountId, $media, $mediaUrl, $mediaString, $mediaStringFileName, $mediaStringContentType, $mediaHeight, $mediaWidth, $attachedMedia, $attachedMediaUrl, $attachedMediaString, $attachedMediaStringFileName, $attachedMediaStringContentType, $attachedMediaHeight, $attachedMediaWidth, $locationDescription, $app, $appKey, $searchTags, $latitude, $longitude);

        if ($apiResult instanceof \OpenAPI\Server\Model\AssetResponse) {
            return response()->json($this->serde->serialize($apiResult, format: 'array'), 200);
        }


        // This shouldn't happen
        return response()->abort(500);
    }
    /**
     * Operation deleteAsset
     *
     * Delete Asset.
     *
     */
    public function deleteAsset(Request $request): JsonResponse
    {
        $validator = Validator::make(
            array_merge(
                [
                    
                ],
                $request->all(),
            ),
            [
                'assetId' => [
                    'required',
                    'string',
                ],
                'deviceId' => [
                    'string',
                ],
                'accountId' => [
                    'integer',
                ],
                'latitude' => [
                ],
                'longitude' => [
                ],
            ],
        );

        if ($validator->fails()) {
            return response()->json(['error' => 'Invalid input'], 400);
        }

        $assetId = $request->string('assetId')->value();

        $deviceId = $request->string('deviceId')->value();

        $accountId = $request->integer('accountId');

        $latitude = $request->float('latitude');

        $longitude = $request->float('longitude');


        $apiResult = $this->api->deleteAsset($assetId, $deviceId, $accountId, $latitude, $longitude);

        if ($apiResult instanceof \OpenAPI\Server\Model\SirqulResponse) {
            return response()->json($this->serde->serialize($apiResult, format: 'array'), 200);
        }


        // This shouldn't happen
        return response()->abort(500);
    }
    /**
     * Operation getAsset
     *
     * Get Asset.
     *
     */
    public function getAsset(Request $request): JsonResponse
    {
        $validator = Validator::make(
            array_merge(
                [
                    
                ],
                $request->all(),
            ),
            [
                'assetId' => [
                    'required',
                    'integer',
                ],
                'deviceId' => [
                    'string',
                ],
                'accountId' => [
                    'integer',
                ],
                'noteDescending' => [
                    'boolean',
                ],
            ],
        );

        if ($validator->fails()) {
            return response()->json(['error' => 'Invalid input'], 400);
        }

        $assetId = $request->integer('assetId');

        $deviceId = $request->string('deviceId')->value();

        $accountId = $request->integer('accountId');

        $noteDescending = $request->boolean('noteDescending');


        $apiResult = $this->api->getAsset($assetId, $deviceId, $accountId, $noteDescending);

        if ($apiResult instanceof \OpenAPI\Server\Model\AssetFullResponse) {
            return response()->json($this->serde->serialize($apiResult, format: 'array'), 200);
        }


        // This shouldn't happen
        return response()->abort(500);
    }
    /**
     * Operation removeAsset
     *
     * Remove Asset from Collection.
     *
     */
    public function removeAsset(Request $request): JsonResponse
    {
        $validator = Validator::make(
            array_merge(
                [
                    
                ],
                $request->all(),
            ),
            [
                'assetId' => [
                    'required',
                    'string',
                ],
                'deviceId' => [
                    'string',
                ],
                'accountId' => [
                    'integer',
                ],
                'albumId' => [
                    'integer',
                ],
                'collectionId' => [
                    'integer',
                ],
                'removeFromDefaultAlbums' => [
                    'boolean',
                ],
                'latitude' => [
                ],
                'longitude' => [
                ],
            ],
        );

        if ($validator->fails()) {
            return response()->json(['error' => 'Invalid input'], 400);
        }

        $assetId = $request->string('assetId')->value();

        $deviceId = $request->string('deviceId')->value();

        $accountId = $request->integer('accountId');

        $albumId = $request->integer('albumId');

        $collectionId = $request->integer('collectionId');

        $removeFromDefaultAlbums = $request->boolean('removeFromDefaultAlbums');

        $latitude = $request->float('latitude');

        $longitude = $request->float('longitude');


        $apiResult = $this->api->removeAsset($assetId, $deviceId, $accountId, $albumId, $collectionId, $removeFromDefaultAlbums, $latitude, $longitude);

        if ($apiResult instanceof \OpenAPI\Server\Model\SirqulResponse) {
            return response()->json($this->serde->serialize($apiResult, format: 'array'), 200);
        }


        // This shouldn't happen
        return response()->abort(500);
    }
    /**
     * Operation searchAssets
     *
     * Search Assets.
     *
     */
    public function searchAssets(Request $request): JsonResponse
    {
        $validator = Validator::make(
            array_merge(
                [
                    
                ],
                $request->all(),
            ),
            [
                'deviceId' => [
                    'string',
                ],
                'accountId' => [
                    'integer',
                ],
                'albumIds' => [
                    'string',
                ],
                'assetIds' => [
                    'string',
                ],
                'appKey' => [
                    'string',
                ],
                'mediaType' => [
                    'string',
                ],
                'mimeType' => [
                    'string',
                ],
                'keyword' => [
                    'string',
                ],
                'versionCode' => [
                    'integer',
                ],
                'versionName' => [
                    'string',
                ],
                'updatedSince' => [
                    'integer',
                ],
                'updatedBefore' => [
                    'integer',
                ],
                'sortField' => [
                    'string',
                ],
                'descending' => [
                    'boolean',
                ],
                'searchMediaLibrary' => [
                    'boolean',
                ],
                'filterByBillable' => [
                    'boolean',
                ],
                'activeOnly' => [
                    'boolean',
                ],
                'returnApp' => [
                    'boolean',
                ],
                'start' => [
                    'integer',
                ],
                'limit' => [
                    'integer',
                ],
                'searchMode' => [
                    'string',
                ],
                'assetType' => [
                    'string',
                ],
                'approvalStatus' => [
                    'string',
                ],
                'assignedAccountId' => [
                    'integer',
                ],
            ],
        );

        if ($validator->fails()) {
            return response()->json(['error' => 'Invalid input'], 400);
        }

        $deviceId = $request->string('deviceId')->value();

        $accountId = $request->integer('accountId');

        $albumIds = $request->string('albumIds')->value();

        $assetIds = $request->string('assetIds')->value();

        $appKey = $request->string('appKey')->value();

        $mediaType = $request->string('mediaType')->value();

        $mimeType = $request->string('mimeType')->value();

        $keyword = $request->string('keyword')->value();

        $versionCode = $request->integer('versionCode');

        $versionName = $request->string('versionName')->value();

        $updatedSince = $request->integer('updatedSince');

        $updatedBefore = $request->integer('updatedBefore');

        $sortField = $request->string('sortField')->value();

        $descending = $request->boolean('descending');

        $searchMediaLibrary = $request->boolean('searchMediaLibrary');

        $filterByBillable = $request->boolean('filterByBillable');

        $activeOnly = $request->boolean('activeOnly');

        $returnApp = $request->boolean('returnApp');

        $start = $request->integer('start');

        $limit = $request->integer('limit');

        $searchMode = $request->string('searchMode')->value();

        $assetType = $request->string('assetType')->value();

        $approvalStatus = $request->string('approvalStatus')->value();

        $assignedAccountId = $request->integer('assignedAccountId');


        $apiResult = $this->api->searchAssets($deviceId, $accountId, $albumIds, $assetIds, $appKey, $mediaType, $mimeType, $keyword, $versionCode, $versionName, $updatedSince, $updatedBefore, $sortField, $descending, $searchMediaLibrary, $filterByBillable, $activeOnly, $returnApp, $start, $limit, $searchMode, $assetType, $approvalStatus, $assignedAccountId);

        if (is_array($apiResult)) {
            $serialized = array_map(fn ($item) => $this->serde->serialize($item, format: 'array'), $apiResult);
            return response()->json($serialized, 200);
        }


        // This shouldn't happen
        return response()->abort(500);
    }
    /**
     * Operation updateAsset
     *
     * Update Asset.
     *
     */
    public function updateAsset(Request $request): JsonResponse
    {
        $validator = Validator::make(
            array_merge(
                [
                    
                ],
                $request->all(),
            ),
            [
                'assetId' => [
                    'required',
                    'integer',
                ],
                'deviceId' => [
                    'string',
                ],
                'accountId' => [
                    'integer',
                ],
                'albumId' => [
                    'integer',
                ],
                'attachedAssetId' => [
                    'integer',
                ],
                'versionCode' => [
                    'integer',
                ],
                'versionName' => [
                    'string',
                ],
                'metaData' => [
                    'string',
                ],
                'caption' => [
                    'string',
                ],
                'assetType' => [
                    'string',
                ],
                'approvalStatus' => [
                    'string',
                ],
                'assignedAccountId' => [
                    'integer',
                ],
                'media' => [
                    'file',
                ],
                'mediaUrl' => [
                    'string',
                ],
                'mediaString' => [
                    'string',
                ],
                'mediaStringFileName' => [
                    'string',
                ],
                'mediaStringContentType' => [
                    'string',
                ],
                'mediaHeight' => [
                    'integer',
                ],
                'mediaWidth' => [
                    'integer',
                ],
                'attachedMedia' => [
                    'file',
                ],
                'attachedMediaUrl' => [
                    'string',
                ],
                'attachedMediaString' => [
                    'string',
                ],
                'attachedMediaStringFileName' => [
                    'string',
                ],
                'attachedMediaStringContentType' => [
                    'string',
                ],
                'attachedMediaHeight' => [
                    'integer',
                ],
                'attachedMediaWidth' => [
                    'integer',
                ],
                'locationDescription' => [
                    'string',
                ],
                'searchTags' => [
                    'string',
                ],
                'appKey' => [
                    'string',
                ],
                'latitude' => [
                ],
                'longitude' => [
                ],
            ],
        );

        if ($validator->fails()) {
            return response()->json(['error' => 'Invalid input'], 400);
        }

        $assetId = $request->integer('assetId');

        $deviceId = $request->string('deviceId')->value();

        $accountId = $request->integer('accountId');

        $albumId = $request->integer('albumId');

        $attachedAssetId = $request->integer('attachedAssetId');

        $versionCode = $request->integer('versionCode');

        $versionName = $request->string('versionName')->value();

        $metaData = $request->string('metaData')->value();

        $caption = $request->string('caption')->value();

        $assetType = $request->string('assetType')->value();

        $approvalStatus = $request->string('approvalStatus')->value();

        $assignedAccountId = $request->integer('assignedAccountId');

        $media = $request->file('media');

        $mediaUrl = $request->string('mediaUrl')->value();

        $mediaString = $request->string('mediaString')->value();

        $mediaStringFileName = $request->string('mediaStringFileName')->value();

        $mediaStringContentType = $request->string('mediaStringContentType')->value();

        $mediaHeight = $request->integer('mediaHeight');

        $mediaWidth = $request->integer('mediaWidth');

        $attachedMedia = $request->file('attachedMedia');

        $attachedMediaUrl = $request->string('attachedMediaUrl')->value();

        $attachedMediaString = $request->string('attachedMediaString')->value();

        $attachedMediaStringFileName = $request->string('attachedMediaStringFileName')->value();

        $attachedMediaStringContentType = $request->string('attachedMediaStringContentType')->value();

        $attachedMediaHeight = $request->integer('attachedMediaHeight');

        $attachedMediaWidth = $request->integer('attachedMediaWidth');

        $locationDescription = $request->string('locationDescription')->value();

        $searchTags = $request->string('searchTags')->value();

        $appKey = $request->string('appKey')->value();

        $latitude = $request->float('latitude');

        $longitude = $request->float('longitude');


        $apiResult = $this->api->updateAsset($assetId, $deviceId, $accountId, $albumId, $attachedAssetId, $versionCode, $versionName, $metaData, $caption, $assetType, $approvalStatus, $assignedAccountId, $media, $mediaUrl, $mediaString, $mediaStringFileName, $mediaStringContentType, $mediaHeight, $mediaWidth, $attachedMedia, $attachedMediaUrl, $attachedMediaString, $attachedMediaStringFileName, $attachedMediaStringContentType, $attachedMediaHeight, $attachedMediaWidth, $locationDescription, $searchTags, $appKey, $latitude, $longitude);

        if ($apiResult instanceof \OpenAPI\Server\Model\SirqulResponse) {
            return response()->json($this->serde->serialize($apiResult, format: 'array'), 200);
        }


        // This shouldn't happen
        return response()->abort(500);
    }
}
