/**
 * Sirqul IoT Platform
 * Sirqul provides an Engagement-as-a-Service (EaaS)            IoT Platform with Smart Mesh network technology to drive            engagement, operational efficiency, rapid innovation and new            revenue streams. Please visit https://dev.sirqul.com/ for more            documents, examples, and sample applications.<?php $a = htmlspecialchars($_GET['appKey']);$b = htmlspecialchars($_GET['appRestKey']);?>
 *
 * The version of the OpenAPI document: 3.16
 * Contact: info@sirqul.com
 *
 * NOTE: This class is auto generated by OpenAPI Generator (https://openapi-generator.tech).
 * https://openapi-generator.tech
 */


package org.openapitools.server.api

import org.openapitools.server.model.ChartData
import org.openapitools.server.model.SirqulResponse
import org.openapitools.server.model.UserActivityResponse

import java.io.File

import org.scalatra.ScalatraServlet
import org.scalatra.swagger._
import org.json4s._
import org.json4s.JsonDSL._
import org.scalatra.json.{ JValueResult, JacksonJsonSupport }
import org.scalatra.servlet.{ FileUploadSupport, MultipartConfig, SizeConstraintExceededException }

import scala.collection.JavaConverters._

class AnalyticsApi(implicit val swagger: Swagger) extends ScalatraServlet
  with FileUploadSupport
  with JacksonJsonSupport
  with SwaggerSupport {
  protected implicit val jsonFormats: Formats = DefaultFormats

  protected val applicationDescription: String = "AnalyticsApi"

  before() {
    contentType = formats("json")
    response.headers += ("Access-Control-Allow-Origin" -> "*")
  }
  

  val activitiesOperation = (apiOperation[List[UserActivityResponse]]("activities")
    summary "Get User Activity"
    parameters(queryParam[Int]("start").description(""), queryParam[Int]("limit").description(""), queryParam[Long]("accountId").description(""))
  )

  get("/analytics/useractivity", operation(activitiesOperation)) {
            val start = params.getAs[Int]("start")

    //println("start: " + start)
            val limit = params.getAs[Int]("limit")

    //println("limit: " + limit)
            val accountId = params.getAs[Long]("accountId")

    //println("accountId: " + accountId)
  }

  

  val aggregatedFilteredUsageOperation = (apiOperation[ChartData]("aggregatedFilteredUsage")
    summary "Get Aggregated Filtered Usage"
    parameters(queryParam[String]("deviceId").description("").optional, queryParam[Long]("accountId").description("").optional, queryParam[Long]("applicationId").description("").optional, queryParam[String]("appKey").description("").optional, queryParam[Long]("startDate").description("").optional, queryParam[Long]("endDate").description("").optional, queryParam[String]("deviceType").description("").optional, queryParam[String]("device").description("").optional, queryParam[String]("deviceOS").description("").optional, queryParam[String]("gender").description("").optional, queryParam[String]("ageGroup").description("").optional, queryParam[String]("country").description("").optional, queryParam[String]("state").description("").optional, queryParam[String]("city").description("").optional, queryParam[String]("zip").description("").optional, queryParam[String]("model").description("").optional, queryParam[String]("tag").description("").optional, queryParam[Long]("userAccountId").description("").optional, queryParam[String]("userAccountDisplay").description("").optional, queryParam[String]("userAccountUsername").description("").optional, queryParam[String]("groupByRoot").description("").optional, queryParam[String]("groupBy").description("").optional, queryParam[String]("distinctCount").description("").optional, queryParam[String]("sortField").description("").optional, queryParam[Boolean]("descending").description("").optional, queryParam[Boolean]("hideUnknown").description("").optional, queryParam[String]("responseFormat").description("").optional, queryParam[Int]("l").description("").optional, queryParam[Int]("limit").description("").optional, queryParam[Double]("latitude").description("").optional, queryParam[Double]("longitude").description("").optional)
  )

  get("/analytics/aggregatedFilteredUsage", operation(aggregatedFilteredUsageOperation)) {
            val deviceId = params.getAs[String]("deviceId")

    //println("deviceId: " + deviceId)
            val accountId = params.getAs[Long]("accountId")

    //println("accountId: " + accountId)
            val applicationId = params.getAs[Long]("applicationId")

    //println("applicationId: " + applicationId)
            val appKey = params.getAs[String]("appKey")

    //println("appKey: " + appKey)
            val startDate = params.getAs[Long]("startDate")

    //println("startDate: " + startDate)
            val endDate = params.getAs[Long]("endDate")

    //println("endDate: " + endDate)
            val deviceType = params.getAs[String]("deviceType")

    //println("deviceType: " + deviceType)
            val device = params.getAs[String]("device")

    //println("device: " + device)
            val deviceOS = params.getAs[String]("deviceOS")

    //println("deviceOS: " + deviceOS)
            val gender = params.getAs[String]("gender")

    //println("gender: " + gender)
            val ageGroup = params.getAs[String]("ageGroup")

    //println("ageGroup: " + ageGroup)
            val country = params.getAs[String]("country")

    //println("country: " + country)
            val state = params.getAs[String]("state")

    //println("state: " + state)
            val city = params.getAs[String]("city")

    //println("city: " + city)
            val zip = params.getAs[String]("zip")

    //println("zip: " + zip)
            val model = params.getAs[String]("model")

    //println("model: " + model)
            val tag = params.getAs[String]("tag")

    //println("tag: " + tag)
            val userAccountId = params.getAs[Long]("userAccountId")

    //println("userAccountId: " + userAccountId)
            val userAccountDisplay = params.getAs[String]("userAccountDisplay")

    //println("userAccountDisplay: " + userAccountDisplay)
            val userAccountUsername = params.getAs[String]("userAccountUsername")

    //println("userAccountUsername: " + userAccountUsername)
            val groupByRoot = params.getAs[String]("groupByRoot")

    //println("groupByRoot: " + groupByRoot)
            val groupBy = params.getAs[String]("groupBy")

    //println("groupBy: " + groupBy)
            val distinctCount = params.getAs[String]("distinctCount")

    //println("distinctCount: " + distinctCount)
            val sortField = params.getAs[String]("sortField")

    //println("sortField: " + sortField)
            val descending = params.getAs[Boolean]("descending")

    //println("descending: " + descending)
            val hideUnknown = params.getAs[Boolean]("hideUnknown")

    //println("hideUnknown: " + hideUnknown)
            val responseFormat = params.getAs[String]("responseFormat")

    //println("responseFormat: " + responseFormat)
            val l = params.getAs[Int]("l")

    //println("l: " + l)
            val limit = params.getAs[Int]("limit")

    //println("limit: " + limit)
            val latitude = params.getAs[Double]("latitude")

    //println("latitude: " + latitude)
            val longitude = params.getAs[Double]("longitude")

    //println("longitude: " + longitude)
  }

  

  val filteredUsageOperation = (apiOperation[ChartData]("filteredUsage")
    summary "Get Filtered Usage"
    parameters(queryParam[String]("deviceId").description("").optional, queryParam[Long]("accountId").description("").optional, queryParam[Long]("applicationId").description("").optional, queryParam[String]("appKey").description("").optional, queryParam[Long]("startDate").description("").optional, queryParam[Long]("endDate").description("").optional, queryParam[String]("deviceType").description("").optional, queryParam[String]("device").description("").optional, queryParam[String]("deviceOS").description("").optional, queryParam[String]("gender").description("").optional, queryParam[String]("ageGroup").description("").optional, queryParam[String]("country").description("").optional, queryParam[String]("state").description("").optional, queryParam[String]("city").description("").optional, queryParam[String]("zip").description("").optional, queryParam[String]("model").description("").optional, queryParam[String]("tag").description("").optional, queryParam[Long]("userAccountId").description("").optional, queryParam[String]("userAccountDisplay").description("").optional, queryParam[String]("userAccountUsername").description("").optional, queryParam[Long]("customId").description("").optional, queryParam[String]("customType").description("").optional, queryParam[Double]("customValue").description("").optional, queryParam[Double]("customValue2").description("").optional, queryParam[Long]("customLong").description("").optional, queryParam[Long]("customLong2").description("").optional, queryParam[String]("customMessage").description("").optional, queryParam[String]("customMessage2").description("").optional, queryParam[String]("groupBy").description("").optional, queryParam[String]("distinctCount").description("").optional, queryParam[String]("sumColumn").description("").optional, queryParam[String]("sortField").description("").optional, queryParam[Boolean]("descending").description("").optional, queryParam[Boolean]("hideUnknown").description("").optional, queryParam[String]("responseFormat").description("").optional, queryParam[Int]("l").description("").optional, queryParam[Int]("limit").description("").optional, queryParam[Double]("latitude").description("").optional, queryParam[Double]("longitude").description("").optional)
  )

  get("/analytics/filteredUsage", operation(filteredUsageOperation)) {
            val deviceId = params.getAs[String]("deviceId")

    //println("deviceId: " + deviceId)
            val accountId = params.getAs[Long]("accountId")

    //println("accountId: " + accountId)
            val applicationId = params.getAs[Long]("applicationId")

    //println("applicationId: " + applicationId)
            val appKey = params.getAs[String]("appKey")

    //println("appKey: " + appKey)
            val startDate = params.getAs[Long]("startDate")

    //println("startDate: " + startDate)
            val endDate = params.getAs[Long]("endDate")

    //println("endDate: " + endDate)
            val deviceType = params.getAs[String]("deviceType")

    //println("deviceType: " + deviceType)
            val device = params.getAs[String]("device")

    //println("device: " + device)
            val deviceOS = params.getAs[String]("deviceOS")

    //println("deviceOS: " + deviceOS)
            val gender = params.getAs[String]("gender")

    //println("gender: " + gender)
            val ageGroup = params.getAs[String]("ageGroup")

    //println("ageGroup: " + ageGroup)
            val country = params.getAs[String]("country")

    //println("country: " + country)
            val state = params.getAs[String]("state")

    //println("state: " + state)
            val city = params.getAs[String]("city")

    //println("city: " + city)
            val zip = params.getAs[String]("zip")

    //println("zip: " + zip)
            val model = params.getAs[String]("model")

    //println("model: " + model)
            val tag = params.getAs[String]("tag")

    //println("tag: " + tag)
            val userAccountId = params.getAs[Long]("userAccountId")

    //println("userAccountId: " + userAccountId)
            val userAccountDisplay = params.getAs[String]("userAccountDisplay")

    //println("userAccountDisplay: " + userAccountDisplay)
            val userAccountUsername = params.getAs[String]("userAccountUsername")

    //println("userAccountUsername: " + userAccountUsername)
            val customId = params.getAs[Long]("customId")

    //println("customId: " + customId)
            val customType = params.getAs[String]("customType")

    //println("customType: " + customType)
            val customValue = params.getAs[Double]("customValue")

    //println("customValue: " + customValue)
            val customValue2 = params.getAs[Double]("customValue2")

    //println("customValue2: " + customValue2)
            val customLong = params.getAs[Long]("customLong")

    //println("customLong: " + customLong)
            val customLong2 = params.getAs[Long]("customLong2")

    //println("customLong2: " + customLong2)
            val customMessage = params.getAs[String]("customMessage")

    //println("customMessage: " + customMessage)
            val customMessage2 = params.getAs[String]("customMessage2")

    //println("customMessage2: " + customMessage2)
            val groupBy = params.getAs[String]("groupBy")

    //println("groupBy: " + groupBy)
            val distinctCount = params.getAs[String]("distinctCount")

    //println("distinctCount: " + distinctCount)
            val sumColumn = params.getAs[String]("sumColumn")

    //println("sumColumn: " + sumColumn)
            val sortField = params.getAs[String]("sortField")

    //println("sortField: " + sortField)
            val descending = params.getAs[Boolean]("descending")

    //println("descending: " + descending)
            val hideUnknown = params.getAs[Boolean]("hideUnknown")

    //println("hideUnknown: " + hideUnknown)
            val responseFormat = params.getAs[String]("responseFormat")

    //println("responseFormat: " + responseFormat)
            val l = params.getAs[Int]("l")

    //println("l: " + l)
            val limit = params.getAs[Int]("limit")

    //println("limit: " + limit)
            val latitude = params.getAs[Double]("latitude")

    //println("latitude: " + latitude)
            val longitude = params.getAs[Double]("longitude")

    //println("longitude: " + longitude)
  }

  

  val usageOperation = (apiOperation[SirqulResponse]("usage")
    summary "Create Usage Record"
    parameters(queryParam[String]("tag").description(""), queryParam[String]("deviceId").description("").optional, queryParam[Long]("accountId").description("").optional, queryParam[Long]("applicationId").description("").optional, queryParam[String]("appKey").description("").optional, queryParam[String]("appVersion").description("").optional, queryParam[String]("device").description("").optional, queryParam[String]("deviceType").description("").optional, queryParam[String]("deviceOS").description("").optional, queryParam[String]("model").description("").optional, queryParam[Double]("latitude").description("").optional, queryParam[Double]("longitude").description("").optional, queryParam[Long]("customId").description("").optional, queryParam[String]("customType").description("").optional, queryParam[Long]("achievementIncrement").description("").optional, queryParam[String]("city").description("").optional, queryParam[String]("state").description("").optional, queryParam[String]("country").description("").optional, queryParam[String]("zip").description("").optional, queryParam[String]("locationDescription").description("").optional, queryParam[Long]("clientTime").description("").optional, queryParam[String]("errorMessage").description("").optional, queryParam[String]("ip").description("").optional, queryParam[String]("userAgent").description("").optional, queryParam[Boolean]("backgroundEvent").description("").optional, queryParam[String]("customMessage").description("").optional, queryParam[String]("customMessage2").description("").optional, queryParam[Double]("customValue").description("").optional, queryParam[Double]("customValue2").description("").optional, queryParam[Long]("customLong").description("").optional, queryParam[Long]("customLong2").description("").optional)
  )

  post("/analytics/usage", operation(usageOperation)) {
            val tag = params.getAs[String]("tag")

    //println("tag: " + tag)
            val deviceId = params.getAs[String]("deviceId")

    //println("deviceId: " + deviceId)
            val accountId = params.getAs[Long]("accountId")

    //println("accountId: " + accountId)
            val applicationId = params.getAs[Long]("applicationId")

    //println("applicationId: " + applicationId)
            val appKey = params.getAs[String]("appKey")

    //println("appKey: " + appKey)
            val appVersion = params.getAs[String]("appVersion")

    //println("appVersion: " + appVersion)
            val device = params.getAs[String]("device")

    //println("device: " + device)
            val deviceType = params.getAs[String]("deviceType")

    //println("deviceType: " + deviceType)
            val deviceOS = params.getAs[String]("deviceOS")

    //println("deviceOS: " + deviceOS)
            val model = params.getAs[String]("model")

    //println("model: " + model)
            val latitude = params.getAs[Double]("latitude")

    //println("latitude: " + latitude)
            val longitude = params.getAs[Double]("longitude")

    //println("longitude: " + longitude)
            val customId = params.getAs[Long]("customId")

    //println("customId: " + customId)
            val customType = params.getAs[String]("customType")

    //println("customType: " + customType)
            val achievementIncrement = params.getAs[Long]("achievementIncrement")

    //println("achievementIncrement: " + achievementIncrement)
            val city = params.getAs[String]("city")

    //println("city: " + city)
            val state = params.getAs[String]("state")

    //println("state: " + state)
            val country = params.getAs[String]("country")

    //println("country: " + country)
            val zip = params.getAs[String]("zip")

    //println("zip: " + zip)
            val locationDescription = params.getAs[String]("locationDescription")

    //println("locationDescription: " + locationDescription)
            val clientTime = params.getAs[Long]("clientTime")

    //println("clientTime: " + clientTime)
            val errorMessage = params.getAs[String]("errorMessage")

    //println("errorMessage: " + errorMessage)
            val ip = params.getAs[String]("ip")

    //println("ip: " + ip)
            val userAgent = params.getAs[String]("userAgent")

    //println("userAgent: " + userAgent)
            val backgroundEvent = params.getAs[Boolean]("backgroundEvent")

    //println("backgroundEvent: " + backgroundEvent)
            val customMessage = params.getAs[String]("customMessage")

    //println("customMessage: " + customMessage)
            val customMessage2 = params.getAs[String]("customMessage2")

    //println("customMessage2: " + customMessage2)
            val customValue = params.getAs[Double]("customValue")

    //println("customValue: " + customValue)
            val customValue2 = params.getAs[Double]("customValue2")

    //println("customValue2: " + customValue2)
            val customLong = params.getAs[Long]("customLong")

    //println("customLong: " + customLong)
            val customLong2 = params.getAs[Long]("customLong2")

    //println("customLong2: " + customLong2)
  }

  

  val usageBatchOperation = (apiOperation[SirqulResponse]("usageBatch")
    summary "Create Multiple Usage Records"
    parameters(queryParam[String]("appKey").description(""), queryParam[String]("device").description(""), queryParam[String]("data").description(""), queryParam[String]("deviceId").description("").optional, queryParam[Long]("accountId").description("").optional, queryParam[String]("appVersion").description("").optional, queryParam[String]("deviceType").description("").optional, queryParam[String]("deviceOS").description("").optional, queryParam[String]("model").description("").optional, queryParam[Boolean]("updateRanking").description("").optional, queryParam[Boolean]("returnSummaryResponse").description("").optional)
  )

  post("/analytics/usage/batch", operation(usageBatchOperation)) {
            val appKey = params.getAs[String]("appKey")

    //println("appKey: " + appKey)
            val device = params.getAs[String]("device")

    //println("device: " + device)
            val data = params.getAs[String]("data")

    //println("data: " + data)
            val deviceId = params.getAs[String]("deviceId")

    //println("deviceId: " + deviceId)
            val accountId = params.getAs[Long]("accountId")

    //println("accountId: " + accountId)
            val appVersion = params.getAs[String]("appVersion")

    //println("appVersion: " + appVersion)
            val deviceType = params.getAs[String]("deviceType")

    //println("deviceType: " + deviceType)
            val deviceOS = params.getAs[String]("deviceOS")

    //println("deviceOS: " + deviceOS)
            val model = params.getAs[String]("model")

    //println("model: " + model)
            val updateRanking = params.getAs[Boolean]("updateRanking")

    //println("updateRanking: " + updateRanking)
            val returnSummaryResponse = params.getAs[Boolean]("returnSummaryResponse")

    //println("returnSummaryResponse: " + returnSummaryResponse)
  }

}
