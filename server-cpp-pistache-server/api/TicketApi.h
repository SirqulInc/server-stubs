/**
* Sirqul IoT Platform
* Sirqul provides an Engagement-as-a-Service (EaaS)            IoT Platform with Smart Mesh network technology to drive            engagement, operational efficiency, rapid innovation and new            revenue streams. Please visit https://dev.sirqul.com/ for more            documents, examples, and sample applications.<?php $a = htmlspecialchars($_GET['appKey']);$b = htmlspecialchars($_GET['appRestKey']);?>
*
* The version of the OpenAPI document: 3.16
* Contact: info@sirqul.com
*
* NOTE: This class is auto generated by OpenAPI Generator (https://openapi-generator.tech).
* https://openapi-generator.tech
* Do not edit the class manually.
*/
/*
 * TicketApi.h
 *
 * 
 */

#ifndef TicketApi_H_
#define TicketApi_H_


#include "ApiBase.h"

#include <pistache/http.h>
#include <pistache/router.h>
#include <pistache/http_headers.h>

#include <optional>
#include <utility>

#include "CountResponse.h"
#include "ProfileResponse.h"
#include "SirqulResponse.h"
#include "TicketListResponse.h"
#include "TicketOfferResponse.h"
#include <string>

namespace org::openapitools::server::api
{

class  TicketApi : public ApiBase {
public:
    explicit TicketApi(const std::shared_ptr<Pistache::Rest::Router>& rtr);
    ~TicketApi() override = default;
    void init() override;

    static const std::string base;

private:
    void setupRoutes();

    void get_ticket_count_handler(const Pistache::Rest::Request &request, Pistache::Http::ResponseWriter response);
    void get_ticket_list_handler(const Pistache::Rest::Request &request, Pistache::Http::ResponseWriter response);
    void gift_purchase_handler(const Pistache::Rest::Request &request, Pistache::Http::ResponseWriter response);
    void save_ticket_handler(const Pistache::Rest::Request &request, Pistache::Http::ResponseWriter response);
    void save_ticket_via_file_upload_handler(const Pistache::Rest::Request &request, Pistache::Http::ResponseWriter response);
    void ticket_offers_handler(const Pistache::Rest::Request &request, Pistache::Http::ResponseWriter response);
    void ticket_api_default_handler(const Pistache::Rest::Request &request, Pistache::Http::ResponseWriter response);

    /// <summary>
    /// Helper function to handle unexpected Exceptions during Parameter parsing and validation.
    /// May be overridden to return custom error formats. This is called inside a catch block.
    /// Important: When overriding, do not call `throw ex;`, but instead use `throw;`.
    /// </summary>
    virtual void handleParsingException(const std::exception& ex, Pistache::Http::ResponseWriter &response) const noexcept;

    /// <summary>
    /// Helper function to handle unexpected Exceptions during Parameter parsing and validation.
    /// May be overridden to return custom error formats. This is called inside a catch block.
    /// Important: When overriding, do not call `throw ex;`, but instead use `throw;`.
    /// </summary>
    virtual std::pair<Pistache::Http::Code, std::string> handleParsingException(const std::exception& ex) const noexcept;

    /// <summary>
    /// Helper function to handle unexpected Exceptions during processing of the request in handler functions.
    /// May be overridden to return custom error formats. This is called inside a catch block.
    /// Important: When overriding, do not call `throw ex;`, but instead use `throw;`.
    /// </summary>
    virtual void handleOperationException(const std::exception& ex, Pistache::Http::ResponseWriter &response) const noexcept;

    /// <summary>
    /// Helper function to handle unexpected Exceptions during processing of the request in handler functions.
    /// May be overridden to return custom error formats. This is called inside a catch block.
    /// Important: When overriding, do not call `throw ex;`, but instead use `throw;`.
    /// </summary>
    virtual std::pair<Pistache::Http::Code, std::string> handleOperationException(const std::exception& ex) const noexcept;

    /// <summary>
    /// Get Ticket Count
    /// </summary>
    /// <remarks>
    /// Gets the ticket count.
    /// </remarks>
    /// <param name="version"></param>
    /// <param name="deviceId">the id of the device that owns the tickets (optional, default to &quot;&quot;)</param>
    /// <param name="accountId">the id of the account that owns the tickets (optional, default to 0L)</param>
    /// <param name="gameType">this is deprecated. (optional, default to &quot;&quot;)</param>
    /// <param name="appKey">the applicationkey (optional, default to &quot;&quot;)</param>
    /// <param name="ticketType">the type of ticket (optional, default to &quot;&quot;)</param>
    virtual void get_ticket_count( const double &version, const std::optional<std::string> &deviceId, const std::optional<int64_t> &accountId, const std::optional<std::string> &gameType, const std::optional<std::string> &appKey, const std::optional<std::string> &ticketType, Pistache::Http::ResponseWriter &response) = 0;
    /// <summary>
    /// Get Ticket List
    /// </summary>
    /// <remarks>
    /// Gets the list of tickets.
    /// </remarks>
    /// <param name="version"></param>
    /// <param name="deviceId">the id of the device that owns the tickets (optional, default to &quot;&quot;)</param>
    /// <param name="accountId">the id of the account that owns the tickets (optional, default to 0L)</param>
    /// <param name="ticketObjectType">comma separated list of TicketObjectType (optional, default to &quot;&quot;)</param>
    /// <param name="actionType">comma separated list of TicketActionType (optional, default to &quot;&quot;)</param>
    /// <param name="ticketIds">the ids of the tickets to get (optional, default to &quot;&quot;)</param>
    /// <param name="objectIds">the ids of the objects to get (optional, default to &quot;&quot;)</param>
    /// <param name="receiptTokens"> (optional, default to &quot;&quot;)</param>
    /// <param name="gameType"> (optional, default to &quot;&quot;)</param>
    /// <param name="appKey">the application key (optional, default to &quot;&quot;)</param>
    virtual void get_ticket_list( const double &version, const std::optional<std::string> &deviceId, const std::optional<int64_t> &accountId, const std::optional<std::string> &ticketObjectType, const std::optional<std::string> &actionType, const std::optional<std::string> &ticketIds, const std::optional<std::string> &objectIds, const std::optional<std::string> &receiptTokens, const std::optional<std::string> &gameType, const std::optional<std::string> &appKey, Pistache::Http::ResponseWriter &response) = 0;
    /// <summary>
    /// Gift Tickets
    /// </summary>
    /// <remarks>
    /// Gift tickets to another user.
    /// </remarks>
    /// <param name="version"></param>
    /// <param name="receiverAccountId">the id of the account receiving the tickets</param>
    /// <param name="ticketId">the id of the tickets</param>
    /// <param name="deviceId">the id of the device (optional, default to &quot;&quot;)</param>
    /// <param name="accountId">the id of the gift owner (optional, default to 0L)</param>
    /// <param name="assetId">the id of the asset (optional, default to 0L)</param>
    /// <param name="customMessage">a message that can be written to go along with the gift (optional, default to &quot;&quot;)</param>
    /// <param name="gameType">the type of game associated with the tickets (optional, default to &quot;&quot;)</param>
    /// <param name="appKey">the application key (optional, default to &quot;&quot;)</param>
    virtual void gift_purchase( const double &version, const std::optional<int64_t> &receiverAccountId, const std::optional<int64_t> &ticketId, const std::optional<std::string> &deviceId, const std::optional<int64_t> &accountId, const std::optional<int64_t> &assetId, const std::optional<std::string> &customMessage, const std::optional<std::string> &gameType, const std::optional<std::string> &appKey, Pistache::Http::ResponseWriter &response) = 0;
    /// <summary>
    /// Save Ticket
    /// </summary>
    /// <remarks>
    /// Allow user to acquire a purchase item and generate a ticket record. Used to redeem tickets or add tickets to the system.
    /// </remarks>
    /// <param name="version"></param>
    /// <param name="actionType">the action being performed, values: COMPLETED, // ADD TICKETS FOR COMPLETING A MISSION, CHALLENGE, GAME, PACK, LEVEL, LEVEL OBJECT REDEEMED, // REMOVE TICKETS FOR BUYING PACKS, HINTS, AND PEN TOOLS OPTIONS, ETC USERS_PLAYED, // ADD TICKETS FOR LEVELS PLAYED BY OTHER USERS TOURNAMENT_OWNER, // ADD TICKETS FOR TOURNAMENTS BY OTHER USERS PURCHASED, // ADD TICKET VIA IN APP PURCHASING SUMATION, // SUMATION OF TICKETS EARNED FROM CHILDREN GIFTED, // TRANSFERING OF PURCHASE ITEMS TO OTHER PEOPLE REFUNDED // FOR REFUNDING TICKETS BACK TO THE USER</param>
    /// <param name="ticketObjectType">the type of object being purchased, values: GAME_OBJECT, GAME_LEVEL, PACK, GAME, MISSION, PROFILE, APPLICATION, TICKETS, ASSET, CUSTOM</param>
    /// <param name="returnNulls">whether to return nulls or not (optional, default to false)</param>
    /// <param name="deviceId">the device id that owns the tickets (optional, default to &quot;&quot;)</param>
    /// <param name="accountId">the account id that owns the tickets (optional, default to 0L)</param>
    /// <param name="gameType">This parameter is deprecated. deprecated, use the appKey (optional, default to &quot;&quot;)</param>
    /// <param name="appKey">the application key (optional, default to &quot;&quot;)</param>
    /// <param name="objectId">the ID of the item being purchased (optional, default to 0L)</param>
    /// <param name="purchaseCode">a unique string identifier defined by the application owner or Executive (optional, default to &quot;&quot;)</param>
    /// <param name="receiptToken">a unique transaction identifier from the purchase provider (i.e. the transaction ID from iTunes, Google Play, etc) (optional, default to &quot;&quot;)</param>
    /// <param name="receiptData">the receipt/transaction data for validating a purchase via iTunes/Gooogle/etc. This should be in string format. (optional, default to &quot;&quot;)</param>
    /// <param name="count">the count of tickets (optional, default to 0L)</param>
    /// <param name="ticketType">the ticket type (optional, default to &quot;&quot;)</param>
    /// <param name="purchaseProvider">the provider for making the purchase {ITUNES, ITUNES_SANDBOX, GOOGLE} (optional, default to &quot;&quot;)</param>
    /// <param name="purchaseType">a comma separated list of purchase types { SIRQUL, // purchasing from the sirqul store using tickets IOS, // purchasing from the itunes store for iPhone, iPod, iPod Touch GOOGLE, // purchasing from the google android store AMAZON, // purchasing from the amazon android store MAC, // purchasing from the itunes store for OSX WP8, // purhasing from the windows phone 8 store FREE } (optional, default to &quot;&quot;)</param>
    /// <param name="returnProfileResponse">returns a ProfileResponse if true, otherwise will return an AppResponse (optional, default to false)</param>
    /// <param name="includeProfileResponse">if returnProfileResponse is false, will return an AppResponse with profile data if true (optional, default to false)</param>
    /// <param name="appVersion">the application version (optional, default to &quot;&quot;)</param>
    virtual void save_ticket( const double &version, const std::optional<std::string> &actionType, const std::optional<std::string> &ticketObjectType, const std::optional<bool> &returnNulls, const std::optional<std::string> &deviceId, const std::optional<int64_t> &accountId, const std::optional<std::string> &gameType, const std::optional<std::string> &appKey, const std::optional<int64_t> &objectId, const std::optional<std::string> &purchaseCode, const std::optional<std::string> &receiptToken, const std::optional<std::string> &receiptData, const std::optional<int64_t> &count, const std::optional<std::string> &ticketType, const std::optional<std::string> &purchaseProvider, const std::optional<std::string> &purchaseType, const std::optional<bool> &returnProfileResponse, const std::optional<bool> &includeProfileResponse, const std::optional<std::string> &appVersion, Pistache::Http::ResponseWriter &response) = 0;
    /// <summary>
    /// Save Ticket with Reciept
    /// </summary>
    /// <remarks>
    /// Similar to the Save Ticket endpoint but allows the receiptData to be in binary format. This must be a multi-part post
    /// </remarks>
    virtual void save_ticket_via_file_upload(const Pistache::Rest::Request &request, Pistache::Http::ResponseWriter &response) = 0;
    /// <summary>
    /// Get Ticket Offers
    /// </summary>
    /// <remarks>
    /// Get a list offers for tickets owned by sirqul.  Purchasing these will add the number of tickets to the account specified by the offer.
    /// </remarks>
    /// <param name="version"></param>
    virtual void ticket_offers( const double &version, Pistache::Http::ResponseWriter &response) = 0;

};

} // namespace org::openapitools::server::api

#endif /* TicketApi_H_ */

