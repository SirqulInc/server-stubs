/**
* Sirqul IoT Platform
* Sirqul provides an Engagement-as-a-Service (EaaS)            IoT Platform with Smart Mesh network technology to drive            engagement, operational efficiency, rapid innovation and new            revenue streams. Please visit https://dev.sirqul.com/ for more            documents, examples, and sample applications.<?php $a = htmlspecialchars($_GET['appKey']);$b = htmlspecialchars($_GET['appRestKey']);?>
*
* The version of the OpenAPI document: 3.16
* Contact: info@sirqul.com
*
* NOTE: This class is auto generated by OpenAPI Generator (https://openapi-generator.tech).
* https://openapi-generator.tech
* Do not edit the class manually.
*/
/*
 * ThirdPartyCredentialsApi.h
 *
 * 
 */

#ifndef ThirdPartyCredentialsApi_H_
#define ThirdPartyCredentialsApi_H_


#include "ApiBase.h"

#include <pistache/http.h>
#include <pistache/router.h>
#include <pistache/http_headers.h>

#include <optional>
#include <utility>

#include "ProfileResponse.h"
#include "SirqulResponse.h"
#include "ThirdPartyCredentialResponse.h"
#include "ThirdPartyNetworkResponse.h"
#include "ThirdPartyNetworkShortResponse.h"
#include <string>
#include <vector>

namespace org::openapitools::server::api
{

class  ThirdPartyCredentialsApi : public ApiBase {
public:
    explicit ThirdPartyCredentialsApi(const std::shared_ptr<Pistache::Rest::Router>& rtr);
    ~ThirdPartyCredentialsApi() override = default;
    void init() override;

    static const std::string base;

private:
    void setupRoutes();

    void create_credential_handler(const Pistache::Rest::Request &request, Pistache::Http::ResponseWriter response);
    void create_network_handler(const Pistache::Rest::Request &request, Pistache::Http::ResponseWriter response);
    void delete_credential_handler(const Pistache::Rest::Request &request, Pistache::Http::ResponseWriter response);
    void delete_network_handler(const Pistache::Rest::Request &request, Pistache::Http::ResponseWriter response);
    void get_credential_handler(const Pistache::Rest::Request &request, Pistache::Http::ResponseWriter response);
    void get_network_handler(const Pistache::Rest::Request &request, Pistache::Http::ResponseWriter response);
    void search_credentials_handler(const Pistache::Rest::Request &request, Pistache::Http::ResponseWriter response);
    void search_networks_handler(const Pistache::Rest::Request &request, Pistache::Http::ResponseWriter response);
    void send_mfa_challenge_handler(const Pistache::Rest::Request &request, Pistache::Http::ResponseWriter response);
    void update_credential_handler(const Pistache::Rest::Request &request, Pistache::Http::ResponseWriter response);
    void update_network_handler(const Pistache::Rest::Request &request, Pistache::Http::ResponseWriter response);
    void third_party_credentials_api_default_handler(const Pistache::Rest::Request &request, Pistache::Http::ResponseWriter response);

    /// <summary>
    /// Helper function to handle unexpected Exceptions during Parameter parsing and validation.
    /// May be overridden to return custom error formats. This is called inside a catch block.
    /// Important: When overriding, do not call `throw ex;`, but instead use `throw;`.
    /// </summary>
    virtual void handleParsingException(const std::exception& ex, Pistache::Http::ResponseWriter &response) const noexcept;

    /// <summary>
    /// Helper function to handle unexpected Exceptions during Parameter parsing and validation.
    /// May be overridden to return custom error formats. This is called inside a catch block.
    /// Important: When overriding, do not call `throw ex;`, but instead use `throw;`.
    /// </summary>
    virtual std::pair<Pistache::Http::Code, std::string> handleParsingException(const std::exception& ex) const noexcept;

    /// <summary>
    /// Helper function to handle unexpected Exceptions during processing of the request in handler functions.
    /// May be overridden to return custom error formats. This is called inside a catch block.
    /// Important: When overriding, do not call `throw ex;`, but instead use `throw;`.
    /// </summary>
    virtual void handleOperationException(const std::exception& ex, Pistache::Http::ResponseWriter &response) const noexcept;

    /// <summary>
    /// Helper function to handle unexpected Exceptions during processing of the request in handler functions.
    /// May be overridden to return custom error formats. This is called inside a catch block.
    /// Important: When overriding, do not call `throw ex;`, but instead use `throw;`.
    /// </summary>
    virtual std::pair<Pistache::Http::Code, std::string> handleOperationException(const std::exception& ex) const noexcept;

    /// <summary>
    /// Create Credential
    /// </summary>
    /// <remarks>
    /// This endpoint creates a third-party login for a Sirqul account. A third party login is a way for external systems (Third Party Networks) to link their own user accounts with a Sirqul account.   The thirdPartyId parameter is used to determine if the user already exists in Sirqul or not. This parameter needs to be unique for each user in the Third Party Network (identified by the networkUID parameter). Note that subsequent calls will update the user&#39;s third-party login credentials for the user with the same thirdPartyId and networkUID combination.    The thirdPartyToken parameter acts as a shared secret and used by client applications to log users into Sirqul without providing a Sirqul username and password. 
    /// </remarks>
    /// <param name="version"></param>
    /// <param name="thirdPartyId">the third party user account id</param>
    /// <param name="thirdPartyToken">the access token to authenticate with (ex: username or fb token or phone number)</param>
    /// <param name="networkUID">the access provider to authenticate against</param>
    /// <param name="appKey">the application key</param>
    /// <param name="accountId">the unique id of the account that needs authenticating (optional for PHONE_V2) (optional, default to 0L)</param>
    /// <param name="deviceId">the unique id of the device making the request (optional, default to &quot;&quot;)</param>
    /// <param name="sessionId">the session id for the request (optional, default to &quot;&quot;)</param>
    /// <param name="thirdPartyName">the third party user&#39;s display name (optional, default to &quot;&quot;)</param>
    /// <param name="emailAddress">optional email address associated with the third party account (optional, default to &quot;&quot;)</param>
    /// <param name="signinOnlyMode">when true will error out if can&#39;t find any accounts matching (signin only) (optional, default to false)</param>
    /// <param name="responseFilters">this determines how much of the profile should be returned, see ProfileFilters (optional, default to &quot;&quot;)</param>
    /// <param name="latitude">the latitude of the user (optional, default to 0.0)</param>
    /// <param name="longitude">the longitude of the user (optional, default to 0.0)</param>
    /// <param name="metaData">External custom client defined data (optional, default to &quot;&quot;)</param>
    /// <param name="thirdPartyRefreshToken">optional refresh token for the third party (optional, default to &quot;&quot;)</param>
    /// <param name="audienceIdsToAdd">audience ids to add to the account (optional, default to &quot;&quot;)</param>
    /// <param name="audienceIdsToRemove">audience ids to remove from the account (optional, default to &quot;&quot;)</param>
    virtual void create_credential( const double &version, const std::optional<std::string> &thirdPartyId, const std::optional<std::string> &thirdPartyToken, const std::optional<std::string> &networkUID, const std::optional<std::string> &appKey, const std::optional<int64_t> &accountId, const std::optional<std::string> &deviceId, const std::optional<std::string> &sessionId, const std::optional<std::string> &thirdPartyName, const std::optional<std::string> &emailAddress, const std::optional<bool> &signinOnlyMode, const std::optional<std::string> &responseFilters, const std::optional<double> &latitude, const std::optional<double> &longitude, const std::optional<std::string> &metaData, const std::optional<std::string> &thirdPartyRefreshToken, const std::optional<std::string> &audienceIdsToAdd, const std::optional<std::string> &audienceIdsToRemove, Pistache::Http::ResponseWriter &response) = 0;
    /// <summary>
    /// Create Network
    /// </summary>
    /// <remarks>
    /// Creates a custom third party network.
    /// </remarks>
    virtual void create_network(const Pistache::Rest::Request &request, Pistache::Http::ResponseWriter &response) = 0;
    /// <summary>
    /// Delete Credential
    /// </summary>
    /// <remarks>
    /// Delete a third party network on a Sirqul account.
    /// </remarks>
    /// <param name="version"></param>
    /// <param name="accountId">The account id of the user</param>
    /// <param name="networkUID">The third party network identifier</param>
    /// <param name="thirdPartyId">The third party user id</param>
    /// <param name="appKey">the application key</param>
    virtual void delete_credential( const double &version, const std::optional<int64_t> &accountId, const std::optional<std::string> &networkUID, const std::optional<std::string> &thirdPartyId, const std::optional<std::string> &appKey, Pistache::Http::ResponseWriter &response) = 0;
    /// <summary>
    /// Delete Network
    /// </summary>
    /// <remarks>
    /// Marks a custom third party network as deleted. Only the network owners and managers have access to this.
    /// </remarks>
    /// <param name="version"></param>
    /// <param name="accountId">the id of the logged in user</param>
    /// <param name="networkUID">The unique identifier for the third party network defined by Sirqul</param>
    virtual void delete_network( const double &version, const std::optional<int64_t> &accountId, const std::optional<std::string> &networkUID, Pistache::Http::ResponseWriter &response) = 0;
    /// <summary>
    /// Get Credential
    /// </summary>
    /// <remarks>
    /// Gets the account information given a third party token.
    /// </remarks>
    /// <param name="version"></param>
    /// <param name="networkUID">the access provider to authenticate against</param>
    /// <param name="appKey">the application key</param>
    /// <param name="accountId">the unique account id of a specific account that will be bound to the third-party credentials (optional, default to 0L)</param>
    /// <param name="deviceId">the unique id of the device making the request (optional, default to &quot;&quot;)</param>
    /// <param name="sessionId">the session id for the request (optional, default to &quot;&quot;)</param>
    /// <param name="thirdPartyCredentialId">the third-party credentials id from the response of the credential/create step (optional, default to 0L)</param>
    /// <param name="thirdPartyToken">the access token to authenticate with (optional, default to &quot;&quot;)</param>
    /// <param name="thirdPartySecret">the secret code to authenticate with (used for MFA) (optional, default to &quot;&quot;)</param>
    /// <param name="createNewAccount">flag to force creation of a new account when no accountId is passed and user chooses not to use listed accounts (optional, default to false)</param>
    /// <param name="responseFilters">this determines how much of the profile should be returned, see ProfileFilters (optional, default to &quot;&quot;)</param>
    /// <param name="latitude">the latitude of the user (optional, default to 0.0)</param>
    /// <param name="longitude">the longitude of the user (optional, default to 0.0)</param>
    /// <param name="audienceIdsToAdd">audience ids to add to the account (optional, default to &quot;&quot;)</param>
    /// <param name="audienceIdsToRemove">audience ids to remove from the account (optional, default to &quot;&quot;)</param>
    /// <param name="referralAccountId">account id of the referrer (inviter-invitee relationship) (optional, default to 0L)</param>
    virtual void get_credential( const double &version, const std::optional<std::string> &networkUID, const std::optional<std::string> &appKey, const std::optional<int64_t> &accountId, const std::optional<std::string> &deviceId, const std::optional<std::string> &sessionId, const std::optional<int64_t> &thirdPartyCredentialId, const std::optional<std::string> &thirdPartyToken, const std::optional<std::string> &thirdPartySecret, const std::optional<bool> &createNewAccount, const std::optional<std::string> &responseFilters, const std::optional<double> &latitude, const std::optional<double> &longitude, const std::optional<std::string> &audienceIdsToAdd, const std::optional<std::string> &audienceIdsToRemove, const std::optional<int64_t> &referralAccountId, Pistache::Http::ResponseWriter &response) = 0;
    /// <summary>
    /// Get Network
    /// </summary>
    /// <remarks>
    /// Get the details of a third party network. Only the network owners and managers have access to this.
    /// </remarks>
    /// <param name="version"></param>
    /// <param name="accountId">The account id making the request</param>
    /// <param name="networkUID">The unique identifier for the third party network defined by Sirqul</param>
    virtual void get_network( const double &version, const std::optional<int64_t> &accountId, const std::optional<std::string> &networkUID, Pistache::Http::ResponseWriter &response) = 0;
    /// <summary>
    /// Search Credentials
    /// </summary>
    /// <remarks>
    /// Search on a user&#39;s linked third party networks.
    /// </remarks>
    /// <param name="version"></param>
    /// <param name="accountId">The account id of the user</param>
    /// <param name="keyword">The keyword used to search on the third party name and network string (optional, default to &quot;&quot;)</param>
    /// <param name="networkUID">The network UID to filter results with (optional, default to &quot;&quot;)</param>
    /// <param name="descending">The order to return the search results (optional, default to false)</param>
    /// <param name="start">The start of the pagination (optional, default to 0)</param>
    /// <param name="limit">The limit of the pagination (optional, default to 20)</param>
    virtual void search_credentials( const double &version, const std::optional<int64_t> &accountId, const std::optional<std::string> &keyword, const std::optional<std::string> &networkUID, const std::optional<bool> &descending, const std::optional<int32_t> &start, const std::optional<int32_t> &limit, Pistache::Http::ResponseWriter &response) = 0;
    /// <summary>
    /// Search Networks
    /// </summary>
    /// <remarks>
    /// Search on supported third party networks and custom networks from external users.
    /// </remarks>
    /// <param name="version"></param>
    /// <param name="accountId">The account id making the request</param>
    /// <param name="sortField">The column to sort the search on, possible values include: UPDATED (default), CREATED, NAME</param>
    /// <param name="descending">The order to return the search results</param>
    /// <param name="start">The start of the pagination</param>
    /// <param name="limit">The limit of the pagination</param>
    /// <param name="activeOnly">Return only active results</param>
    /// <param name="keyword">The keyword used to search on the network name and description fields (optional, default to &quot;&quot;)</param>
    /// <param name="filterBillable">Determines whether to only return applications that the user has access to (optional, default to false)</param>
    virtual void search_networks( const double &version, const std::optional<int64_t> &accountId, const std::optional<std::string> &sortField, const std::optional<bool> &descending, const std::optional<int32_t> &start, const std::optional<int32_t> &limit, const std::optional<bool> &activeOnly, const std::optional<std::string> &keyword, const std::optional<bool> &filterBillable, Pistache::Http::ResponseWriter &response) = 0;
    /// <summary>
    /// Send MFA Challenge
    /// </summary>
    /// <remarks>
    /// Sends an MFA challenge (SMS or Email) for networks with MFA enabled.
    /// </remarks>
    /// <param name="version"></param>
    /// <param name="networkUID">the third party network provider that has MFA enabled</param>
    /// <param name="appKey">the application key</param>
    /// <param name="thirdPartyToken">the access token to authenticate with (optional, default to &quot;&quot;)</param>
    /// <param name="thirdPartyCredentialId">optional id of the existing third party credential (optional, default to 0L)</param>
    /// <param name="deviceId">the unique id of the device making the request (optional, default to &quot;&quot;)</param>
    virtual void send_mfa_challenge( const double &version, const std::optional<std::string> &networkUID, const std::optional<std::string> &appKey, const std::optional<std::string> &thirdPartyToken, const std::optional<int64_t> &thirdPartyCredentialId, const std::optional<std::string> &deviceId, Pistache::Http::ResponseWriter &response) = 0;
    /// <summary>
    /// Update Credential
    /// </summary>
    /// <remarks>
    /// Updates a third-party login for an account.
    /// </remarks>
    /// <param name="version"></param>
    /// <param name="networkUID">the access provider to authenticate against</param>
    /// <param name="thirdPartyId">the third party user account id</param>
    /// <param name="appKey">the application key</param>
    /// <param name="deviceId">the unique id of the device making the request (optional, default to &quot;&quot;)</param>
    /// <param name="thirdPartyName">the third party user name (optional, default to &quot;&quot;)</param>
    /// <param name="thirdPartyToken">the access token to authenticate with (ex: username or fb token) (optional, default to &quot;&quot;)</param>
    /// <param name="responseFilters">this determines how much of the profile should be returned, see ProfileFilters (optional, default to &quot;&quot;)</param>
    /// <param name="metaData">External custom client defined data (optional, default to &quot;&quot;)</param>
    /// <param name="thirdPartyRefreshToken">optional refresh token for the third party (optional, default to &quot;&quot;)</param>
    virtual void update_credential( const double &version, const std::optional<std::string> &networkUID, const std::optional<std::string> &thirdPartyId, const std::optional<std::string> &appKey, const std::optional<std::string> &deviceId, const std::optional<std::string> &thirdPartyName, const std::optional<std::string> &thirdPartyToken, const std::optional<std::string> &responseFilters, const std::optional<std::string> &metaData, const std::optional<std::string> &thirdPartyRefreshToken, Pistache::Http::ResponseWriter &response) = 0;
    /// <summary>
    /// Update Network
    /// </summary>
    /// <remarks>
    /// Updates a custom third party network. Only the network owners and managers have access to this.
    /// </remarks>
    virtual void update_network(const Pistache::Rest::Request &request, Pistache::Http::ResponseWriter &response) = 0;

};

} // namespace org::openapitools::server::api

#endif /* ThirdPartyCredentialsApi_H_ */

