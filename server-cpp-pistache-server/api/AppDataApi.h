/**
* Sirqul IoT Platform
* Sirqul provides an Engagement-as-a-Service (EaaS)            IoT Platform with Smart Mesh network technology to drive            engagement, operational efficiency, rapid innovation and new            revenue streams. Please visit https://dev.sirqul.com/ for more            documents, examples, and sample applications.<?php $a = htmlspecialchars($_GET['appKey']);$b = htmlspecialchars($_GET['appRestKey']);?>
*
* The version of the OpenAPI document: 3.16
* Contact: info@sirqul.com
*
* NOTE: This class is auto generated by OpenAPI Generator (https://openapi-generator.tech).
* https://openapi-generator.tech
* Do not edit the class manually.
*/
/*
 * AppDataApi.h
 *
 * 
 */

#ifndef AppDataApi_H_
#define AppDataApi_H_


#include "ApiBase.h"

#include <pistache/http.h>
#include <pistache/router.h>
#include <pistache/http_headers.h>

#include <optional>
#include <utility>

#include "AppResponse.h"
#include "SirqulResponse.h"
#include <string>

namespace org::openapitools::server::api
{

class  AppDataApi : public ApiBase {
public:
    explicit AppDataApi(const std::shared_ptr<Pistache::Rest::Router>& rtr);
    ~AppDataApi() override = default;
    void init() override;

    static const std::string base;

private:
    void setupRoutes();

    void get_app_data_handler(const Pistache::Rest::Request &request, Pistache::Http::ResponseWriter response);
    void post_app_data_handler(const Pistache::Rest::Request &request, Pistache::Http::ResponseWriter response);
    void regen_app_data_handler(const Pistache::Rest::Request &request, Pistache::Http::ResponseWriter response);
    void app_data_api_default_handler(const Pistache::Rest::Request &request, Pistache::Http::ResponseWriter response);

    /// <summary>
    /// Helper function to handle unexpected Exceptions during Parameter parsing and validation.
    /// May be overridden to return custom error formats. This is called inside a catch block.
    /// Important: When overriding, do not call `throw ex;`, but instead use `throw;`.
    /// </summary>
    virtual void handleParsingException(const std::exception& ex, Pistache::Http::ResponseWriter &response) const noexcept;

    /// <summary>
    /// Helper function to handle unexpected Exceptions during Parameter parsing and validation.
    /// May be overridden to return custom error formats. This is called inside a catch block.
    /// Important: When overriding, do not call `throw ex;`, but instead use `throw;`.
    /// </summary>
    virtual std::pair<Pistache::Http::Code, std::string> handleParsingException(const std::exception& ex) const noexcept;

    /// <summary>
    /// Helper function to handle unexpected Exceptions during processing of the request in handler functions.
    /// May be overridden to return custom error formats. This is called inside a catch block.
    /// Important: When overriding, do not call `throw ex;`, but instead use `throw;`.
    /// </summary>
    virtual void handleOperationException(const std::exception& ex, Pistache::Http::ResponseWriter &response) const noexcept;

    /// <summary>
    /// Helper function to handle unexpected Exceptions during processing of the request in handler functions.
    /// May be overridden to return custom error formats. This is called inside a catch block.
    /// Important: When overriding, do not call `throw ex;`, but instead use `throw;`.
    /// </summary>
    virtual std::pair<Pistache::Http::Code, std::string> handleOperationException(const std::exception& ex) const noexcept;

    /// <summary>
    /// Get App Data
    /// </summary>
    /// <remarks>
    /// Get the application data structure.  The basic structure is a   node tree, with the root node being a AppResponse.  The response contains   the user&#39;s profile, messages from the system, and a list of MissionResponse.    A mission can have any number of GameResponses but typically is a single   game type.  A game then has any number of PackResponses which help group   the game levels. Packs are then composed of any number of GameLevelResponses.     Using the various parameters can return the applications default mission   (built-in packs to play), the list of community levels published, the user&#39;s   saved levels, or explicity levels desired.  You can choose to include the   profile or not, or just return parts of the profile.  You can also filter   out game levels that have been published with a higher version of the application.
    /// </remarks>
    /// <param name="version"></param>
    /// <param name="start">start the search results at a record.</param>
    /// <param name="limit">limit the search results to some number.</param>
    /// <param name="deviceId">the device id (deviceId or accountId required). (optional, default to &quot;&quot;)</param>
    /// <param name="accountId">the account id of the user (deviceId or accountId required). (optional, default to 0L)</param>
    /// <param name="gameType">the game to retrieve the data for, use your application key. (optional, default to &quot;&quot;)</param>
    /// <param name="includeGameData">if true then include the game data blob, otherwise don&#39;t include. (optional, default to false)</param>
    /// <param name="q">This parameter is deprecated. (optional, default to &quot;&quot;)</param>
    /// <param name="keyword">query string used to filter the search results when looking for community and saved levels. (optional, default to &quot;&quot;)</param>
    /// <param name="sortField">how to sort the results when looking for community and saved levels. possible values are: LEVEL_NAME, LEVEL_CREATED, LEVEL_UPDATED, LEVEL_LIKES, LEVEL_DISLIKES, LEVEL_NOTES, LEVEL_PLAYS. (optional, default to &quot;&quot;)</param>
    /// <param name="descending">order the search results descending or ascending when looking for community and saved levels. (optional, default to false)</param>
    /// <param name="i">This parameter is deprecated. (optional, default to 0)</param>
    /// <param name="l">This parameter is deprecated. (optional, default to 0)</param>
    /// <param name="gameObjectCount">if true then include the game object count, otherwise don&#39;t include. (optional, default to false)</param>
    /// <param name="filter">restrict the search to items with certain permissions, possible values are: MINE, FRIENDS, PUBLIC, ALL_PUBLIC, ALL, LIKED (optional, default to &quot;&quot;)</param>
    /// <param name="dateCreated">restrict the search to items created less then date (optional, default to 0L)</param>
    /// <param name="ownerId">get levels owned by a particular account (optional, default to 0L)</param>
    /// <param name="missionIds">get missions by specified id, comman seperated list of long ids (optional, default to &quot;&quot;)</param>
    /// <param name="gameIds">get games by specified id, comman seperated list of long ids (optional, default to &quot;&quot;)</param>
    /// <param name="packIds">get packs by specified id, comman seperated list of long ids (optional, default to &quot;&quot;)</param>
    /// <param name="gameLevelIds">get game levels by specified id, comman seperated list of long ids (optional, default to &quot;&quot;)</param>
    /// <param name="appVersion">the application version, used to versin the game level data (optional, default to &quot;&quot;)</param>
    /// <param name="includeHigherVersionPacks">default is false and will not include any packs that have levels above the specified appVersion. If true then will return all levels regardless of version. (optional, default to false)</param>
    /// <param name="includeHigherVersionLevels">default is false and will not include any levels above the specified appVersion. If true then will return all levels regardless of version. (optional, default to false)</param>
    /// <param name="responseGroups">use response groups to include large parts of the structure. possible values are: * MISSION_DEFAULT (default) - include the default mission (built-in packs), excludes all other mission groups * MISSION_DEFAULT_LEVELS_SAVED - include saved levels, excludes all other mission groups * MISSION_DEFAULT_LEVELS_COMMUNITY - include community levels, excludes all other mission groups * MISSION_INVITED (default) - include challenges sent to user * PROFILE (default) - include entire profile * PROFILE_DATA - only include profile date (exclude friends) * PROFILE_FRIENDS - include friends list  (optional, default to &quot;&quot;)</param>
    /// <param name="purchaseType">the will return the correct in app purchases for the device, possible values are: * SIRQUL (default) - purchasing from the sirqul store using tickets * IOS - purchasing from the itunes store for iPhone, iPod, iPod Touch * GOOGLE - purchasing from the google android store * AMAZON - purchasing from the amazon android store * MAC - purchasing from the itunes store for OSX * FREE - the item is free to purchase  (optional, default to &quot;&quot;)</param>
    virtual void get_app_data( const double &version, const std::optional<int32_t> &start, const std::optional<int32_t> &limit, const std::optional<std::string> &deviceId, const std::optional<int64_t> &accountId, const std::optional<std::string> &gameType, const std::optional<bool> &includeGameData, const std::optional<std::string> &q, const std::optional<std::string> &keyword, const std::optional<std::string> &sortField, const std::optional<bool> &descending, const std::optional<int32_t> &i, const std::optional<int32_t> &l, const std::optional<bool> &gameObjectCount, const std::optional<std::string> &filter, const std::optional<int64_t> &dateCreated, const std::optional<int64_t> &ownerId, const std::optional<std::string> &missionIds, const std::optional<std::string> &gameIds, const std::optional<std::string> &packIds, const std::optional<std::string> &gameLevelIds, const std::optional<std::string> &appVersion, const std::optional<bool> &includeHigherVersionPacks, const std::optional<bool> &includeHigherVersionLevels, const std::optional<std::string> &responseGroups, const std::optional<std::string> &purchaseType, Pistache::Http::ResponseWriter &response) = 0;
    /// <summary>
    /// Create App Data
    /// </summary>
    /// <remarks>
    /// Publish the application data structure.  Can be used to save levels   and scores.  It then returns the application data structure.  The basic   structure is a node tree, with the root node being a AppResponse.  The response   contains the user&#39;s profile, messages from the system, and a list of MissionResponse.    A mission can have any number of GameResponses but typically is a single   game type.  A game then has any number of PackResponses which help group   the game levels. Packs are then composed of any number of GameLevelResponses.      Using the various parameters can return the applications default mission   (built-in packs to play), the list of community levels published, the user&#39;s   saved levels, or explicity levels desired.  You can choose to include the   profile or not, or just return parts of the profile.  You can also filter   out game levels that have been published with a higher version of the application
    /// </remarks>
    /// <param name="version"></param>
    /// <param name="gameType">the game to retrieve the data for, use your application key.</param>
    /// <param name="start">start the search results at a record.</param>
    /// <param name="limit">limit the search results to some number.</param>
    /// <param name="data">The analytic data AnalyticListResponse</param>
    /// <param name="deviceId">the device id (deviceId or accountId required). (optional, default to &quot;&quot;)</param>
    /// <param name="accountId">the account id of the user (deviceId or accountId required). (optional, default to 0L)</param>
    /// <param name="includeGameData">if true then include the game data blob, otherwise don&#39;t include. (optional, default to false)</param>
    /// <param name="q">This parameter is deprecated. (optional, default to &quot;&quot;)</param>
    /// <param name="keyword">query string used to filter the search results when looking for community and saved levels. (optional, default to &quot;&quot;)</param>
    /// <param name="sortField">how to sort the results when looking for community and saved levels. possible values are: LEVEL_NAME, LEVEL_CREATED, LEVEL_UPDATED, LEVEL_LIKES, LEVEL_DISLIKES, LEVEL_NOTES, LEVEL_PLAYS. (optional, default to &quot;&quot;)</param>
    /// <param name="descending">order the search results descending or ascending when looking for community and saved levels. (optional, default to false)</param>
    /// <param name="i">This parameter is deprecated. (optional, default to 0)</param>
    /// <param name="l">This parameter is deprecated. (optional, default to 0)</param>
    /// <param name="gameObjectCount">if true then include the game object count, otherwise don&#39;t include. (optional, default to false)</param>
    /// <param name="filter">restrict the search to items with certain permissions, possible values are: MINE, FRIENDS, PUBLIC, ALL_PUBLIC, ALL, LIKED (optional, default to &quot;&quot;)</param>
    /// <param name="dateCreated">restrict the search to items created less then date (optional, default to 0L)</param>
    /// <param name="ownerId">get levels owned by a particular account (optional, default to 0L)</param>
    /// <param name="missionIds">get missions by specified id, comman seperated list of long ids (optional, default to &quot;&quot;)</param>
    /// <param name="gameIds">get games by specified id, comman seperated list of long ids (optional, default to &quot;&quot;)</param>
    /// <param name="packIds">get packs by specified id, comman seperated list of long ids (optional, default to &quot;&quot;)</param>
    /// <param name="gameLevelIds">get game levels by specified id, comman seperated list of long ids (optional, default to &quot;&quot;)</param>
    /// <param name="appVersion">the application version, used to versin the game level data (optional, default to &quot;&quot;)</param>
    /// <param name="includeHigherVersionPacks">default is false and will not include any packs that have levels above the specified appVersion. If true then will return all levels regardless of version. (optional, default to false)</param>
    /// <param name="includeHigherVersionLevels">default is false and will not include any levels above the specified appVersion. If true then will return all levels regardless of version. (optional, default to false)</param>
    /// <param name="responseGroups">use response groups to include large parts of the structure. possible values are: * MISSION_DEFAULT (default) - include the default mission (built-in packs), excludes all other mission groups * MISSION_DEFAULT_LEVELS_SAVED - include saved levels, excludes all other mission groups * MISSION_DEFAULT_LEVELS_COMMUNITY - include community levels, excludes all other mission groups * MISSION_INVITED (default) - include challenges sent to user * PROFILE (default) - include entire profile * PROFILE_DATA - only include profile date (exclude friends) * PROFILE_FRIENDS - include friends list  (optional, default to &quot;&quot;)</param>
    /// <param name="purchaseType">the will return the correct in app purchases for the device, possible values are: * SIRQUL (default) - purchasing from the sirqul store using tickets * IOS - purchasing from the itunes store for iPhone, iPod, iPod Touch * GOOGLE - purchasing from the google android store * AMAZON - purchasing from the amazon android store * MAC - purchasing from the itunes store for OSX * FREE - the item is free to purchase  (optional, default to &quot;&quot;)</param>
    virtual void post_app_data( const double &version, const std::optional<std::string> &gameType, const std::optional<int32_t> &start, const std::optional<int32_t> &limit, const std::optional<std::string> &data, const std::optional<std::string> &deviceId, const std::optional<int64_t> &accountId, const std::optional<bool> &includeGameData, const std::optional<std::string> &q, const std::optional<std::string> &keyword, const std::optional<std::string> &sortField, const std::optional<bool> &descending, const std::optional<int32_t> &i, const std::optional<int32_t> &l, const std::optional<bool> &gameObjectCount, const std::optional<std::string> &filter, const std::optional<int64_t> &dateCreated, const std::optional<int64_t> &ownerId, const std::optional<std::string> &missionIds, const std::optional<std::string> &gameIds, const std::optional<std::string> &packIds, const std::optional<std::string> &gameLevelIds, const std::optional<std::string> &appVersion, const std::optional<bool> &includeHigherVersionPacks, const std::optional<bool> &includeHigherVersionLevels, const std::optional<std::string> &responseGroups, const std::optional<std::string> &purchaseType, Pistache::Http::ResponseWriter &response) = 0;
    /// <summary>
    /// Regenerate App Data
    /// </summary>
    /// <remarks>
    /// Regenerate the app data cache for apps
    /// </remarks>
    /// <param name="version"></param>
    /// <param name="accountId">the account id of the user (optional, default to 0L)</param>
    /// <param name="appKey">process a specific application, if null process all apps with caches (optional, default to &quot;&quot;)</param>
    /// <param name="buildVersion">create a specific version, if null use current version. Be careful if processing all (optional, default to &quot;&quot;)</param>
    /// <param name="apiVersion">create a specific version, if null use current version. Be careful if processing all (optional, default to &quot;&quot;)</param>
    virtual void regen_app_data( const double &version, const std::optional<int64_t> &accountId, const std::optional<std::string> &appKey, const std::optional<std::string> &buildVersion, const std::optional<std::string> &apiVersion, Pistache::Http::ResponseWriter &response) = 0;

};

} // namespace org::openapitools::server::api

#endif /* AppDataApi_H_ */

