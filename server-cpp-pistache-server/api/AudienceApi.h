/**
* Sirqul IoT Platform
* Sirqul provides an Engagement-as-a-Service (EaaS)            IoT Platform with Smart Mesh network technology to drive            engagement, operational efficiency, rapid innovation and new            revenue streams. Please visit https://dev.sirqul.com/ for more            documents, examples, and sample applications.<?php $a = htmlspecialchars($_GET['appKey']);$b = htmlspecialchars($_GET['appRestKey']);?>
*
* The version of the OpenAPI document: 3.16
* Contact: info@sirqul.com
*
* NOTE: This class is auto generated by OpenAPI Generator (https://openapi-generator.tech).
* https://openapi-generator.tech
* Do not edit the class manually.
*/
/*
 * AudienceApi.h
 *
 * 
 */

#ifndef AudienceApi_H_
#define AudienceApi_H_


#include "ApiBase.h"

#include <pistache/http.h>
#include <pistache/router.h>
#include <pistache/http_headers.h>

#include <optional>
#include <utility>

#include "AgeGroupResponse.h"
#include "AudienceDeviceResponse.h"
#include "AudienceResponse.h"
#include "OfferListResponse.h"
#include "SearchResponse.h"
#include "SirqulResponse.h"
#include <string>
#include <vector>

namespace org::openapitools::server::api
{

class  AudienceApi : public ApiBase {
public:
    explicit AudienceApi(const std::shared_ptr<Pistache::Rest::Router>& rtr);
    ~AudienceApi() override = default;
    void init() override;

    static const std::string base;

private:
    void setupRoutes();

    void create_audience_handler(const Pistache::Rest::Request &request, Pistache::Http::ResponseWriter response);
    void delete_audience_handler(const Pistache::Rest::Request &request, Pistache::Http::ResponseWriter response);
    void get_age_groups_handler(const Pistache::Rest::Request &request, Pistache::Http::ResponseWriter response);
    void get_audience_handler(const Pistache::Rest::Request &request, Pistache::Http::ResponseWriter response);
    void get_audience_list_handler(const Pistache::Rest::Request &request, Pistache::Http::ResponseWriter response);
    void get_devices_handler(const Pistache::Rest::Request &request, Pistache::Http::ResponseWriter response);
    void get_experiences_handler(const Pistache::Rest::Request &request, Pistache::Http::ResponseWriter response);
    void get_grouped_audiences_handler(const Pistache::Rest::Request &request, Pistache::Http::ResponseWriter response);
    void list_by_account_handler(const Pistache::Rest::Request &request, Pistache::Http::ResponseWriter response);
    void list_by_audience_handler(const Pistache::Rest::Request &request, Pistache::Http::ResponseWriter response);
    void list_lastest_by_account_handler(const Pistache::Rest::Request &request, Pistache::Http::ResponseWriter response);
    void send_by_account_handler(const Pistache::Rest::Request &request, Pistache::Http::ResponseWriter response);
    void update_audience_handler(const Pistache::Rest::Request &request, Pistache::Http::ResponseWriter response);
    void audience_api_default_handler(const Pistache::Rest::Request &request, Pistache::Http::ResponseWriter response);

    /// <summary>
    /// Helper function to handle unexpected Exceptions during Parameter parsing and validation.
    /// May be overridden to return custom error formats. This is called inside a catch block.
    /// Important: When overriding, do not call `throw ex;`, but instead use `throw;`.
    /// </summary>
    virtual void handleParsingException(const std::exception& ex, Pistache::Http::ResponseWriter &response) const noexcept;

    /// <summary>
    /// Helper function to handle unexpected Exceptions during Parameter parsing and validation.
    /// May be overridden to return custom error formats. This is called inside a catch block.
    /// Important: When overriding, do not call `throw ex;`, but instead use `throw;`.
    /// </summary>
    virtual std::pair<Pistache::Http::Code, std::string> handleParsingException(const std::exception& ex) const noexcept;

    /// <summary>
    /// Helper function to handle unexpected Exceptions during processing of the request in handler functions.
    /// May be overridden to return custom error formats. This is called inside a catch block.
    /// Important: When overriding, do not call `throw ex;`, but instead use `throw;`.
    /// </summary>
    virtual void handleOperationException(const std::exception& ex, Pistache::Http::ResponseWriter &response) const noexcept;

    /// <summary>
    /// Helper function to handle unexpected Exceptions during processing of the request in handler functions.
    /// May be overridden to return custom error formats. This is called inside a catch block.
    /// Important: When overriding, do not call `throw ex;`, but instead use `throw;`.
    /// </summary>
    virtual std::pair<Pistache::Http::Code, std::string> handleOperationException(const std::exception& ex) const noexcept;

    /// <summary>
    /// Create Audience
    /// </summary>
    /// <remarks>
    /// Create a user defined audience.
    /// </remarks>
    /// <param name="version"></param>
    /// <param name="accountId">The logged in user.</param>
    /// <param name="name">The name of the audience</param>
    /// <param name="description">The description of the audience (optional, default to &quot;&quot;)</param>
    /// <param name="searchTags">The search tags (optional, default to &quot;&quot;)</param>
    /// <param name="gender">The gender; possible values are: MALE, FEMALE, ANY (optional, default to &quot;&quot;)</param>
    /// <param name="ageGroups">The list of age groups, comma separated; possible values are AGE_0_13, AGE_14_17, AGE_18_22, AGE_23_30, AGE_31_54, AGE_55_PLUS, AGE_ANY (to reset to none) (optional, default to &quot;&quot;)</param>
    /// <param name="categoryIds">The list of category ids, comma separated; possible values are retrieved via /api/{version}/category/search (pass in id values) (optional, default to &quot;&quot;)</param>
    /// <param name="applicationIds">The list of application ids, comma separated; possible values are retrieved via /api/{version}/application/list (pass in id values) (optional, default to &quot;&quot;)</param>
    /// <param name="gameExperienceLevel">The experience level of the player; possible values are: ANY, NEW, BEGINNER, INTERMEDIATE, EXPERT (optional, default to &quot;&quot;)</param>
    /// <param name="devices">(Deprecated) Use deviceIds. The list of targeted device names, comma separated; possible values are retrieved via /api/{version}/audience/devices (pass in name values) (optional, default to &quot;&quot;)</param>
    /// <param name="deviceIds">The list of targeted device ids, comma separated; possible values are retrieved via /api/{version}/audience/devices (pass in id values) (optional, default to &quot;&quot;)</param>
    /// <param name="deviceVersions">The list of targeted device version ranges that are aligned with the provided devices list, comma separated (examples: 2.3-X, 0-5.1.4, 4.3.1-6.1.4) (optional, default to &quot;&quot;)</param>
    /// <param name="locations">The list of locations to build the center around; comma separated list of latitude/longitude pairs (example: lat1,long1,lat2,long2) (optional, default to &quot;&quot;)</param>
    /// <param name="radius">The list of radius of influence for the audience, in miles; comma separated list. Either provide 1 to be applied to all location pairs or a matching list to each lat/long pair. (optional, default to &quot;&quot;)</param>
    /// <param name="startTimeOffset">Seconds from the start time of an event (optional, default to 0)</param>
    /// <param name="endTimeOffset">Seconds from the end time of an event (optional, default to 0)</param>
    /// <param name="sendSuggestion">If true, then notify matching users when they are inside the radius (optional, default to true)</param>
    /// <param name="associateDescription">The description of the associated object (optional, default to &quot;&quot;)</param>
    /// <param name="associateType">The type of the object to center the audience geofence (optional, default to &quot;&quot;)</param>
    /// <param name="associateId">The ID of the object to center the audience geofence (optional, default to 0L)</param>
    /// <param name="groupingId">Optional grouping id for the audience (optional, default to &quot;&quot;)</param>
    /// <param name="metaData">External custom client defined data (optional, default to &quot;&quot;)</param>
    /// <param name="visibility">Visibility of the audience (optional, default to &quot;&quot;)</param>
    /// <param name="audienceType">Type of audience (optional, default to &quot;&quot;)</param>
    /// <param name="useOrder">Use order for cohort (optional, default to false)</param>
    /// <param name="cohortRegionsData">Cohort data for \&quot;cohort\&quot; audience type (optional, default to &quot;&quot;)</param>
    /// <param name="appKey">Filter results by application key (optional, default to &quot;&quot;)</param>
    /// <param name="trilaterationTypes">Trilateration types (optional, default to &quot;&quot;)</param>
    /// <param name="uniqueName">If true, makes sure the audience name is unique (optional, default to false)</param>
    virtual void create_audience( const double &version, const std::optional<int64_t> &accountId, const std::optional<std::string> &name, const std::optional<std::string> &description, const std::optional<std::string> &searchTags, const std::optional<std::string> &gender, const std::optional<std::string> &ageGroups, const std::optional<std::string> &categoryIds, const std::optional<std::string> &applicationIds, const std::optional<std::string> &gameExperienceLevel, const std::optional<std::string> &devices, const std::optional<std::string> &deviceIds, const std::optional<std::string> &deviceVersions, const std::optional<std::string> &locations, const std::optional<std::string> &radius, const std::optional<int32_t> &startTimeOffset, const std::optional<int32_t> &endTimeOffset, const std::optional<bool> &sendSuggestion, const std::optional<std::string> &associateDescription, const std::optional<std::string> &associateType, const std::optional<int64_t> &associateId, const std::optional<std::string> &groupingId, const std::optional<std::string> &metaData, const std::optional<std::string> &visibility, const std::optional<std::string> &audienceType, const std::optional<bool> &useOrder, const std::optional<std::string> &cohortRegionsData, const std::optional<std::string> &appKey, const std::optional<std::string> &trilaterationTypes, const std::optional<bool> &uniqueName, Pistache::Http::ResponseWriter &response) = 0;
    /// <summary>
    /// Delete Audience
    /// </summary>
    /// <remarks>
    /// Delete an audience. The audience and account must be valid and have the appropirate permissions to view the content.
    /// </remarks>
    /// <param name="version"></param>
    /// <param name="accountId">The logged in user.</param>
    /// <param name="audienceId">The id of the audience to delete.</param>
    virtual void delete_audience( const double &version, const std::optional<int64_t> &accountId, const std::optional<int64_t> &audienceId, Pistache::Http::ResponseWriter &response) = 0;
    /// <summary>
    /// Get Age Groups
    /// </summary>
    /// <remarks>
    /// Gets the list of available age groups that can be selected by consumers and retailers targeting offers.
    /// </remarks>
    /// <param name="version"></param>
    virtual void get_age_groups( const double &version, Pistache::Http::ResponseWriter &response) = 0;
    /// <summary>
    /// Get Audience
    /// </summary>
    /// <remarks>
    /// Get an audience. The audience and account must be valid and have the appropriate permissions to view the content.
    /// </remarks>
    /// <param name="version"></param>
    /// <param name="accountId">The logged in user.</param>
    /// <param name="audienceId">The id of the audience to return.</param>
    /// <param name="appKey">The application key (optional). If provided, results may be scoped to this application. (optional, default to &quot;&quot;)</param>
    /// <param name="returnAccountCount">(boolean) set to true to include the accountCount associated with current audience of the current app (optional, default to false)</param>
    /// <param name="returnAlbumCount">(boolean) set to true to include the albumCount associated with current audience of the current app (optional, default to false)</param>
    /// <param name="albumTypesForCount">(String) comma separated list, return an array with each item is the count of each album type. If not provided, \&quot;all_types\&quot; count is returned. (optional, default to &quot;&quot;)</param>
    virtual void get_audience( const double &version, const std::optional<int64_t> &accountId, const std::optional<int64_t> &audienceId, const std::optional<std::string> &appKey, const std::optional<bool> &returnAccountCount, const std::optional<bool> &returnAlbumCount, const std::optional<std::string> &albumTypesForCount, Pistache::Http::ResponseWriter &response) = 0;
    /// <summary>
    /// Search Audiences
    /// </summary>
    /// <remarks>
    /// Get the list audiences owned by the account
    /// </remarks>
    /// <param name="version"></param>
    /// <param name="accountId">The logged in user. (optional, default to 0L)</param>
    /// <param name="albumIds">Comma separated list of album IDs to filter results with (optional, default to &quot;&quot;)</param>
    /// <param name="keyword">The keyword used to search (optional, default to &quot;&quot;)</param>
    /// <param name="keywordFields">Comma separated list of fields that the keywords will match against. Possible values include: SEARCH_TAGS, NAME, DESCRIPTION, OWNER_DISPLAY (optional, default to &quot;SEARCH_TAGS,NAME,DESCRIPTION&quot;)</param>
    /// <param name="sortField">The field to sort by, possible values include: {ID, CREATED, UPDATED, DELETED, SEARCH_TAGS, ACTIVE, NAME, DESCRIPTION, OWNER_ID, OWNER_DISPLAY, GENDER} (optional, default to &quot;NAME&quot;)</param>
    /// <param name="descending">The order to return the results. Default is false, which will return the results in ascending order. (optional, default to false)</param>
    /// <param name="start">The index into the record set to start with. (optional, default to 0)</param>
    /// <param name="limit">The total number of record to return (there is a hard limit of 100). (optional, default to 20)</param>
    /// <param name="sendSuggestion">Filter results based on whether or not the audience is set to send suggestions (optional, default to false)</param>
    /// <param name="activeOnly">Determines whether to return only active results. Default is false. (optional, default to false)</param>
    /// <param name="groupByGroupingId">Groups results by the audience groupingId (this does not work in conjunction with the following parameters: albumIds, audienceType, appKey, returnGlobal) (optional, default to false)</param>
    /// <param name="appKey">Filter results by application key (optional, default to &quot;&quot;)</param>
    /// <param name="returnGlobal">If filtering by appKey, determines whether or not audiences that do not have an application set will also be returned as well (optional, default to false)</param>
    /// <param name="exactKeyword">If true, match keyword exactly (optional, default to false)</param>
    /// <param name="audienceType">(Deprecated) Filter results by audience type (optional, default to &quot;&quot;)</param>
    /// <param name="audienceTypes">comma separated string with the different audience types you want to filter for (optional, default to &quot;&quot;)</param>
    /// <param name="returnAccountCount">(boolean) set to true to include the accountCount associated with current audience of the current app (optional, default to false)</param>
    /// <param name="returnAlbumCount">(boolean) set to true to include the albumCount associated with current audience of the current app (optional, default to false)</param>
    /// <param name="albumTypesForCount">(String) comma separated list, return an array with each item is the count of each album type. If not provided, \&quot;all_types\&quot; count is returned. (optional, default to &quot;&quot;)</param>
    virtual void get_audience_list( const double &version, const std::optional<int64_t> &accountId, const std::optional<std::string> &albumIds, const std::optional<std::string> &keyword, const std::optional<std::string> &keywordFields, const std::optional<std::string> &sortField, const std::optional<bool> &descending, const std::optional<int32_t> &start, const std::optional<int32_t> &limit, const std::optional<bool> &sendSuggestion, const std::optional<bool> &activeOnly, const std::optional<bool> &groupByGroupingId, const std::optional<std::string> &appKey, const std::optional<bool> &returnGlobal, const std::optional<bool> &exactKeyword, const std::optional<std::string> &audienceType, const std::optional<std::string> &audienceTypes, const std::optional<bool> &returnAccountCount, const std::optional<bool> &returnAlbumCount, const std::optional<std::string> &albumTypesForCount, Pistache::Http::ResponseWriter &response) = 0;
    /// <summary>
    /// Get Devices
    /// </summary>
    /// <remarks>
    /// Gets the list of available devices that can be selected by consumers and retailers.
    /// </remarks>
    /// <param name="version"></param>
    /// <param name="includeInactive">If true return inactive record as well. default is false.</param>
    virtual void get_devices( const double &version, const std::optional<bool> &includeInactive, Pistache::Http::ResponseWriter &response) = 0;
    /// <summary>
    /// Get Experiences
    /// </summary>
    /// <remarks>
    /// Gets the list of available experiences that can be selected by consumers and retailers.
    /// </remarks>
    /// <param name="version"></param>
    virtual void get_experiences( const double &version, Pistache::Http::ResponseWriter &response) = 0;
    /// <summary>
    /// Get GroupedAudiences
    /// </summary>
    /// <remarks>
    /// Get a group of audiences. The audience and account must be valid and have the appropriate permissions to view the content.
    /// </remarks>
    /// <param name="version"></param>
    /// <param name="accountId">The logged in user.</param>
    /// <param name="audienceGroupingId">The audience grouping id to return.</param>
    virtual void get_grouped_audiences( const double &version, const std::optional<int64_t> &accountId, const std::optional<std::string> &audienceGroupingId, Pistache::Http::ResponseWriter &response) = 0;
    /// <summary>
    /// List Suggestions by Audience
    /// </summary>
    /// <remarks>
    /// List either Missions or Offers that the user matches the assigned audience.
    /// </remarks>
    /// <param name="version"></param>
    /// <param name="accountId">The account to match offers for.</param>
    /// <param name="limit">the limit of the index</param>
    /// <param name="suggestionType">the type of suggestion</param>
    virtual void list_by_account( const double &version, const std::optional<int64_t> &accountId, const std::optional<int32_t> &limit, const std::optional<std::string> &suggestionType, Pistache::Http::ResponseWriter &response) = 0;
    /// <summary>
    /// List Offers by Audience
    /// </summary>
    /// <remarks>
    /// Get a list of offer locations based on audience information provided.
    /// </remarks>
    /// <param name="version"></param>
    /// <param name="limit">this is the limit of the index</param>
    /// <param name="gender">this is the gender to list offers by (optional, default to &quot;&quot;)</param>
    /// <param name="age">this is the age to list offers by (optional, default to 0)</param>
    /// <param name="categoryIds">this is the category IDs to list offers by (optional, default to &quot;&quot;)</param>
    /// <param name="latitude">this is the latitude to list offers by (optional, default to 0.0)</param>
    /// <param name="longitude">this is the longitude to list offers by (optional, default to 0.0)</param>
    virtual void list_by_audience( const double &version, const std::optional<int32_t> &limit, const std::optional<std::string> &gender, const std::optional<int32_t> &age, const std::optional<std::string> &categoryIds, const std::optional<double> &latitude, const std::optional<double> &longitude, Pistache::Http::ResponseWriter &response) = 0;
    /// <summary>
    /// List Sent Suggestions 
    /// </summary>
    /// <remarks>
    /// Return list of recent trigger suggestions that have been sent to the user.
    /// </remarks>
    /// <param name="version"></param>
    /// <param name="accountId">The account to match offers for.</param>
    /// <param name="timeframe">The timeframe in seconds of the latest suggestions</param>
    /// <param name="suggestionType">The type of trigger suggestions to return</param>
    virtual void list_lastest_by_account( const double &version, const std::optional<int64_t> &accountId, const std::optional<int32_t> &timeframe, const std::optional<std::string> &suggestionType, Pistache::Http::ResponseWriter &response) = 0;
    /// <summary>
    /// Send Suggestions
    /// </summary>
    /// <remarks>
    /// Use the accountId to determine the associated BillableEntity. From there get a list of all triggers associated with the BillableEntity.
    /// </remarks>
    /// <param name="version"></param>
    /// <param name="accountId">The account to match offers for.</param>
    /// <param name="latitude">the latitude</param>
    /// <param name="longitude">the longitude</param>
    virtual void send_by_account( const double &version, const std::optional<int64_t> &accountId, const std::optional<double> &latitude, const std::optional<double> &longitude, Pistache::Http::ResponseWriter &response) = 0;
    /// <summary>
    /// Update Audience
    /// </summary>
    /// <remarks>
    /// Update a user defined audience.
    /// </remarks>
    /// <param name="version"></param>
    /// <param name="accountId">The logged in user.</param>
    /// <param name="audienceId">The id of the audience to update.</param>
    /// <param name="name">The name of the audience (optional, default to &quot;&quot;)</param>
    /// <param name="description">The description of the audience (optional, default to &quot;&quot;)</param>
    /// <param name="searchTags">The search tags (optional, default to &quot;&quot;)</param>
    /// <param name="gender">The gender; possible values are: MALE, FEMALE, ANY (optional, default to &quot;&quot;)</param>
    /// <param name="ageGroups">The list of age groups, comma separated; possible values are AGE_0_13, AGE_14_17, AGE_18_22, AGE_23_30, AGE_31_54, AGE_55_PLUS, AGE_ANY (to reset to none) (optional, default to &quot;&quot;)</param>
    /// <param name="categoryIds">The list of category ids, comma separated; possible values are retrieved via /api/{version}/category/search (pass in id values) (optional, default to &quot;&quot;)</param>
    /// <param name="applicationIds">The list of application ids, comma separated; possible values are retrieved via /api/{version}/application/list (pass in id values) (optional, default to &quot;&quot;)</param>
    /// <param name="gameExperienceLevel">The experience level of the player; possible values are: ANY, NEW, BEGINNER, INTERMEDIATE, EXPERT (optional, default to &quot;&quot;)</param>
    /// <param name="devices">(Deprecated) Use deviceIds. The list of targeted device names, comma separated; possible values are retrieved via /api/{version}/audience/devices (pass in name values) (optional, default to &quot;&quot;)</param>
    /// <param name="deviceIds">The list of targeted device ids, comma separated; possible values are retrieved via /api/{version}/audience/devices (pass in id values) (optional, default to &quot;&quot;)</param>
    /// <param name="deviceVersions">The list of targeted device version ranges that are aligned with the provided devices list, comma separated (examples: 2.3-X, 0-5.1.4, 4.3.1-6.1.4) (optional, default to &quot;&quot;)</param>
    /// <param name="locations">The list of locations to build the center around; comma separated list of latitude/longitude pairs (example: lat1,long1,lat2,long2) (optional, default to &quot;&quot;)</param>
    /// <param name="radius">The list of radius of influence for the audience, in miles; comma separated list. Either provide 1 to be applied to all location pairs or a matching list to each lat/long pair. (optional, default to &quot;&quot;)</param>
    /// <param name="active">if audience is active (optional, default to false)</param>
    /// <param name="sendSuggestion">If true, then notify matching users when they are inside the radius (optional, default to false)</param>
    /// <param name="startTimeOffset">Seconds from the start time of an event (optional, default to 0)</param>
    /// <param name="endTimeOffset">Seconds from the end time of an event (optional, default to 0)</param>
    /// <param name="associateDescription">the associate description (optional, default to &quot;&quot;)</param>
    /// <param name="associateType">The type of the object to center the audience geofence (optional, default to &quot;&quot;)</param>
    /// <param name="associateId">The ID of the object to center the audience geofence (optional, default to 0L)</param>
    /// <param name="groupingId">Optional grouping id for the audience (optional, default to &quot;&quot;)</param>
    /// <param name="metaData">External custom client defined data (optional, default to &quot;&quot;)</param>
    /// <param name="visibility">Visibility of the audience (optional, default to &quot;&quot;)</param>
    /// <param name="audienceType">Type of audience (optional, default to &quot;&quot;)</param>
    /// <param name="useOrder">Use order for cohort (optional, default to false)</param>
    /// <param name="cohortRegionsData">Cohort data for \&quot;cohort\&quot; audience type (optional, default to &quot;&quot;)</param>
    /// <param name="appKey">Filter results by application key (optional, default to &quot;&quot;)</param>
    /// <param name="trilaterationTypes">Trilateration types (optional, default to &quot;&quot;)</param>
    /// <param name="uniqueName">If true, makes sure the audience name is unique (optional, default to false)</param>
    virtual void update_audience( const double &version, const std::optional<int64_t> &accountId, const std::optional<int64_t> &audienceId, const std::optional<std::string> &name, const std::optional<std::string> &description, const std::optional<std::string> &searchTags, const std::optional<std::string> &gender, const std::optional<std::string> &ageGroups, const std::optional<std::string> &categoryIds, const std::optional<std::string> &applicationIds, const std::optional<std::string> &gameExperienceLevel, const std::optional<std::string> &devices, const std::optional<std::string> &deviceIds, const std::optional<std::string> &deviceVersions, const std::optional<std::string> &locations, const std::optional<std::string> &radius, const std::optional<bool> &active, const std::optional<bool> &sendSuggestion, const std::optional<int32_t> &startTimeOffset, const std::optional<int32_t> &endTimeOffset, const std::optional<std::string> &associateDescription, const std::optional<std::string> &associateType, const std::optional<int64_t> &associateId, const std::optional<std::string> &groupingId, const std::optional<std::string> &metaData, const std::optional<std::string> &visibility, const std::optional<std::string> &audienceType, const std::optional<bool> &useOrder, const std::optional<std::string> &cohortRegionsData, const std::optional<std::string> &appKey, const std::optional<std::string> &trilaterationTypes, const std::optional<bool> &uniqueName, Pistache::Http::ResponseWriter &response) = 0;

};

} // namespace org::openapitools::server::api

#endif /* AudienceApi_H_ */

