/**
* Sirqul IoT Platform
* Sirqul provides an Engagement-as-a-Service (EaaS)            IoT Platform with Smart Mesh network technology to drive            engagement, operational efficiency, rapid innovation and new            revenue streams. Please visit https://dev.sirqul.com/ for more            documents, examples, and sample applications.<?php $a = htmlspecialchars($_GET['appKey']);$b = htmlspecialchars($_GET['appRestKey']);?>
*
* The version of the OpenAPI document: 3.16
* Contact: info@sirqul.com
*
* NOTE: This class is auto generated by OpenAPI Generator (https://openapi-generator.tech).
* https://openapi-generator.tech
* Do not edit the class manually.
*/
/*
 * UserPermissionsApi.h
 *
 * 
 */

#ifndef UserPermissionsApi_H_
#define UserPermissionsApi_H_


#include "ApiBase.h"

#include <pistache/http.h>
#include <pistache/router.h>
#include <pistache/http_headers.h>

#include <optional>
#include <utility>

#include "SirqulResponse.h"
#include "UserPermissionsResponse.h"
#include <string>
#include <vector>

namespace org::openapitools::server::api
{

class  UserPermissionsApi : public ApiBase {
public:
    explicit UserPermissionsApi(const std::shared_ptr<Pistache::Rest::Router>& rtr);
    ~UserPermissionsApi() override = default;
    void init() override;

    static const std::string base;

private:
    void setupRoutes();

    void add_users_to_permissionable_handler(const Pistache::Rest::Request &request, Pistache::Http::ResponseWriter response);
    void approve_permissionable_handler(const Pistache::Rest::Request &request, Pistache::Http::ResponseWriter response);
    void leave_from_permissionable_handler(const Pistache::Rest::Request &request, Pistache::Http::ResponseWriter response);
    void remove_users_from_permissionable_handler(const Pistache::Rest::Request &request, Pistache::Http::ResponseWriter response);
    void search_permissionables_handler(const Pistache::Rest::Request &request, Pistache::Http::ResponseWriter response);
    void search_permissionables_following_distance_handler(const Pistache::Rest::Request &request, Pistache::Http::ResponseWriter response);
    void user_permissions_api_default_handler(const Pistache::Rest::Request &request, Pistache::Http::ResponseWriter response);

    /// <summary>
    /// Helper function to handle unexpected Exceptions during Parameter parsing and validation.
    /// May be overridden to return custom error formats. This is called inside a catch block.
    /// Important: When overriding, do not call `throw ex;`, but instead use `throw;`.
    /// </summary>
    virtual void handleParsingException(const std::exception& ex, Pistache::Http::ResponseWriter &response) const noexcept;

    /// <summary>
    /// Helper function to handle unexpected Exceptions during Parameter parsing and validation.
    /// May be overridden to return custom error formats. This is called inside a catch block.
    /// Important: When overriding, do not call `throw ex;`, but instead use `throw;`.
    /// </summary>
    virtual std::pair<Pistache::Http::Code, std::string> handleParsingException(const std::exception& ex) const noexcept;

    /// <summary>
    /// Helper function to handle unexpected Exceptions during processing of the request in handler functions.
    /// May be overridden to return custom error formats. This is called inside a catch block.
    /// Important: When overriding, do not call `throw ex;`, but instead use `throw;`.
    /// </summary>
    virtual void handleOperationException(const std::exception& ex, Pistache::Http::ResponseWriter &response) const noexcept;

    /// <summary>
    /// Helper function to handle unexpected Exceptions during processing of the request in handler functions.
    /// May be overridden to return custom error formats. This is called inside a catch block.
    /// Important: When overriding, do not call `throw ex;`, but instead use `throw;`.
    /// </summary>
    virtual std::pair<Pistache::Http::Code, std::string> handleOperationException(const std::exception& ex) const noexcept;

    /// <summary>
    /// Add User
    /// </summary>
    /// <remarks>
    /// Adds a user to a permissionable object.
    /// </remarks>
    /// <param name="version"></param>
    /// <param name="permissionableType">the permissionable type of the object</param>
    /// <param name="permissionableId">the id of the permissionable object</param>
    /// <param name="deviceId">the device id (deviceId or accountId required) (optional, default to &quot;&quot;)</param>
    /// <param name="accountId">the account id of the user (deviceId or accountId required) (optional, default to 0L)</param>
    /// <param name="read">the read permission of the users/groups (optional, default to true)</param>
    /// <param name="write">the write permission of the users/groups (optional, default to false)</param>
    /// <param name="r_delete">the delete permission of the users/groups (optional, default to false)</param>
    /// <param name="add">the add permission of the users/groups (optional, default to false)</param>
    /// <param name="connectionIds">a comma separated list of connection ids (NOT the account ids) (optional, default to &quot;&quot;)</param>
    /// <param name="connectionAccountIds">a comma separated list of account ids (optional, default to &quot;&quot;)</param>
    /// <param name="connectionGroupIds">a comma separated list of connection group ids (these are groups made by the user) (optional, default to &quot;&quot;)</param>
    /// <param name="pending">sets whether the added users are marked as pending (and will require the album admins to accept) - admins can set this to false (to accept) (optional, default to false)</param>
    /// <param name="admin">sets whether the added users will become admins or not (optional, default to false)</param>
    /// <param name="includeFriendGroup">flag to determine whether to include the built-in \&quot;friends\&quot; group (optional, default to false)</param>
    /// <param name="latitude">the current latitude of the user (optional, default to 0.0)</param>
    /// <param name="longitude">the current longitude of the user (optional, default to 0.0)</param>
    /// <param name="audienceIds">comma separated list of audience ids. This is a feature only available to the permissionable&#39;s application owner (and its employees). This will add all users from these audiences to the permissionable object. Notifications will not be sent to users if this feature is used. (optional, default to &quot;&quot;)</param>
    virtual void add_users_to_permissionable( const double &version, const std::optional<std::string> &permissionableType, const std::optional<int64_t> &permissionableId, const std::optional<std::string> &deviceId, const std::optional<int64_t> &accountId, const std::optional<bool> &read, const std::optional<bool> &write, const std::optional<bool> &r_delete, const std::optional<bool> &add, const std::optional<std::string> &connectionIds, const std::optional<std::string> &connectionAccountIds, const std::optional<std::string> &connectionGroupIds, const std::optional<bool> &pending, const std::optional<bool> &admin, const std::optional<bool> &includeFriendGroup, const std::optional<double> &latitude, const std::optional<double> &longitude, const std::optional<std::string> &audienceIds, Pistache::Http::ResponseWriter &response) = 0;
    /// <summary>
    /// Approve Permissionable
    /// </summary>
    /// <remarks>
    /// Sets the approval status of a permissionable object.
    /// </remarks>
    /// <param name="version"></param>
    /// <param name="permissionableType">The permissionable type of the object</param>
    /// <param name="permissionableId">The id of the permissionable object</param>
    /// <param name="deviceId">A unique ID given by the device (deviceId or accountId required) (optional, default to &quot;&quot;)</param>
    /// <param name="accountId">The account ID of the user (deviceId or accountId required) (optional, default to 0L)</param>
    /// <param name="approvalStatus">The approval status to set {PENDING, REJECTED, APPROVED, FEATURED} (optional, default to &quot;APPROVED&quot;)</param>
    virtual void approve_permissionable( const double &version, const std::optional<std::string> &permissionableType, const std::optional<int64_t> &permissionableId, const std::optional<std::string> &deviceId, const std::optional<int64_t> &accountId, const std::optional<std::string> &approvalStatus, Pistache::Http::ResponseWriter &response) = 0;
    /// <summary>
    /// Leave
    /// </summary>
    /// <remarks>
    /// Used when the user wants to leave from someone else&#39;s permissionable object
    /// </remarks>
    /// <param name="version"></param>
    /// <param name="permissionableType">the permissionable type PermissionableType</param>
    /// <param name="permissionableId">the id of the permissionable object</param>
    /// <param name="deviceId">the device id (deviceId or accountId required) (optional, default to &quot;&quot;)</param>
    /// <param name="accountId">the account id of the user (deviceId or accountId required) (optional, default to 0L)</param>
    /// <param name="latitude">the current latitude of the user (optional, default to 0.0)</param>
    /// <param name="longitude">the current longitude of the user (optional, default to 0.0)</param>
    virtual void leave_from_permissionable( const double &version, const std::optional<std::string> &permissionableType, const std::optional<int64_t> &permissionableId, const std::optional<std::string> &deviceId, const std::optional<int64_t> &accountId, const std::optional<double> &latitude, const std::optional<double> &longitude, Pistache::Http::ResponseWriter &response) = 0;
    /// <summary>
    /// Remove User
    /// </summary>
    /// <remarks>
    /// Used to remove someone (assuming they have permission) from a permissionable object
    /// </remarks>
    /// <param name="version"></param>
    /// <param name="permissionableType">the permissionable type of the object</param>
    /// <param name="permissionableId">the id of the permissionable object</param>
    /// <param name="deviceId">the device id (deviceId or accountId required) (optional, default to &quot;&quot;)</param>
    /// <param name="accountId">the account id of the user (deviceId or accountId required) (optional, default to 0L)</param>
    /// <param name="connectionIds">a comma separated list of connection ids (NOT the account ids) (optional, default to &quot;&quot;)</param>
    /// <param name="connectionAccountIds">a comma separated list of account ids (optional, default to &quot;&quot;)</param>
    /// <param name="connectionGroupIds">a comma separated list of connection group ids (these are groups made by the user) (optional, default to &quot;&quot;)</param>
    /// <param name="removeFriendGroup">flag to determine whether to remove the built-in \&quot;friends\&quot; group (optional, default to false)</param>
    /// <param name="latitude">the current latitude of the user (optional, default to 0.0)</param>
    /// <param name="longitude">the current longitude of the user (optional, default to 0.0)</param>
    /// <param name="audienceIds">comma separated list of audience ids. This will remove all users from these audiences from the permissionable object. Notifications will not be sent to users if this feature is used. (optional, default to &quot;&quot;)</param>
    virtual void remove_users_from_permissionable( const double &version, const std::optional<std::string> &permissionableType, const std::optional<int64_t> &permissionableId, const std::optional<std::string> &deviceId, const std::optional<int64_t> &accountId, const std::optional<std::string> &connectionIds, const std::optional<std::string> &connectionAccountIds, const std::optional<std::string> &connectionGroupIds, const std::optional<bool> &removeFriendGroup, const std::optional<double> &latitude, const std::optional<double> &longitude, const std::optional<std::string> &audienceIds, Pistache::Http::ResponseWriter &response) = 0;
    /// <summary>
    /// Search Permissionables
    /// </summary>
    /// <remarks>
    /// Search on UserPermissions
    /// </remarks>
    /// <param name="version"></param>
    /// <param name="deviceId">A unique ID given by the device (deviceId or accountId required) (optional, default to &quot;&quot;)</param>
    /// <param name="accountId">The account ID of the user (deviceId or accountId required) (optional, default to 0L)</param>
    /// <param name="connectionAccountId">Filter results for a specific user account (optional, default to 0L)</param>
    /// <param name="connectionAccountIds">Comma separated list of account IDs to filter results with (optional, default to &quot;&quot;)</param>
    /// <param name="permissionableType">Filter user permissions by the permissionable object type (optional, default to &quot;&quot;)</param>
    /// <param name="permissionableId">The id of the permissionable object to filter by (optional, default to 0L)</param>
    /// <param name="keyword">Keyword to search within permissionable records (optional, default to &quot;&quot;)</param>
    /// <param name="sortField">Field to sort results on (optional, default to &quot;&quot;)</param>
    /// <param name="descending">Sort descending when true (optional, default to false)</param>
    /// <param name="pending">Return user permissions that are pending (optional, default to false)</param>
    /// <param name="admin">Return user permissions that are admins (optional, default to false)</param>
    /// <param name="start">the start index for pagination (optional, default to 0)</param>
    /// <param name="limit">the limit for pagination (optional, default to 20)</param>
    virtual void search_permissionables( const double &version, const std::optional<std::string> &deviceId, const std::optional<int64_t> &accountId, const std::optional<int64_t> &connectionAccountId, const std::optional<std::string> &connectionAccountIds, const std::optional<std::string> &permissionableType, const std::optional<int64_t> &permissionableId, const std::optional<std::string> &keyword, const std::optional<std::string> &sortField, const std::optional<bool> &descending, const std::optional<bool> &pending, const std::optional<bool> &admin, const std::optional<int32_t> &start, const std::optional<int32_t> &limit, Pistache::Http::ResponseWriter &response) = 0;
    /// <summary>
    /// Search Permissionables by Distnace
    /// </summary>
    /// <remarks>
    /// Search on UserPermissions by distance
    /// </remarks>
    /// <param name="version"></param>
    /// <param name="latitude">The latitude of the current account</param>
    /// <param name="longitude">The longitude of the current account</param>
    /// <param name="deviceId">A unique ID given by the device (deviceId or accountId required) (optional, default to &quot;&quot;)</param>
    /// <param name="accountId">The account ID of the user (deviceId or accountId required) (optional, default to 0L)</param>
    /// <param name="connectionAccountId">Filter results for a specific user account (optional, default to 0L)</param>
    /// <param name="connectionAccountIds">Comma separated list of account IDs to filter results with (optional, default to &quot;&quot;)</param>
    /// <param name="permissionableType">Filter user permissions by the permissionable object type (optional, default to &quot;&quot;)</param>
    /// <param name="permissionableId">The id of the permissionable object to filter by (optional, default to 0L)</param>
    /// <param name="searchRange">The search range in miles (optional, default to 5)</param>
    /// <param name="keyword">Keyword to search within permissionable records (optional, default to &quot;&quot;)</param>
    /// <param name="pending">Return user permissions that are pending (optional, default to false)</param>
    /// <param name="admin">Return user permissions that are admins (optional, default to false)</param>
    /// <param name="start">The start index for pagination (optional, default to 0)</param>
    /// <param name="limit">The limit for pagination (optional, default to 20)</param>
    virtual void search_permissionables_following_distance( const double &version, const std::optional<double> &latitude, const std::optional<double> &longitude, const std::optional<std::string> &deviceId, const std::optional<int64_t> &accountId, const std::optional<int64_t> &connectionAccountId, const std::optional<std::string> &connectionAccountIds, const std::optional<std::string> &permissionableType, const std::optional<int64_t> &permissionableId, const std::optional<double> &searchRange, const std::optional<std::string> &keyword, const std::optional<bool> &pending, const std::optional<bool> &admin, const std::optional<int32_t> &start, const std::optional<int32_t> &limit, Pistache::Http::ResponseWriter &response) = 0;

};

} // namespace org::openapitools::server::api

#endif /* UserPermissionsApi_H_ */

