/**
* Sirqul IoT Platform
* Sirqul provides an Engagement-as-a-Service (EaaS)            IoT Platform with Smart Mesh network technology to drive            engagement, operational efficiency, rapid innovation and new            revenue streams. Please visit https://dev.sirqul.com/ for more            documents, examples, and sample applications.<?php $a = htmlspecialchars($_GET['appKey']);$b = htmlspecialchars($_GET['appRestKey']);?>
*
* The version of the OpenAPI document: 3.16
* Contact: info@sirqul.com
*
* NOTE: This class is auto generated by OpenAPI Generator (https://openapi-generator.tech).
* https://openapi-generator.tech
* Do not edit the class manually.
*/
/*
 * PurchaseOrderApi.h
 *
 * 
 */

#ifndef PurchaseOrderApi_H_
#define PurchaseOrderApi_H_


#include "ApiBase.h"

#include <pistache/http.h>
#include <pistache/router.h>
#include <pistache/http_headers.h>

#include <optional>
#include <utility>

#include "OrderResponse.h"
#include "SirqulResponse.h"
#include <string>
#include <vector>

namespace org::openapitools::server::api
{

class  PurchaseOrderApi : public ApiBase {
public:
    explicit PurchaseOrderApi(const std::shared_ptr<Pistache::Rest::Router>& rtr);
    ~PurchaseOrderApi() override = default;
    void init() override;

    static const std::string base;

private:
    void setupRoutes();

    void create_order_handler(const Pistache::Rest::Request &request, Pistache::Http::ResponseWriter response);
    void delete_order_handler(const Pistache::Rest::Request &request, Pistache::Http::ResponseWriter response);
    void get_order_handler(const Pistache::Rest::Request &request, Pistache::Http::ResponseWriter response);
    void preview_order_handler(const Pistache::Rest::Request &request, Pistache::Http::ResponseWriter response);
    void search_orders_handler(const Pistache::Rest::Request &request, Pistache::Http::ResponseWriter response);
    void update_order_handler(const Pistache::Rest::Request &request, Pistache::Http::ResponseWriter response);
    void purchase_order_api_default_handler(const Pistache::Rest::Request &request, Pistache::Http::ResponseWriter response);

    /// <summary>
    /// Helper function to handle unexpected Exceptions during Parameter parsing and validation.
    /// May be overridden to return custom error formats. This is called inside a catch block.
    /// Important: When overriding, do not call `throw ex;`, but instead use `throw;`.
    /// </summary>
    virtual void handleParsingException(const std::exception& ex, Pistache::Http::ResponseWriter &response) const noexcept;

    /// <summary>
    /// Helper function to handle unexpected Exceptions during Parameter parsing and validation.
    /// May be overridden to return custom error formats. This is called inside a catch block.
    /// Important: When overriding, do not call `throw ex;`, but instead use `throw;`.
    /// </summary>
    virtual std::pair<Pistache::Http::Code, std::string> handleParsingException(const std::exception& ex) const noexcept;

    /// <summary>
    /// Helper function to handle unexpected Exceptions during processing of the request in handler functions.
    /// May be overridden to return custom error formats. This is called inside a catch block.
    /// Important: When overriding, do not call `throw ex;`, but instead use `throw;`.
    /// </summary>
    virtual void handleOperationException(const std::exception& ex, Pistache::Http::ResponseWriter &response) const noexcept;

    /// <summary>
    /// Helper function to handle unexpected Exceptions during processing of the request in handler functions.
    /// May be overridden to return custom error formats. This is called inside a catch block.
    /// Important: When overriding, do not call `throw ex;`, but instead use `throw;`.
    /// </summary>
    virtual std::pair<Pistache::Http::Code, std::string> handleOperationException(const std::exception& ex) const noexcept;

    /// <summary>
    /// Create Order
    /// </summary>
    /// <remarks>
    /// Creates a new purchase with some number of items associated with it. The purchase is added to the order that was created
    /// </remarks>
    /// <param name="version"></param>
    /// <param name="appKey">The application requesting the purchase</param>
    /// <param name="cart">&#x60;&#x60;&#x60;json [   { \&quot;orderItemType\&quot;: \&quot;OFFER\&quot;, \&quot;orderItemId\&quot;: 234, \&quot;orderCustomType\&quot;: \&quot;OfferLocation\&quot;, \&quot;orderCustomId\&quot;: 123, \&quot;retailerLocationId\&quot;: 1234, \&quot;quantity\&quot;: 2 },   { \&quot;orderItemType\&quot;: \&quot;OFFER\&quot;, \&quot;orderItemId\&quot;: 235, \&quot;quantity\&quot;: 2 },   { \&quot;orderItemType\&quot;: \&quot;CUSTOM\&quot;, \&quot;amount\&quot;: 10.50, \&quot;orderCustomType\&quot;: \&quot;ServiceFee\&quot; },   { \&quot;orderItemType\&quot;: \&quot;CUSTOM\&quot;, \&quot;amount\&quot;: 25.10, \&quot;quantity\&quot;: 2, \&quot;orderCustomType\&quot;: \&quot;Hat\&quot;, \&quot;orderCustomId\&quot;: 123 } ] &#x60;&#x60;&#x60; </param>
    /// <param name="deviceId">The device id (deviceId or accountId required) (optional, default to &quot;&quot;)</param>
    /// <param name="accountId">The account id of the user (deviceId or accountId required) (optional, default to 0L)</param>
    /// <param name="description">A description of the purchase (optional, default to &quot;&quot;)</param>
    /// <param name="currencyType">Determines the method of purchasing offer.  * VOID: used for when there is no payment involved (ie. for updating the status of a purchase order)  * CASH: use card on file  * POINTS: use account balance  * TICKETS: use tickets  * REFUND: not allowed for a create, requires a paymentTransactionId.  * CREDIT: add to the account balance  * RELOAD: charge a credit card then add to the account balance   (optional, default to &quot;CASH&quot;)</param>
    /// <param name="paymentMethodId">Use a specific payment method (CASH), if not provided use default (optional, default to 0L)</param>
    /// <param name="externalOrderId">Store identifier from external system (optional, default to &quot;&quot;)</param>
    /// <param name="externalPaymentId">Store identifier from external system (optional, default to &quot;&quot;)</param>
    /// <param name="remoteRefType">Remote Reference type (optional, default to &quot;&quot;)</param>
    /// <param name="externalDate">External Date (optional, default to 0L)</param>
    /// <param name="promoCode">The Promo Code (optional, default to &quot;&quot;)</param>
    virtual void create_order( const double &version, const std::optional<std::string> &appKey, const std::optional<std::string> &cart, const std::optional<std::string> &deviceId, const std::optional<int64_t> &accountId, const std::optional<std::string> &description, const std::optional<std::string> &currencyType, const std::optional<int64_t> &paymentMethodId, const std::optional<std::string> &externalOrderId, const std::optional<std::string> &externalPaymentId, const std::optional<std::string> &remoteRefType, const std::optional<int64_t> &externalDate, const std::optional<std::string> &promoCode, Pistache::Http::ResponseWriter &response) = 0;
    /// <summary>
    /// Delete Order
    /// </summary>
    /// <remarks>
    /// Removes the transaction from the wallet by setting the deleted date to the current date/time.  Requires a valid account and transactionId.
    /// </remarks>
    /// <param name="version"></param>
    /// <param name="orderId">Order Id</param>
    /// <param name="deviceId">The device id (deviceId or accountId required) (optional, default to &quot;&quot;)</param>
    /// <param name="accountId">The account id of the user (deviceId or accountId required) (optional, default to 0L)</param>
    virtual void delete_order( const double &version, const std::optional<int64_t> &orderId, const std::optional<std::string> &deviceId, const std::optional<int64_t> &accountId, Pistache::Http::ResponseWriter &response) = 0;
    /// <summary>
    /// Get Order
    /// </summary>
    /// <remarks>
    /// Get an order record
    /// </remarks>
    /// <param name="version"></param>
    /// <param name="deviceId">The device id (deviceId or accountId required) (optional, default to &quot;&quot;)</param>
    /// <param name="accountId">The account id of the user (deviceId or accountId required) (optional, default to 0L)</param>
    /// <param name="orderId">The order id to get details of, either orderId or externalOrderId must be provided (optional, default to 0L)</param>
    /// <param name="externalOrderId">The external order id to get details of, either orderId or externalOrderId must be provided (optional, default to &quot;&quot;)</param>
    virtual void get_order( const double &version, const std::optional<std::string> &deviceId, const std::optional<int64_t> &accountId, const std::optional<int64_t> &orderId, const std::optional<std::string> &externalOrderId, Pistache::Http::ResponseWriter &response) = 0;
    /// <summary>
    /// Preview Order
    /// </summary>
    /// <remarks>
    /// Previews a purchase to see the total cost before making it.
    /// </remarks>
    /// <param name="version"></param>
    /// <param name="appKey">The application requesting the purchase</param>
    /// <param name="cart">A JSON list of items to purchase</param>
    /// <param name="deviceId">The device id (deviceId or accountId required) (optional, default to &quot;&quot;)</param>
    /// <param name="accountId">The account id of the user (deviceId or accountId required) (optional, default to 0L)</param>
    /// <param name="description">A description of the purchase (optional, default to &quot;&quot;)</param>
    /// <param name="currencyType">Determines the method of purchasing offer. &#x60;&#x60;&#x60;json {   \&quot;VOID\&quot;: \&quot;used for when there is no payment involved (ie. for updating the status of a purchase order)\&quot;,   \&quot;CASH\&quot;: \&quot;use card on file\&quot;,   \&quot;POINTS\&quot;: \&quot;use account balance\&quot;,   \&quot;TICKETS\&quot;: \&quot;use tickets\&quot;,   \&quot;REFUND\&quot;: \&quot;not allowed for a create, requires a paymentTransactionId\&quot;,   \&quot;CREDIT\&quot;: \&quot;add to the account balance\&quot;,   \&quot;RELOAD\&quot;: \&quot;charge a credit card then add to the account balance\&quot; } &#x60;&#x60;&#x60;  (optional, default to &quot;CASH&quot;)</param>
    /// <param name="paymentMethodId">Use a specific payment method (CASH), if not provided use default (optional, default to 0L)</param>
    /// <param name="externalOrderId">Store identifier from external system (optional, default to &quot;&quot;)</param>
    /// <param name="externalPaymentId">Store identifier from external system (optional, default to &quot;&quot;)</param>
    /// <param name="remoteRefType">Remote Reference type (optional, default to &quot;&quot;)</param>
    /// <param name="externalDate">External Date (optional, default to 0L)</param>
    /// <param name="promoCode">The Promo Code (optional, default to &quot;&quot;)</param>
    virtual void preview_order( const double &version, const std::optional<std::string> &appKey, const std::optional<std::string> &cart, const std::optional<std::string> &deviceId, const std::optional<int64_t> &accountId, const std::optional<std::string> &description, const std::optional<std::string> &currencyType, const std::optional<int64_t> &paymentMethodId, const std::optional<std::string> &externalOrderId, const std::optional<std::string> &externalPaymentId, const std::optional<std::string> &remoteRefType, const std::optional<int64_t> &externalDate, const std::optional<std::string> &promoCode, Pistache::Http::ResponseWriter &response) = 0;
    /// <summary>
    /// Search Orders
    /// </summary>
    /// <remarks>
    /// Search on active orders by customer
    /// </remarks>
    /// <param name="version"></param>
    /// <param name="appKey">The application requesting the purchase</param>
    /// <param name="deviceId">The device id (deviceId or accountId required) (optional, default to &quot;&quot;)</param>
    /// <param name="accountId">The account id of the user (deviceId or accountId required) (optional, default to 0L)</param>
    /// <param name="start">The start index for pagination (optional, default to 0)</param>
    /// <param name="limit">The limit for pagination (optional, default to 20)</param>
    /// <param name="descending">Determines whether to return the resulting list in descending or ascending order (optional, default to true)</param>
    /// <param name="activeOnly">Only return active orders (optional, default to false)</param>
    /// <param name="ignoreCustomerFilter">Determines whether to ignore the customer filter (requires an Admin/Exec account) (optional, default to false)</param>
    /// <param name="orderItemTypes">Filter results by orderItemTypes (optional, default to &quot;&quot;)</param>
    /// <param name="orderItemIds">Filter results by orderItemIds (optional, default to &quot;&quot;)</param>
    /// <param name="orderCustomTypes">Filter results by orderCustomTypes (optional, default to &quot;&quot;)</param>
    /// <param name="orderCustomIds">Filter results by orderCustomIds (optional, default to &quot;&quot;)</param>
    /// <param name="sortField">Determines what to sort the results by (optional, default to &quot;ID&quot;)</param>
    /// <param name="offerTypes">Filter results by offer type (optional, default to &quot;&quot;)</param>
    /// <param name="specialOfferTypes">Filter results by special offer type (optional, default to &quot;&quot;)</param>
    /// <param name="categoryIds">Filter results by category Ids (optional, default to &quot;&quot;)</param>
    /// <param name="filterIds">Filter results by filter Ids (optional, default to &quot;&quot;)</param>
    /// <param name="offerAudienceIds">Filter results by offer audience Ids (optional, default to &quot;&quot;)</param>
    /// <param name="transactionAudienceIds">Filter results by transaction audience Ids (optional, default to &quot;&quot;)</param>
    /// <param name="offerIds">Filter results by offer Ids (optional, default to &quot;&quot;)</param>
    /// <param name="offerLocationIds">Filter results by offer location Ids (optional, default to &quot;&quot;)</param>
    /// <param name="retailerIds">Filter results by retailer Ids (optional, default to &quot;&quot;)</param>
    /// <param name="retailerLocationIds">Filter results by retailer location Ids (optional, default to &quot;&quot;)</param>
    /// <param name="statuses">Filter results by offer transaction status (0: non-redeemable, 1: redeemable, 2: redeemed, 3: user deleted, 4: unclaimed/rewarded, 5: membership active, 6: membership cancelled) (optional, default to &quot;&quot;)</param>
    /// <param name="keyword">The keyword to search for (optional, default to &quot;&quot;)</param>
    /// <param name="redeemableStartDate">Filter results by the offer redeemable date (optional, default to 0L)</param>
    /// <param name="redeemableEndDate">Filter results by the offer redeemable date (optional, default to 0L)</param>
    /// <param name="startedSince">Filter results by the offer start date (optional, default to 0L)</param>
    /// <param name="startedBefore">Filter results by the offer start date (optional, default to 0L)</param>
    /// <param name="endedSince">Filter results by the offer end date (optional, default to 0L)</param>
    /// <param name="endedBefore">Filter results by the offer end date (optional, default to 0L)</param>
    virtual void search_orders( const double &version, const std::optional<std::string> &appKey, const std::optional<std::string> &deviceId, const std::optional<int64_t> &accountId, const std::optional<int32_t> &start, const std::optional<int32_t> &limit, const std::optional<bool> &descending, const std::optional<bool> &activeOnly, const std::optional<bool> &ignoreCustomerFilter, const std::optional<std::string> &orderItemTypes, const std::optional<std::string> &orderItemIds, const std::optional<std::string> &orderCustomTypes, const std::optional<std::string> &orderCustomIds, const std::optional<std::string> &sortField, const std::optional<std::string> &offerTypes, const std::optional<std::string> &specialOfferTypes, const std::optional<std::string> &categoryIds, const std::optional<std::string> &filterIds, const std::optional<std::string> &offerAudienceIds, const std::optional<std::string> &transactionAudienceIds, const std::optional<std::string> &offerIds, const std::optional<std::string> &offerLocationIds, const std::optional<std::string> &retailerIds, const std::optional<std::string> &retailerLocationIds, const std::optional<std::string> &statuses, const std::optional<std::string> &keyword, const std::optional<int64_t> &redeemableStartDate, const std::optional<int64_t> &redeemableEndDate, const std::optional<int64_t> &startedSince, const std::optional<int64_t> &startedBefore, const std::optional<int64_t> &endedSince, const std::optional<int64_t> &endedBefore, Pistache::Http::ResponseWriter &response) = 0;
    /// <summary>
    /// Update Order
    /// </summary>
    /// <remarks>
    /// Updates new purchase with some number of items associated with it. The orderId provided is used to retrieve the record and the payment is added to it.
    /// </remarks>
    /// <param name="version"></param>
    /// <param name="orderId">The order to add the purchase to, leave null for new order.</param>
    /// <param name="appKey">The application requesting the purchase</param>
    /// <param name="cart">&#x60;&#x60;&#x60;json [   { \&quot;orderItemType\&quot;: \&quot;OFFER\&quot;, \&quot;orderItemId\&quot;: 234, \&quot;orderCustomType\&quot;: \&quot;OfferLocation\&quot;, \&quot;orderCustomId\&quot;: 123, \&quot;retailerLocationId\&quot;: 1234, \&quot;quantity\&quot;: 2 },   { \&quot;orderItemType\&quot;: \&quot;OFFER\&quot;, \&quot;orderItemId\&quot;: 235, \&quot;quantity\&quot;: 2 },   { \&quot;orderItemType\&quot;: \&quot;CUSTOM\&quot;, \&quot;amount\&quot;: 10.50, \&quot;orderCustomType\&quot;: \&quot;ServiceFee\&quot; },   { \&quot;orderItemType\&quot;: \&quot;CUSTOM\&quot;, \&quot;amount\&quot;: 25.10, \&quot;quantity\&quot;: 2, \&quot;orderCustomType\&quot;: \&quot;Hat\&quot;, \&quot;orderCustomId\&quot;: 123 } ] &#x60;&#x60;&#x60; </param>
    /// <param name="deviceId">The device id (deviceId or accountId required) (optional, default to &quot;&quot;)</param>
    /// <param name="accountId">The account id of the user (deviceId or accountId required) (optional, default to 0L)</param>
    /// <param name="paymentTransactionId">The payment transaction to apply the refund to (optional, default to 0L)</param>
    /// <param name="description">A description of the purchase (optional, default to &quot;&quot;)</param>
    /// <param name="currencyType">Determines the method of purchasing offer.  * VOID: used for when there is no payment involved (ie. for updating the status of a purchase order)  * CASH: use card on file  * POINTS: use account balance  * TICKETS: use tickets  * REFUND: not allowed for a create, requires a paymentTransactionId.  * CREDIT: add to the account balance  * RELOAD: charge a credit card then add to the account balance   (optional, default to &quot;CASH&quot;)</param>
    /// <param name="paymentMethodId">Use a specific payment method (CASH), if not provided use default (optional, default to 0L)</param>
    /// <param name="externalPaymentId">Store identifier from external system (optional, default to &quot;&quot;)</param>
    /// <param name="externalDate">External Date (optional, default to 0L)</param>
    virtual void update_order( const double &version, const std::optional<int64_t> &orderId, const std::optional<std::string> &appKey, const std::optional<std::string> &cart, const std::optional<std::string> &deviceId, const std::optional<int64_t> &accountId, const std::optional<int64_t> &paymentTransactionId, const std::optional<std::string> &description, const std::optional<std::string> &currencyType, const std::optional<int64_t> &paymentMethodId, const std::optional<std::string> &externalPaymentId, const std::optional<int64_t> &externalDate, Pistache::Http::ResponseWriter &response) = 0;

};

} // namespace org::openapitools::server::api

#endif /* PurchaseOrderApi_H_ */

