/**
* Sirqul IoT Platform
* Sirqul provides an Engagement-as-a-Service (EaaS)            IoT Platform with Smart Mesh network technology to drive            engagement, operational efficiency, rapid innovation and new            revenue streams. Please visit https://dev.sirqul.com/ for more            documents, examples, and sample applications.<?php $a = htmlspecialchars($_GET['appKey']);$b = htmlspecialchars($_GET['appRestKey']);?>
*
* The version of the OpenAPI document: 3.16
* Contact: info@sirqul.com
*
* NOTE: This class is auto generated by OpenAPI Generator (https://openapi-generator.tech).
* https://openapi-generator.tech
* Do not edit the class manually.
*/
/*
 * WalletApi.h
 *
 * 
 */

#ifndef WalletApi_H_
#define WalletApi_H_


#include "ApiBase.h"

#include <pistache/http.h>
#include <pistache/router.h>
#include <pistache/http_headers.h>

#include <optional>
#include <utility>

#include "OfferTransactionResponse.h"
#include "SirqulResponse.h"
#include <string>
#include <vector>

namespace org::openapitools::server::api
{

class  WalletApi : public ApiBase {
public:
    explicit WalletApi(const std::shared_ptr<Pistache::Rest::Router>& rtr);
    ~WalletApi() override = default;
    void init() override;

    static const std::string base;

private:
    void setupRoutes();

    void create_offer_transaction_handler(const Pistache::Rest::Request &request, Pistache::Http::ResponseWriter response);
    void delete_offer_transaction_handler(const Pistache::Rest::Request &request, Pistache::Http::ResponseWriter response);
    void get_offer_transaction_handler(const Pistache::Rest::Request &request, Pistache::Http::ResponseWriter response);
    void preview_offer_transaction_handler(const Pistache::Rest::Request &request, Pistache::Http::ResponseWriter response);
    void search_offer_transactions_handler(const Pistache::Rest::Request &request, Pistache::Http::ResponseWriter response);
    void update_offer_transaction_handler(const Pistache::Rest::Request &request, Pistache::Http::ResponseWriter response);
    void wallet_api_default_handler(const Pistache::Rest::Request &request, Pistache::Http::ResponseWriter response);

    /// <summary>
    /// Helper function to handle unexpected Exceptions during Parameter parsing and validation.
    /// May be overridden to return custom error formats. This is called inside a catch block.
    /// Important: When overriding, do not call `throw ex;`, but instead use `throw;`.
    /// </summary>
    virtual void handleParsingException(const std::exception& ex, Pistache::Http::ResponseWriter &response) const noexcept;

    /// <summary>
    /// Helper function to handle unexpected Exceptions during Parameter parsing and validation.
    /// May be overridden to return custom error formats. This is called inside a catch block.
    /// Important: When overriding, do not call `throw ex;`, but instead use `throw;`.
    /// </summary>
    virtual std::pair<Pistache::Http::Code, std::string> handleParsingException(const std::exception& ex) const noexcept;

    /// <summary>
    /// Helper function to handle unexpected Exceptions during processing of the request in handler functions.
    /// May be overridden to return custom error formats. This is called inside a catch block.
    /// Important: When overriding, do not call `throw ex;`, but instead use `throw;`.
    /// </summary>
    virtual void handleOperationException(const std::exception& ex, Pistache::Http::ResponseWriter &response) const noexcept;

    /// <summary>
    /// Helper function to handle unexpected Exceptions during processing of the request in handler functions.
    /// May be overridden to return custom error formats. This is called inside a catch block.
    /// Important: When overriding, do not call `throw ex;`, but instead use `throw;`.
    /// </summary>
    virtual std::pair<Pistache::Http::Code, std::string> handleOperationException(const std::exception& ex) const noexcept;

    /// <summary>
    /// Create Wallet Offers
    /// </summary>
    /// <remarks>
    /// Adds offers to the wallet
    /// </remarks>
    /// <param name="version"></param>
    /// <param name="deviceId">The device id (deviceId or accountId required) (optional, default to &quot;&quot;)</param>
    /// <param name="accountId">The account id of the user (deviceId or accountId required) (optional, default to 0L)</param>
    /// <param name="offerId">The id of the offer being added (offerId or offeLocationId required) (optional, default to 0L)</param>
    /// <param name="offerLocationId">The id of the offer location being added (offerId or offeLocationId required) (optional, default to 0L)</param>
    /// <param name="offerCart">A JSON list of offers to purchase. &#x60;&#x60;&#x60;json [   {     \&quot;offerId\&quot;: 123,     \&quot;offerLocationId\&quot;: 234,     \&quot;quantity\&quot;: 2   },   {     \&quot;offerId\&quot;: 456,     \&quot;offerLocationId\&quot;: 567,     \&quot;quantity\&quot;: 1   } ] &#x60;&#x60;&#x60;  (optional, default to &quot;&quot;)</param>
    /// <param name="promoCode">The promoCode (optional, default to &quot;&quot;)</param>
    /// <param name="currencyType">Determines the method of purchasing offer. CASH &#x3D; use card on file, POINTS &#x3D; use points, TICKETS &#x3D; use tickets (optional, default to &quot;CASH&quot;)</param>
    /// <param name="usePoints">Sets the currencyType to POINTS (optional, default to false)</param>
    /// <param name="metaData">External custom client defined data (optional, default to &quot;&quot;)</param>
    /// <param name="appKey">The application requesting the purchase, required when currencyType is TICKETS (optional, default to &quot;&quot;)</param>
    /// <param name="status">Custom status value to change to (0 or 1 for redeem, 5 or 6 for membership) (optional, default to 0)</param>
    virtual void create_offer_transaction( const double &version, const std::optional<std::string> &deviceId, const std::optional<int64_t> &accountId, const std::optional<int64_t> &offerId, const std::optional<int64_t> &offerLocationId, const std::optional<std::string> &offerCart, const std::optional<std::string> &promoCode, const std::optional<std::string> &currencyType, const std::optional<bool> &usePoints, const std::optional<std::string> &metaData, const std::optional<std::string> &appKey, const std::optional<int32_t> &status, Pistache::Http::ResponseWriter &response) = 0;
    /// <summary>
    /// Delete Wallet Offer
    /// </summary>
    /// <remarks>
    /// Removes the transaction from the wallet by setting the deleted date to the current date/time.  Requires a valid account and transactionId.
    /// </remarks>
    /// <param name="version"></param>
    /// <param name="transactionId">The offer transaction id to remove</param>
    /// <param name="deviceId">The device id (deviceId or accountId required) (optional, default to &quot;&quot;)</param>
    /// <param name="accountId">The account id of the user (deviceId or accountId required) (optional, default to 0L)</param>
    virtual void delete_offer_transaction( const double &version, const std::optional<int64_t> &transactionId, const std::optional<std::string> &deviceId, const std::optional<int64_t> &accountId, Pistache::Http::ResponseWriter &response) = 0;
    /// <summary>
    /// Get Wallet Offer
    /// </summary>
    /// <remarks>
    /// 
    /// </remarks>
    /// <param name="version"></param>
    /// <param name="transactionId">The offer transaction id to get details of</param>
    /// <param name="deviceId">The device id (deviceId or accountId required) (optional, default to &quot;&quot;)</param>
    /// <param name="accountId">The account id of the user (deviceId or accountId required) (optional, default to 0L)</param>
    /// <param name="includeMission">If true then include mission data, false to not include (optional, default to false)</param>
    /// <param name="latitude">The latitude location of the user (optional, default to 0.0)</param>
    /// <param name="longitude">The latitude location of the user (optional, default to 0.0)</param>
    /// <param name="returnFullResponse">Determines whether to return a detailed version of the response (optional, default to true)</param>
    virtual void get_offer_transaction( const double &version, const std::optional<int64_t> &transactionId, const std::optional<std::string> &deviceId, const std::optional<int64_t> &accountId, const std::optional<bool> &includeMission, const std::optional<double> &latitude, const std::optional<double> &longitude, const std::optional<bool> &returnFullResponse, Pistache::Http::ResponseWriter &response) = 0;
    /// <summary>
    /// Preview Wallet Offers
    /// </summary>
    /// <remarks>
    /// Preview the final cost of a transaction without charging the user
    /// </remarks>
    /// <param name="version"></param>
    /// <param name="deviceId">The device id (deviceId or accountId required) (optional, default to &quot;&quot;)</param>
    /// <param name="accountId">The account id of the user (deviceId or accountId required) (optional, default to 0L)</param>
    /// <param name="offerId">The id of the offer being added (offerId or offeLocationId required) (optional, default to 0L)</param>
    /// <param name="offerLocationId">The id of the offer location being added (offerId or offeLocationId required) (optional, default to 0L)</param>
    /// <param name="offerCart">A JSON list of offers to purchase. (optional, default to &quot;&quot;)</param>
    /// <param name="promoCode">The promoCode (optional, default to &quot;&quot;)</param>
    /// <param name="currencyType">Determines the method of purchasing offer. CASH &#x3D; use card on file, POINTS &#x3D; use points, TICKETS &#x3D; use tickets (optional, default to &quot;CASH&quot;)</param>
    /// <param name="usePoints">Sets the currencyType to POINTS (optional, default to false)</param>
    /// <param name="metaData">External custom client defined data (optional, default to &quot;&quot;)</param>
    /// <param name="appKey">The application requesting the purchase, required when currencyType is TICKETS (optional, default to &quot;&quot;)</param>
    virtual void preview_offer_transaction( const double &version, const std::optional<std::string> &deviceId, const std::optional<int64_t> &accountId, const std::optional<int64_t> &offerId, const std::optional<int64_t> &offerLocationId, const std::optional<std::string> &offerCart, const std::optional<std::string> &promoCode, const std::optional<std::string> &currencyType, const std::optional<bool> &usePoints, const std::optional<std::string> &metaData, const std::optional<std::string> &appKey, Pistache::Http::ResponseWriter &response) = 0;
    /// <summary>
    /// Search Wallet Offers
    /// </summary>
    /// <remarks>
    /// Search on active offers currently in the user&#39;s wallet, or past offers the user has already redeemed.
    /// </remarks>
    /// <param name="version"></param>
    /// <param name="deviceId">The device id (deviceId or accountId required) (optional, default to &quot;&quot;)</param>
    /// <param name="accountId">The account id of the user (deviceId or accountId required) (optional, default to 0L)</param>
    /// <param name="keyword">The keyword to search for (optional, default to &quot;&quot;)</param>
    /// <param name="retailerId">Filter results for this retailer (optional, default to 0L)</param>
    /// <param name="retailerIds">Filter results for a list of retailers (optional, default to &quot;&quot;)</param>
    /// <param name="retailerLocationId">Filter results for this retailer location (optional, default to 0L)</param>
    /// <param name="retailerLocationIds">Filter results for a list of retailer locations (optional, default to &quot;&quot;)</param>
    /// <param name="excludeRetailerLocationIds">Filter results to exclude retailer locations (optional, default to &quot;&quot;)</param>
    /// <param name="offerId">Filter results for this offer (optional, default to 0L)</param>
    /// <param name="offerIds">Filter results for a list of offer (optional, default to &quot;&quot;)</param>
    /// <param name="offerLocationId">Filter results for this offer location (optional, default to 0L)</param>
    /// <param name="offerLocationIds">Filter results for a list of offer locations (optional, default to &quot;&quot;)</param>
    /// <param name="offerType">Filter results to return a specific offer type (optional, default to &quot;&quot;)</param>
    /// <param name="offerTypes">Filter results to return specific offer types (optional, default to &quot;&quot;)</param>
    /// <param name="specialOfferType">Filter results to return a specific special offer type (optional, default to &quot;&quot;)</param>
    /// <param name="specialOfferTypes">Filter results to return specific special offer types (optional, default to &quot;&quot;)</param>
    /// <param name="categoryIds">Category Ids (optional, default to &quot;&quot;)</param>
    /// <param name="filterIds">Filter Ids (optional, default to &quot;&quot;)</param>
    /// <param name="offerAudienceIds">Offer Audience Ids (optional, default to &quot;&quot;)</param>
    /// <param name="sortField">Determines what to sort the results by (optional, default to &quot;CREATED&quot;)</param>
    /// <param name="descending">Determines whether the results are in descending order (optional, default to true)</param>
    /// <param name="start">The start index for pagination (optional, default to 0)</param>
    /// <param name="limit">The limit for pagination (optional, default to 20)</param>
    /// <param name="latitude">The latitude location of the user (optional, default to 0.0)</param>
    /// <param name="longitude">The latitude location of the user (optional, default to 0.0)</param>
    /// <param name="redeemableStartDate">Filter results by the offer redeemable date (optional, default to 0L)</param>
    /// <param name="redeemableEndDate">Filter results by the offer redeemable date (optional, default to 0L)</param>
    /// <param name="filterByParentOffer">Apply params to offer&#39;s parent (optional, default to false)</param>
    /// <param name="startedSince">Filter results by the offer start date (optional, default to 0L)</param>
    /// <param name="startedBefore">Filter results by the offer start date (optional, default to 0L)</param>
    /// <param name="endedSince">Filter results by the offer end date (optional, default to 0L)</param>
    /// <param name="endedBefore">Filter results by the offer end date (optional, default to 0L)</param>
    /// <param name="redeemed">If true return redeemed transactions (status 2), otherwise return active transactions (status 0 or 1) (optional, default to false)</param>
    /// <param name="statuses">Custom status value to change to (0 or 1 for redeem, 5 or 6 for membership) (optional, default to &quot;&quot;)</param>
    /// <param name="reservationsOnly">Returns only reservation transactions if true (optional, default to false)</param>
    /// <param name="activeOnly">Active Only (optional, default to false)</param>
    /// <param name="returnFullResponse">Determines whether to return a detailed version of the response (optional, default to false)</param>
    /// <param name="recurringStartedSince">Filter results by the recurring billing start date (optional, default to 0L)</param>
    /// <param name="recurringStartedBefore">Filter results by the recurring billing start date (optional, default to 0L)</param>
    /// <param name="recurringExpirationSince">Filter results by the recurring billing expiration date (optional, default to 0L)</param>
    /// <param name="recurringExpirationBefore">Filter results by the recurring billing expiration date (optional, default to 0L)</param>
    virtual void search_offer_transactions( const double &version, const std::optional<std::string> &deviceId, const std::optional<int64_t> &accountId, const std::optional<std::string> &keyword, const std::optional<int64_t> &retailerId, const std::optional<std::string> &retailerIds, const std::optional<int64_t> &retailerLocationId, const std::optional<std::string> &retailerLocationIds, const std::optional<std::string> &excludeRetailerLocationIds, const std::optional<int64_t> &offerId, const std::optional<std::string> &offerIds, const std::optional<int64_t> &offerLocationId, const std::optional<std::string> &offerLocationIds, const std::optional<std::string> &offerType, const std::optional<std::string> &offerTypes, const std::optional<std::string> &specialOfferType, const std::optional<std::string> &specialOfferTypes, const std::optional<std::string> &categoryIds, const std::optional<std::string> &filterIds, const std::optional<std::string> &offerAudienceIds, const std::optional<std::string> &sortField, const std::optional<bool> &descending, const std::optional<int32_t> &start, const std::optional<int32_t> &limit, const std::optional<double> &latitude, const std::optional<double> &longitude, const std::optional<int64_t> &redeemableStartDate, const std::optional<int64_t> &redeemableEndDate, const std::optional<bool> &filterByParentOffer, const std::optional<int64_t> &startedSince, const std::optional<int64_t> &startedBefore, const std::optional<int64_t> &endedSince, const std::optional<int64_t> &endedBefore, const std::optional<bool> &redeemed, const std::optional<std::string> &statuses, const std::optional<bool> &reservationsOnly, const std::optional<bool> &activeOnly, const std::optional<bool> &returnFullResponse, const std::optional<int64_t> &recurringStartedSince, const std::optional<int64_t> &recurringStartedBefore, const std::optional<int64_t> &recurringExpirationSince, const std::optional<int64_t> &recurringExpirationBefore, Pistache::Http::ResponseWriter &response) = 0;
    /// <summary>
    /// Update Wallet Offer
    /// </summary>
    /// <remarks>
    /// Update offer status. The status values are: 0 - not redeemable, 1 - redeemable.  Not redeemable means the customer has received the offer but has not decided to use (or print) it yet.  Until they choose to do this the merchant cannot redeem the offer (has not been given permission yet).   Redeemable means the customer has chosen to use the offer and wishes to redeem it.  Redeemed means the merchant has accepted the offer and the given the customer its value, then marked it a used in the system.  This status change is handled by a merchant end point.
    /// </remarks>
    /// <param name="version"></param>
    /// <param name="transactionId">The offer transaction id to remove</param>
    /// <param name="status">The status value to change to (0 or 1)</param>
    /// <param name="deviceId">The device id (deviceId or accountId required) (optional, default to &quot;&quot;)</param>
    /// <param name="accountId">The account id of the user (deviceId or accountId required) (optional, default to 0L)</param>
    /// <param name="offerLocationId">Offer Location Id (optional, default to 0L)</param>
    /// <param name="currencyType">Currency Type (optional, default to &quot;CASH&quot;)</param>
    /// <param name="usePoints">Use Points (optional, default to false)</param>
    /// <param name="appKey">App Key (optional, default to &quot;&quot;)</param>
    /// <param name="latitude">The latitude location of the user (optional, default to 0.0)</param>
    /// <param name="longitude">The latitude location of the user (optional, default to 0.0)</param>
    /// <param name="metaData">External custom client defined data (optional, default to &quot;&quot;)</param>
    /// <param name="returnFullResponse">Determines whether to return a detailed version of the response (optional, default to false)</param>
    /// <param name="exceptionMembershipOfferIds">Exception Offers, transaction audiences of these offers won&#39;t be removed out of the account when up (optional, default to &quot;&quot;)</param>
    virtual void update_offer_transaction( const double &version, const std::optional<int64_t> &transactionId, const std::optional<int32_t> &status, const std::optional<std::string> &deviceId, const std::optional<int64_t> &accountId, const std::optional<int64_t> &offerLocationId, const std::optional<std::string> &currencyType, const std::optional<bool> &usePoints, const std::optional<std::string> &appKey, const std::optional<double> &latitude, const std::optional<double> &longitude, const std::optional<std::string> &metaData, const std::optional<bool> &returnFullResponse, const std::optional<std::string> &exceptionMembershipOfferIds, Pistache::Http::ResponseWriter &response) = 0;

};

} // namespace org::openapitools::server::api

#endif /* WalletApi_H_ */

