// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.

/*
 * Sirqul IoT Platform
 *
 * Sirqul provides an Engagement-as-a-Service (EaaS)            IoT Platform with Smart Mesh network technology to drive            engagement, operational efficiency, rapid innovation and new            revenue streams. Please visit https://dev.sirqul.com/ for more            documents, examples, and sample applications.<?php $a = htmlspecialchars($_GET['appKey']);$b = htmlspecialchars($_GET['appRestKey']);?>
 *
 * API version: 3.16
 * Contact: info@sirqul.com
 */

package openapi

import (
	"net/http"
	"strings"
)

// AudienceAPIController binds http requests to an api service and writes the service results to the http response
type AudienceAPIController struct {
	service AudienceAPIServicer
	errorHandler ErrorHandler
}

// AudienceAPIOption for how the controller is set up.
type AudienceAPIOption func(*AudienceAPIController)

// WithAudienceAPIErrorHandler inject ErrorHandler into controller
func WithAudienceAPIErrorHandler(h ErrorHandler) AudienceAPIOption {
	return func(c *AudienceAPIController) {
		c.errorHandler = h
	}
}

// NewAudienceAPIController creates a default api controller
func NewAudienceAPIController(s AudienceAPIServicer, opts ...AudienceAPIOption) *AudienceAPIController {
	controller := &AudienceAPIController{
		service:      s,
		errorHandler: DefaultErrorHandler,
	}

	for _, opt := range opts {
		opt(controller)
	}

	return controller
}

// Routes returns all the api routes for the AudienceAPIController
func (c *AudienceAPIController) Routes() Routes {
	return Routes{
		"GetAgeGroups": Route{
			"GetAgeGroups",
			strings.ToUpper("Get"),
			"/api/3.18/audience/ageGroups",
			c.GetAgeGroups,
		},
		"CreateAudience": Route{
			"CreateAudience",
			strings.ToUpper("Post"),
			"/api/3.18/audience/create",
			c.CreateAudience,
		},
		"DeleteAudience": Route{
			"DeleteAudience",
			strings.ToUpper("Post"),
			"/api/3.18/audience/delete",
			c.DeleteAudience,
		},
		"GetDevices": Route{
			"GetDevices",
			strings.ToUpper("Get"),
			"/api/3.18/audience/devices",
			c.GetDevices,
		},
		"GetExperiences": Route{
			"GetExperiences",
			strings.ToUpper("Get"),
			"/api/3.18/audience/experiences",
			c.GetExperiences,
		},
		"GetAudience": Route{
			"GetAudience",
			strings.ToUpper("Get"),
			"/api/3.18/audience/get",
			c.GetAudience,
		},
		"GetGroupedAudiences": Route{
			"GetGroupedAudiences",
			strings.ToUpper("Get"),
			"/api/3.18/audience/grouped/get",
			c.GetGroupedAudiences,
		},
		"GetAudienceList": Route{
			"GetAudienceList",
			strings.ToUpper("Get"),
			"/api/3.18/audience/search",
			c.GetAudienceList,
		},
		"ListLastestByAccount": Route{
			"ListLastestByAccount",
			strings.ToUpper("Get"),
			"/api/3.18/audience/suggestion/latest",
			c.ListLastestByAccount,
		},
		"ListByAccount": Route{
			"ListByAccount",
			strings.ToUpper("Post"),
			"/api/3.18/audience/suggestion/list",
			c.ListByAccount,
		},
		"ListByAudience": Route{
			"ListByAudience",
			strings.ToUpper("Get"),
			"/api/3.18/audience/suggestion/offersByAudience",
			c.ListByAudience,
		},
		"SendByAccount": Route{
			"SendByAccount",
			strings.ToUpper("Post"),
			"/api/3.18/audience/suggestion/send",
			c.SendByAccount,
		},
		"UpdateAudience": Route{
			"UpdateAudience",
			strings.ToUpper("Post"),
			"/api/3.18/audience/update",
			c.UpdateAudience,
		},
	}
}

// OrderedRoutes returns all the api routes in a deterministic order for the AudienceAPIController
func (c *AudienceAPIController) OrderedRoutes() []Route {
	return []Route{
		Route{
			"GetAgeGroups",
			strings.ToUpper("Get"),
			"/api/3.18/audience/ageGroups",
			c.GetAgeGroups,
		},
		Route{
			"CreateAudience",
			strings.ToUpper("Post"),
			"/api/3.18/audience/create",
			c.CreateAudience,
		},
		Route{
			"DeleteAudience",
			strings.ToUpper("Post"),
			"/api/3.18/audience/delete",
			c.DeleteAudience,
		},
		Route{
			"GetDevices",
			strings.ToUpper("Get"),
			"/api/3.18/audience/devices",
			c.GetDevices,
		},
		Route{
			"GetExperiences",
			strings.ToUpper("Get"),
			"/api/3.18/audience/experiences",
			c.GetExperiences,
		},
		Route{
			"GetAudience",
			strings.ToUpper("Get"),
			"/api/3.18/audience/get",
			c.GetAudience,
		},
		Route{
			"GetGroupedAudiences",
			strings.ToUpper("Get"),
			"/api/3.18/audience/grouped/get",
			c.GetGroupedAudiences,
		},
		Route{
			"GetAudienceList",
			strings.ToUpper("Get"),
			"/api/3.18/audience/search",
			c.GetAudienceList,
		},
		Route{
			"ListLastestByAccount",
			strings.ToUpper("Get"),
			"/api/3.18/audience/suggestion/latest",
			c.ListLastestByAccount,
		},
		Route{
			"ListByAccount",
			strings.ToUpper("Post"),
			"/api/3.18/audience/suggestion/list",
			c.ListByAccount,
		},
		Route{
			"ListByAudience",
			strings.ToUpper("Get"),
			"/api/3.18/audience/suggestion/offersByAudience",
			c.ListByAudience,
		},
		Route{
			"SendByAccount",
			strings.ToUpper("Post"),
			"/api/3.18/audience/suggestion/send",
			c.SendByAccount,
		},
		Route{
			"UpdateAudience",
			strings.ToUpper("Post"),
			"/api/3.18/audience/update",
			c.UpdateAudience,
		},
	}
}



// GetAgeGroups - Get Age Groups
func (c *AudienceAPIController) GetAgeGroups(w http.ResponseWriter, r *http.Request) {
	result, err := c.service.GetAgeGroups(r.Context())
	// If an error occurred, encode the error with the status code
	if err != nil {
		c.errorHandler(w, r, err, &result)
		return
	}
	// If no error, encode the body and the result code
	_ = EncodeJSONResponse(result.Body, &result.Code, w)
}

// CreateAudience - Create Audience
func (c *AudienceAPIController) CreateAudience(w http.ResponseWriter, r *http.Request) {
	query, err := parseQuery(r.URL.RawQuery)
	if err != nil {
		c.errorHandler(w, r, &ParsingError{Err: err}, nil)
		return
	}
	var accountIdParam int64
	if query.Has("accountId") {
		param, err := parseNumericParameter[int64](
			query.Get("accountId"),
			WithParse[int64](parseInt64),
		)
		if err != nil {
			c.errorHandler(w, r, &ParsingError{Param: "accountId", Err: err}, nil)
			return
		}

		accountIdParam = param
	} else {
		c.errorHandler(w, r, &RequiredError{Field: "accountId"}, nil)
		return
	}
	var nameParam string
	if query.Has("name") {
		param := query.Get("name")

		nameParam = param
	} else {
		c.errorHandler(w, r, &RequiredError{Field: "name"}, nil)
		return
	}
	var descriptionParam string
	if query.Has("description") {
		param := query.Get("description")

		descriptionParam = param
	} else {
	}
	var searchTagsParam string
	if query.Has("searchTags") {
		param := query.Get("searchTags")

		searchTagsParam = param
	} else {
	}
	var genderParam string
	if query.Has("gender") {
		param := query.Get("gender")

		genderParam = param
	} else {
	}
	var ageGroupsParam string
	if query.Has("ageGroups") {
		param := query.Get("ageGroups")

		ageGroupsParam = param
	} else {
	}
	var categoryIdsParam string
	if query.Has("categoryIds") {
		param := query.Get("categoryIds")

		categoryIdsParam = param
	} else {
	}
	var applicationIdsParam string
	if query.Has("applicationIds") {
		param := query.Get("applicationIds")

		applicationIdsParam = param
	} else {
	}
	var gameExperienceLevelParam string
	if query.Has("gameExperienceLevel") {
		param := query.Get("gameExperienceLevel")

		gameExperienceLevelParam = param
	} else {
	}
	var devicesParam string
	if query.Has("devices") {
		param := query.Get("devices")

		devicesParam = param
	} else {
	}
	var deviceIdsParam string
	if query.Has("deviceIds") {
		param := query.Get("deviceIds")

		deviceIdsParam = param
	} else {
	}
	var deviceVersionsParam string
	if query.Has("deviceVersions") {
		param := query.Get("deviceVersions")

		deviceVersionsParam = param
	} else {
	}
	var locationsParam string
	if query.Has("locations") {
		param := query.Get("locations")

		locationsParam = param
	} else {
	}
	var radiusParam string
	if query.Has("radius") {
		param := query.Get("radius")

		radiusParam = param
	} else {
	}
	var startTimeOffsetParam int32
	if query.Has("startTimeOffset") {
		param, err := parseNumericParameter[int32](
			query.Get("startTimeOffset"),
			WithParse[int32](parseInt32),
		)
		if err != nil {
			c.errorHandler(w, r, &ParsingError{Param: "startTimeOffset", Err: err}, nil)
			return
		}

		startTimeOffsetParam = param
	} else {
	}
	var endTimeOffsetParam int32
	if query.Has("endTimeOffset") {
		param, err := parseNumericParameter[int32](
			query.Get("endTimeOffset"),
			WithParse[int32](parseInt32),
		)
		if err != nil {
			c.errorHandler(w, r, &ParsingError{Param: "endTimeOffset", Err: err}, nil)
			return
		}

		endTimeOffsetParam = param
	} else {
	}
	var sendSuggestionParam bool
	if query.Has("sendSuggestion") {
		param, err := parseBoolParameter(
			query.Get("sendSuggestion"),
			WithParse[bool](parseBool),
		)
		if err != nil {
			c.errorHandler(w, r, &ParsingError{Param: "sendSuggestion", Err: err}, nil)
			return
		}

		sendSuggestionParam = param
	} else {
		var param bool = true
		sendSuggestionParam = param
	}
	var associateDescriptionParam string
	if query.Has("associateDescription") {
		param := query.Get("associateDescription")

		associateDescriptionParam = param
	} else {
	}
	var associateTypeParam string
	if query.Has("associateType") {
		param := query.Get("associateType")

		associateTypeParam = param
	} else {
	}
	var associateIdParam int64
	if query.Has("associateId") {
		param, err := parseNumericParameter[int64](
			query.Get("associateId"),
			WithParse[int64](parseInt64),
		)
		if err != nil {
			c.errorHandler(w, r, &ParsingError{Param: "associateId", Err: err}, nil)
			return
		}

		associateIdParam = param
	} else {
	}
	var groupingIdParam string
	if query.Has("groupingId") {
		param := query.Get("groupingId")

		groupingIdParam = param
	} else {
	}
	var metaDataParam string
	if query.Has("metaData") {
		param := query.Get("metaData")

		metaDataParam = param
	} else {
	}
	var visibilityParam string
	if query.Has("visibility") {
		param := query.Get("visibility")

		visibilityParam = param
	} else {
	}
	var audienceTypeParam string
	if query.Has("audienceType") {
		param := query.Get("audienceType")

		audienceTypeParam = param
	} else {
	}
	var useOrderParam bool
	if query.Has("useOrder") {
		param, err := parseBoolParameter(
			query.Get("useOrder"),
			WithParse[bool](parseBool),
		)
		if err != nil {
			c.errorHandler(w, r, &ParsingError{Param: "useOrder", Err: err}, nil)
			return
		}

		useOrderParam = param
	} else {
	}
	var cohortRegionsDataParam string
	if query.Has("cohortRegionsData") {
		param := query.Get("cohortRegionsData")

		cohortRegionsDataParam = param
	} else {
	}
	var appKeyParam string
	if query.Has("appKey") {
		param := query.Get("appKey")

		appKeyParam = param
	} else {
	}
	var trilaterationTypesParam string
	if query.Has("trilaterationTypes") {
		param := query.Get("trilaterationTypes")

		trilaterationTypesParam = param
	} else {
	}
	var uniqueNameParam bool
	if query.Has("uniqueName") {
		param, err := parseBoolParameter(
			query.Get("uniqueName"),
			WithParse[bool](parseBool),
		)
		if err != nil {
			c.errorHandler(w, r, &ParsingError{Param: "uniqueName", Err: err}, nil)
			return
		}

		uniqueNameParam = param
	} else {
	}
	result, err := c.service.CreateAudience(r.Context(), accountIdParam, nameParam, descriptionParam, searchTagsParam, genderParam, ageGroupsParam, categoryIdsParam, applicationIdsParam, gameExperienceLevelParam, devicesParam, deviceIdsParam, deviceVersionsParam, locationsParam, radiusParam, startTimeOffsetParam, endTimeOffsetParam, sendSuggestionParam, associateDescriptionParam, associateTypeParam, associateIdParam, groupingIdParam, metaDataParam, visibilityParam, audienceTypeParam, useOrderParam, cohortRegionsDataParam, appKeyParam, trilaterationTypesParam, uniqueNameParam)
	// If an error occurred, encode the error with the status code
	if err != nil {
		c.errorHandler(w, r, err, &result)
		return
	}
	// If no error, encode the body and the result code
	_ = EncodeJSONResponse(result.Body, &result.Code, w)
}

// DeleteAudience - Delete Audience
func (c *AudienceAPIController) DeleteAudience(w http.ResponseWriter, r *http.Request) {
	query, err := parseQuery(r.URL.RawQuery)
	if err != nil {
		c.errorHandler(w, r, &ParsingError{Err: err}, nil)
		return
	}
	var accountIdParam int64
	if query.Has("accountId") {
		param, err := parseNumericParameter[int64](
			query.Get("accountId"),
			WithParse[int64](parseInt64),
		)
		if err != nil {
			c.errorHandler(w, r, &ParsingError{Param: "accountId", Err: err}, nil)
			return
		}

		accountIdParam = param
	} else {
		c.errorHandler(w, r, &RequiredError{Field: "accountId"}, nil)
		return
	}
	var audienceIdParam int64
	if query.Has("audienceId") {
		param, err := parseNumericParameter[int64](
			query.Get("audienceId"),
			WithParse[int64](parseInt64),
		)
		if err != nil {
			c.errorHandler(w, r, &ParsingError{Param: "audienceId", Err: err}, nil)
			return
		}

		audienceIdParam = param
	} else {
		c.errorHandler(w, r, &RequiredError{Field: "audienceId"}, nil)
		return
	}
	result, err := c.service.DeleteAudience(r.Context(), accountIdParam, audienceIdParam)
	// If an error occurred, encode the error with the status code
	if err != nil {
		c.errorHandler(w, r, err, &result)
		return
	}
	// If no error, encode the body and the result code
	_ = EncodeJSONResponse(result.Body, &result.Code, w)
}

// GetDevices - Get Devices
func (c *AudienceAPIController) GetDevices(w http.ResponseWriter, r *http.Request) {
	query, err := parseQuery(r.URL.RawQuery)
	if err != nil {
		c.errorHandler(w, r, &ParsingError{Err: err}, nil)
		return
	}
	var includeInactiveParam bool
	if query.Has("includeInactive") {
		param, err := parseBoolParameter(
			query.Get("includeInactive"),
			WithParse[bool](parseBool),
		)
		if err != nil {
			c.errorHandler(w, r, &ParsingError{Param: "includeInactive", Err: err}, nil)
			return
		}

		includeInactiveParam = param
	} else {
		c.errorHandler(w, r, &RequiredError{Field: "includeInactive"}, nil)
		return
	}
	result, err := c.service.GetDevices(r.Context(), includeInactiveParam)
	// If an error occurred, encode the error with the status code
	if err != nil {
		c.errorHandler(w, r, err, &result)
		return
	}
	// If no error, encode the body and the result code
	_ = EncodeJSONResponse(result.Body, &result.Code, w)
}

// GetExperiences - Get Experiences
func (c *AudienceAPIController) GetExperiences(w http.ResponseWriter, r *http.Request) {
	result, err := c.service.GetExperiences(r.Context())
	// If an error occurred, encode the error with the status code
	if err != nil {
		c.errorHandler(w, r, err, &result)
		return
	}
	// If no error, encode the body and the result code
	_ = EncodeJSONResponse(result.Body, &result.Code, w)
}

// GetAudience - Get Audience
func (c *AudienceAPIController) GetAudience(w http.ResponseWriter, r *http.Request) {
	query, err := parseQuery(r.URL.RawQuery)
	if err != nil {
		c.errorHandler(w, r, &ParsingError{Err: err}, nil)
		return
	}
	var accountIdParam int64
	if query.Has("accountId") {
		param, err := parseNumericParameter[int64](
			query.Get("accountId"),
			WithParse[int64](parseInt64),
		)
		if err != nil {
			c.errorHandler(w, r, &ParsingError{Param: "accountId", Err: err}, nil)
			return
		}

		accountIdParam = param
	} else {
		c.errorHandler(w, r, &RequiredError{Field: "accountId"}, nil)
		return
	}
	var audienceIdParam int64
	if query.Has("audienceId") {
		param, err := parseNumericParameter[int64](
			query.Get("audienceId"),
			WithParse[int64](parseInt64),
		)
		if err != nil {
			c.errorHandler(w, r, &ParsingError{Param: "audienceId", Err: err}, nil)
			return
		}

		audienceIdParam = param
	} else {
		c.errorHandler(w, r, &RequiredError{Field: "audienceId"}, nil)
		return
	}
	var appKeyParam string
	if query.Has("appKey") {
		param := query.Get("appKey")

		appKeyParam = param
	} else {
	}
	var returnAccountCountParam bool
	if query.Has("returnAccountCount") {
		param, err := parseBoolParameter(
			query.Get("returnAccountCount"),
			WithParse[bool](parseBool),
		)
		if err != nil {
			c.errorHandler(w, r, &ParsingError{Param: "returnAccountCount", Err: err}, nil)
			return
		}

		returnAccountCountParam = param
	} else {
		var param bool = false
		returnAccountCountParam = param
	}
	var returnAlbumCountParam bool
	if query.Has("returnAlbumCount") {
		param, err := parseBoolParameter(
			query.Get("returnAlbumCount"),
			WithParse[bool](parseBool),
		)
		if err != nil {
			c.errorHandler(w, r, &ParsingError{Param: "returnAlbumCount", Err: err}, nil)
			return
		}

		returnAlbumCountParam = param
	} else {
		var param bool = false
		returnAlbumCountParam = param
	}
	var albumTypesForCountParam string
	if query.Has("albumTypesForCount") {
		param := query.Get("albumTypesForCount")

		albumTypesForCountParam = param
	} else {
	}
	result, err := c.service.GetAudience(r.Context(), accountIdParam, audienceIdParam, appKeyParam, returnAccountCountParam, returnAlbumCountParam, albumTypesForCountParam)
	// If an error occurred, encode the error with the status code
	if err != nil {
		c.errorHandler(w, r, err, &result)
		return
	}
	// If no error, encode the body and the result code
	_ = EncodeJSONResponse(result.Body, &result.Code, w)
}

// GetGroupedAudiences - Get GroupedAudiences
func (c *AudienceAPIController) GetGroupedAudiences(w http.ResponseWriter, r *http.Request) {
	query, err := parseQuery(r.URL.RawQuery)
	if err != nil {
		c.errorHandler(w, r, &ParsingError{Err: err}, nil)
		return
	}
	var accountIdParam int64
	if query.Has("accountId") {
		param, err := parseNumericParameter[int64](
			query.Get("accountId"),
			WithParse[int64](parseInt64),
		)
		if err != nil {
			c.errorHandler(w, r, &ParsingError{Param: "accountId", Err: err}, nil)
			return
		}

		accountIdParam = param
	} else {
		c.errorHandler(w, r, &RequiredError{Field: "accountId"}, nil)
		return
	}
	var audienceGroupingIdParam string
	if query.Has("audienceGroupingId") {
		param := query.Get("audienceGroupingId")

		audienceGroupingIdParam = param
	} else {
		c.errorHandler(w, r, &RequiredError{Field: "audienceGroupingId"}, nil)
		return
	}
	result, err := c.service.GetGroupedAudiences(r.Context(), accountIdParam, audienceGroupingIdParam)
	// If an error occurred, encode the error with the status code
	if err != nil {
		c.errorHandler(w, r, err, &result)
		return
	}
	// If no error, encode the body and the result code
	_ = EncodeJSONResponse(result.Body, &result.Code, w)
}

// GetAudienceList - Search Audiences
func (c *AudienceAPIController) GetAudienceList(w http.ResponseWriter, r *http.Request) {
	query, err := parseQuery(r.URL.RawQuery)
	if err != nil {
		c.errorHandler(w, r, &ParsingError{Err: err}, nil)
		return
	}
	var accountIdParam int64
	if query.Has("accountId") {
		param, err := parseNumericParameter[int64](
			query.Get("accountId"),
			WithParse[int64](parseInt64),
		)
		if err != nil {
			c.errorHandler(w, r, &ParsingError{Param: "accountId", Err: err}, nil)
			return
		}

		accountIdParam = param
	} else {
	}
	var albumIdsParam string
	if query.Has("albumIds") {
		param := query.Get("albumIds")

		albumIdsParam = param
	} else {
	}
	var keywordParam string
	if query.Has("keyword") {
		param := query.Get("keyword")

		keywordParam = param
	} else {
	}
	var keywordFieldsParam string
	if query.Has("keywordFields") {
		param := query.Get("keywordFields")

		keywordFieldsParam = param
	} else {
		param := "SEARCH_TAGS,NAME,DESCRIPTION"
		keywordFieldsParam = param
	}
	var sortFieldParam string
	if query.Has("sortField") {
		param := query.Get("sortField")

		sortFieldParam = param
	} else {
		param := "NAME"
		sortFieldParam = param
	}
	var descendingParam bool
	if query.Has("descending") {
		param, err := parseBoolParameter(
			query.Get("descending"),
			WithParse[bool](parseBool),
		)
		if err != nil {
			c.errorHandler(w, r, &ParsingError{Param: "descending", Err: err}, nil)
			return
		}

		descendingParam = param
	} else {
		var param bool = false
		descendingParam = param
	}
	var startParam int32
	if query.Has("start") {
		param, err := parseNumericParameter[int32](
			query.Get("start"),
			WithParse[int32](parseInt32),
		)
		if err != nil {
			c.errorHandler(w, r, &ParsingError{Param: "start", Err: err}, nil)
			return
		}

		startParam = param
	} else {
		var param int32 = 0
		startParam = param
	}
	var limitParam int32
	if query.Has("limit") {
		param, err := parseNumericParameter[int32](
			query.Get("limit"),
			WithParse[int32](parseInt32),
		)
		if err != nil {
			c.errorHandler(w, r, &ParsingError{Param: "limit", Err: err}, nil)
			return
		}

		limitParam = param
	} else {
		var param int32 = 20
		limitParam = param
	}
	var sendSuggestionParam bool
	if query.Has("sendSuggestion") {
		param, err := parseBoolParameter(
			query.Get("sendSuggestion"),
			WithParse[bool](parseBool),
		)
		if err != nil {
			c.errorHandler(w, r, &ParsingError{Param: "sendSuggestion", Err: err}, nil)
			return
		}

		sendSuggestionParam = param
	} else {
	}
	var activeOnlyParam bool
	if query.Has("activeOnly") {
		param, err := parseBoolParameter(
			query.Get("activeOnly"),
			WithParse[bool](parseBool),
		)
		if err != nil {
			c.errorHandler(w, r, &ParsingError{Param: "activeOnly", Err: err}, nil)
			return
		}

		activeOnlyParam = param
	} else {
	}
	var groupByGroupingIdParam bool
	if query.Has("groupByGroupingId") {
		param, err := parseBoolParameter(
			query.Get("groupByGroupingId"),
			WithParse[bool](parseBool),
		)
		if err != nil {
			c.errorHandler(w, r, &ParsingError{Param: "groupByGroupingId", Err: err}, nil)
			return
		}

		groupByGroupingIdParam = param
	} else {
	}
	var appKeyParam string
	if query.Has("appKey") {
		param := query.Get("appKey")

		appKeyParam = param
	} else {
	}
	var returnGlobalParam bool
	if query.Has("returnGlobal") {
		param, err := parseBoolParameter(
			query.Get("returnGlobal"),
			WithParse[bool](parseBool),
		)
		if err != nil {
			c.errorHandler(w, r, &ParsingError{Param: "returnGlobal", Err: err}, nil)
			return
		}

		returnGlobalParam = param
	} else {
	}
	var exactKeywordParam bool
	if query.Has("exactKeyword") {
		param, err := parseBoolParameter(
			query.Get("exactKeyword"),
			WithParse[bool](parseBool),
		)
		if err != nil {
			c.errorHandler(w, r, &ParsingError{Param: "exactKeyword", Err: err}, nil)
			return
		}

		exactKeywordParam = param
	} else {
	}
	var audienceTypeParam string
	if query.Has("audienceType") {
		param := query.Get("audienceType")

		audienceTypeParam = param
	} else {
	}
	var audienceTypesParam string
	if query.Has("audienceTypes") {
		param := query.Get("audienceTypes")

		audienceTypesParam = param
	} else {
	}
	var returnAccountCountParam bool
	if query.Has("returnAccountCount") {
		param, err := parseBoolParameter(
			query.Get("returnAccountCount"),
			WithParse[bool](parseBool),
		)
		if err != nil {
			c.errorHandler(w, r, &ParsingError{Param: "returnAccountCount", Err: err}, nil)
			return
		}

		returnAccountCountParam = param
	} else {
		var param bool = false
		returnAccountCountParam = param
	}
	var returnAlbumCountParam bool
	if query.Has("returnAlbumCount") {
		param, err := parseBoolParameter(
			query.Get("returnAlbumCount"),
			WithParse[bool](parseBool),
		)
		if err != nil {
			c.errorHandler(w, r, &ParsingError{Param: "returnAlbumCount", Err: err}, nil)
			return
		}

		returnAlbumCountParam = param
	} else {
		var param bool = false
		returnAlbumCountParam = param
	}
	var albumTypesForCountParam string
	if query.Has("albumTypesForCount") {
		param := query.Get("albumTypesForCount")

		albumTypesForCountParam = param
	} else {
	}
	result, err := c.service.GetAudienceList(r.Context(), accountIdParam, albumIdsParam, keywordParam, keywordFieldsParam, sortFieldParam, descendingParam, startParam, limitParam, sendSuggestionParam, activeOnlyParam, groupByGroupingIdParam, appKeyParam, returnGlobalParam, exactKeywordParam, audienceTypeParam, audienceTypesParam, returnAccountCountParam, returnAlbumCountParam, albumTypesForCountParam)
	// If an error occurred, encode the error with the status code
	if err != nil {
		c.errorHandler(w, r, err, &result)
		return
	}
	// If no error, encode the body and the result code
	_ = EncodeJSONResponse(result.Body, &result.Code, w)
}

// ListLastestByAccount - List Sent Suggestions 
func (c *AudienceAPIController) ListLastestByAccount(w http.ResponseWriter, r *http.Request) {
	query, err := parseQuery(r.URL.RawQuery)
	if err != nil {
		c.errorHandler(w, r, &ParsingError{Err: err}, nil)
		return
	}
	var accountIdParam int64
	if query.Has("accountId") {
		param, err := parseNumericParameter[int64](
			query.Get("accountId"),
			WithParse[int64](parseInt64),
		)
		if err != nil {
			c.errorHandler(w, r, &ParsingError{Param: "accountId", Err: err}, nil)
			return
		}

		accountIdParam = param
	} else {
		c.errorHandler(w, r, &RequiredError{Field: "accountId"}, nil)
		return
	}
	var timeframeParam int32
	if query.Has("timeframe") {
		param, err := parseNumericParameter[int32](
			query.Get("timeframe"),
			WithParse[int32](parseInt32),
		)
		if err != nil {
			c.errorHandler(w, r, &ParsingError{Param: "timeframe", Err: err}, nil)
			return
		}

		timeframeParam = param
	} else {
		c.errorHandler(w, r, &RequiredError{Field: "timeframe"}, nil)
		return
	}
	var suggestionTypeParam string
	if query.Has("suggestionType") {
		param := query.Get("suggestionType")

		suggestionTypeParam = param
	} else {
		c.errorHandler(w, r, &RequiredError{Field: "suggestionType"}, nil)
		return
	}
	result, err := c.service.ListLastestByAccount(r.Context(), accountIdParam, timeframeParam, suggestionTypeParam)
	// If an error occurred, encode the error with the status code
	if err != nil {
		c.errorHandler(w, r, err, &result)
		return
	}
	// If no error, encode the body and the result code
	_ = EncodeJSONResponse(result.Body, &result.Code, w)
}

// ListByAccount - List Suggestions by Audience
func (c *AudienceAPIController) ListByAccount(w http.ResponseWriter, r *http.Request) {
	query, err := parseQuery(r.URL.RawQuery)
	if err != nil {
		c.errorHandler(w, r, &ParsingError{Err: err}, nil)
		return
	}
	var accountIdParam int64
	if query.Has("accountId") {
		param, err := parseNumericParameter[int64](
			query.Get("accountId"),
			WithParse[int64](parseInt64),
		)
		if err != nil {
			c.errorHandler(w, r, &ParsingError{Param: "accountId", Err: err}, nil)
			return
		}

		accountIdParam = param
	} else {
		c.errorHandler(w, r, &RequiredError{Field: "accountId"}, nil)
		return
	}
	var limitParam int32
	if query.Has("limit") {
		param, err := parseNumericParameter[int32](
			query.Get("limit"),
			WithParse[int32](parseInt32),
		)
		if err != nil {
			c.errorHandler(w, r, &ParsingError{Param: "limit", Err: err}, nil)
			return
		}

		limitParam = param
	} else {
		c.errorHandler(w, r, &RequiredError{Field: "limit"}, nil)
		return
	}
	var suggestionTypeParam string
	if query.Has("suggestionType") {
		param := query.Get("suggestionType")

		suggestionTypeParam = param
	} else {
		c.errorHandler(w, r, &RequiredError{Field: "suggestionType"}, nil)
		return
	}
	result, err := c.service.ListByAccount(r.Context(), accountIdParam, limitParam, suggestionTypeParam)
	// If an error occurred, encode the error with the status code
	if err != nil {
		c.errorHandler(w, r, err, &result)
		return
	}
	// If no error, encode the body and the result code
	_ = EncodeJSONResponse(result.Body, &result.Code, w)
}

// ListByAudience - List Offers by Audience
func (c *AudienceAPIController) ListByAudience(w http.ResponseWriter, r *http.Request) {
	query, err := parseQuery(r.URL.RawQuery)
	if err != nil {
		c.errorHandler(w, r, &ParsingError{Err: err}, nil)
		return
	}
	var limitParam int32
	if query.Has("limit") {
		param, err := parseNumericParameter[int32](
			query.Get("limit"),
			WithParse[int32](parseInt32),
		)
		if err != nil {
			c.errorHandler(w, r, &ParsingError{Param: "limit", Err: err}, nil)
			return
		}

		limitParam = param
	} else {
		c.errorHandler(w, r, &RequiredError{Field: "limit"}, nil)
		return
	}
	var genderParam string
	if query.Has("gender") {
		param := query.Get("gender")

		genderParam = param
	} else {
	}
	var ageParam int32
	if query.Has("age") {
		param, err := parseNumericParameter[int32](
			query.Get("age"),
			WithParse[int32](parseInt32),
		)
		if err != nil {
			c.errorHandler(w, r, &ParsingError{Param: "age", Err: err}, nil)
			return
		}

		ageParam = param
	} else {
	}
	var categoryIdsParam string
	if query.Has("categoryIds") {
		param := query.Get("categoryIds")

		categoryIdsParam = param
	} else {
	}
	var latitudeParam float64
	if query.Has("latitude") {
		param, err := parseNumericParameter[float64](
			query.Get("latitude"),
			WithParse[float64](parseFloat64),
		)
		if err != nil {
			c.errorHandler(w, r, &ParsingError{Param: "latitude", Err: err}, nil)
			return
		}

		latitudeParam = param
	} else {
	}
	var longitudeParam float64
	if query.Has("longitude") {
		param, err := parseNumericParameter[float64](
			query.Get("longitude"),
			WithParse[float64](parseFloat64),
		)
		if err != nil {
			c.errorHandler(w, r, &ParsingError{Param: "longitude", Err: err}, nil)
			return
		}

		longitudeParam = param
	} else {
	}
	result, err := c.service.ListByAudience(r.Context(), limitParam, genderParam, ageParam, categoryIdsParam, latitudeParam, longitudeParam)
	// If an error occurred, encode the error with the status code
	if err != nil {
		c.errorHandler(w, r, err, &result)
		return
	}
	// If no error, encode the body and the result code
	_ = EncodeJSONResponse(result.Body, &result.Code, w)
}

// SendByAccount - Send Suggestions
func (c *AudienceAPIController) SendByAccount(w http.ResponseWriter, r *http.Request) {
	query, err := parseQuery(r.URL.RawQuery)
	if err != nil {
		c.errorHandler(w, r, &ParsingError{Err: err}, nil)
		return
	}
	var accountIdParam int64
	if query.Has("accountId") {
		param, err := parseNumericParameter[int64](
			query.Get("accountId"),
			WithParse[int64](parseInt64),
		)
		if err != nil {
			c.errorHandler(w, r, &ParsingError{Param: "accountId", Err: err}, nil)
			return
		}

		accountIdParam = param
	} else {
		c.errorHandler(w, r, &RequiredError{Field: "accountId"}, nil)
		return
	}
	var latitudeParam float64
	if query.Has("latitude") {
		param, err := parseNumericParameter[float64](
			query.Get("latitude"),
			WithParse[float64](parseFloat64),
		)
		if err != nil {
			c.errorHandler(w, r, &ParsingError{Param: "latitude", Err: err}, nil)
			return
		}

		latitudeParam = param
	} else {
		c.errorHandler(w, r, &RequiredError{Field: "latitude"}, nil)
		return
	}
	var longitudeParam float64
	if query.Has("longitude") {
		param, err := parseNumericParameter[float64](
			query.Get("longitude"),
			WithParse[float64](parseFloat64),
		)
		if err != nil {
			c.errorHandler(w, r, &ParsingError{Param: "longitude", Err: err}, nil)
			return
		}

		longitudeParam = param
	} else {
		c.errorHandler(w, r, &RequiredError{Field: "longitude"}, nil)
		return
	}
	result, err := c.service.SendByAccount(r.Context(), accountIdParam, latitudeParam, longitudeParam)
	// If an error occurred, encode the error with the status code
	if err != nil {
		c.errorHandler(w, r, err, &result)
		return
	}
	// If no error, encode the body and the result code
	_ = EncodeJSONResponse(result.Body, &result.Code, w)
}

// UpdateAudience - Update Audience
func (c *AudienceAPIController) UpdateAudience(w http.ResponseWriter, r *http.Request) {
	query, err := parseQuery(r.URL.RawQuery)
	if err != nil {
		c.errorHandler(w, r, &ParsingError{Err: err}, nil)
		return
	}
	var accountIdParam int64
	if query.Has("accountId") {
		param, err := parseNumericParameter[int64](
			query.Get("accountId"),
			WithParse[int64](parseInt64),
		)
		if err != nil {
			c.errorHandler(w, r, &ParsingError{Param: "accountId", Err: err}, nil)
			return
		}

		accountIdParam = param
	} else {
		c.errorHandler(w, r, &RequiredError{Field: "accountId"}, nil)
		return
	}
	var audienceIdParam int64
	if query.Has("audienceId") {
		param, err := parseNumericParameter[int64](
			query.Get("audienceId"),
			WithParse[int64](parseInt64),
		)
		if err != nil {
			c.errorHandler(w, r, &ParsingError{Param: "audienceId", Err: err}, nil)
			return
		}

		audienceIdParam = param
	} else {
		c.errorHandler(w, r, &RequiredError{Field: "audienceId"}, nil)
		return
	}
	var nameParam string
	if query.Has("name") {
		param := query.Get("name")

		nameParam = param
	} else {
	}
	var descriptionParam string
	if query.Has("description") {
		param := query.Get("description")

		descriptionParam = param
	} else {
	}
	var searchTagsParam string
	if query.Has("searchTags") {
		param := query.Get("searchTags")

		searchTagsParam = param
	} else {
	}
	var genderParam string
	if query.Has("gender") {
		param := query.Get("gender")

		genderParam = param
	} else {
	}
	var ageGroupsParam string
	if query.Has("ageGroups") {
		param := query.Get("ageGroups")

		ageGroupsParam = param
	} else {
	}
	var categoryIdsParam string
	if query.Has("categoryIds") {
		param := query.Get("categoryIds")

		categoryIdsParam = param
	} else {
	}
	var applicationIdsParam string
	if query.Has("applicationIds") {
		param := query.Get("applicationIds")

		applicationIdsParam = param
	} else {
	}
	var gameExperienceLevelParam string
	if query.Has("gameExperienceLevel") {
		param := query.Get("gameExperienceLevel")

		gameExperienceLevelParam = param
	} else {
	}
	var devicesParam string
	if query.Has("devices") {
		param := query.Get("devices")

		devicesParam = param
	} else {
	}
	var deviceIdsParam string
	if query.Has("deviceIds") {
		param := query.Get("deviceIds")

		deviceIdsParam = param
	} else {
	}
	var deviceVersionsParam string
	if query.Has("deviceVersions") {
		param := query.Get("deviceVersions")

		deviceVersionsParam = param
	} else {
	}
	var locationsParam string
	if query.Has("locations") {
		param := query.Get("locations")

		locationsParam = param
	} else {
	}
	var radiusParam string
	if query.Has("radius") {
		param := query.Get("radius")

		radiusParam = param
	} else {
	}
	var activeParam bool
	if query.Has("active") {
		param, err := parseBoolParameter(
			query.Get("active"),
			WithParse[bool](parseBool),
		)
		if err != nil {
			c.errorHandler(w, r, &ParsingError{Param: "active", Err: err}, nil)
			return
		}

		activeParam = param
	} else {
	}
	var sendSuggestionParam bool
	if query.Has("sendSuggestion") {
		param, err := parseBoolParameter(
			query.Get("sendSuggestion"),
			WithParse[bool](parseBool),
		)
		if err != nil {
			c.errorHandler(w, r, &ParsingError{Param: "sendSuggestion", Err: err}, nil)
			return
		}

		sendSuggestionParam = param
	} else {
	}
	var startTimeOffsetParam int32
	if query.Has("startTimeOffset") {
		param, err := parseNumericParameter[int32](
			query.Get("startTimeOffset"),
			WithParse[int32](parseInt32),
		)
		if err != nil {
			c.errorHandler(w, r, &ParsingError{Param: "startTimeOffset", Err: err}, nil)
			return
		}

		startTimeOffsetParam = param
	} else {
	}
	var endTimeOffsetParam int32
	if query.Has("endTimeOffset") {
		param, err := parseNumericParameter[int32](
			query.Get("endTimeOffset"),
			WithParse[int32](parseInt32),
		)
		if err != nil {
			c.errorHandler(w, r, &ParsingError{Param: "endTimeOffset", Err: err}, nil)
			return
		}

		endTimeOffsetParam = param
	} else {
	}
	var associateDescriptionParam string
	if query.Has("associateDescription") {
		param := query.Get("associateDescription")

		associateDescriptionParam = param
	} else {
	}
	var associateTypeParam string
	if query.Has("associateType") {
		param := query.Get("associateType")

		associateTypeParam = param
	} else {
	}
	var associateIdParam int64
	if query.Has("associateId") {
		param, err := parseNumericParameter[int64](
			query.Get("associateId"),
			WithParse[int64](parseInt64),
		)
		if err != nil {
			c.errorHandler(w, r, &ParsingError{Param: "associateId", Err: err}, nil)
			return
		}

		associateIdParam = param
	} else {
	}
	var groupingIdParam string
	if query.Has("groupingId") {
		param := query.Get("groupingId")

		groupingIdParam = param
	} else {
	}
	var metaDataParam string
	if query.Has("metaData") {
		param := query.Get("metaData")

		metaDataParam = param
	} else {
	}
	var visibilityParam string
	if query.Has("visibility") {
		param := query.Get("visibility")

		visibilityParam = param
	} else {
	}
	var audienceTypeParam string
	if query.Has("audienceType") {
		param := query.Get("audienceType")

		audienceTypeParam = param
	} else {
	}
	var useOrderParam bool
	if query.Has("useOrder") {
		param, err := parseBoolParameter(
			query.Get("useOrder"),
			WithParse[bool](parseBool),
		)
		if err != nil {
			c.errorHandler(w, r, &ParsingError{Param: "useOrder", Err: err}, nil)
			return
		}

		useOrderParam = param
	} else {
	}
	var cohortRegionsDataParam string
	if query.Has("cohortRegionsData") {
		param := query.Get("cohortRegionsData")

		cohortRegionsDataParam = param
	} else {
	}
	var appKeyParam string
	if query.Has("appKey") {
		param := query.Get("appKey")

		appKeyParam = param
	} else {
	}
	var trilaterationTypesParam string
	if query.Has("trilaterationTypes") {
		param := query.Get("trilaterationTypes")

		trilaterationTypesParam = param
	} else {
	}
	var uniqueNameParam bool
	if query.Has("uniqueName") {
		param, err := parseBoolParameter(
			query.Get("uniqueName"),
			WithParse[bool](parseBool),
		)
		if err != nil {
			c.errorHandler(w, r, &ParsingError{Param: "uniqueName", Err: err}, nil)
			return
		}

		uniqueNameParam = param
	} else {
	}
	result, err := c.service.UpdateAudience(r.Context(), accountIdParam, audienceIdParam, nameParam, descriptionParam, searchTagsParam, genderParam, ageGroupsParam, categoryIdsParam, applicationIdsParam, gameExperienceLevelParam, devicesParam, deviceIdsParam, deviceVersionsParam, locationsParam, radiusParam, activeParam, sendSuggestionParam, startTimeOffsetParam, endTimeOffsetParam, associateDescriptionParam, associateTypeParam, associateIdParam, groupingIdParam, metaDataParam, visibilityParam, audienceTypeParam, useOrderParam, cohortRegionsDataParam, appKeyParam, trilaterationTypesParam, uniqueNameParam)
	// If an error occurred, encode the error with the status code
	if err != nil {
		c.errorHandler(w, r, err, &result)
		return
	}
	// If no error, encode the body and the result code
	_ = EncodeJSONResponse(result.Body, &result.Code, w)
}
