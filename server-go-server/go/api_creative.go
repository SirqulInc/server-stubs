// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.

/*
 * Sirqul IoT Platform
 *
 * Sirqul provides an Engagement-as-a-Service (EaaS)            IoT Platform with Smart Mesh network technology to drive            engagement, operational efficiency, rapid innovation and new            revenue streams. Please visit https://dev.sirqul.com/ for more            documents, examples, and sample applications.<?php $a = htmlspecialchars($_GET['appKey']);$b = htmlspecialchars($_GET['appRestKey']);?>
 *
 * API version: 3.16
 * Contact: info@sirqul.com
 */

package openapi

import (
	"net/http"
	"strings"

	"github.com/gorilla/mux"
)

// CreativeAPIController binds http requests to an api service and writes the service results to the http response
type CreativeAPIController struct {
	service CreativeAPIServicer
	errorHandler ErrorHandler
}

// CreativeAPIOption for how the controller is set up.
type CreativeAPIOption func(*CreativeAPIController)

// WithCreativeAPIErrorHandler inject ErrorHandler into controller
func WithCreativeAPIErrorHandler(h ErrorHandler) CreativeAPIOption {
	return func(c *CreativeAPIController) {
		c.errorHandler = h
	}
}

// NewCreativeAPIController creates a default api controller
func NewCreativeAPIController(s CreativeAPIServicer, opts ...CreativeAPIOption) *CreativeAPIController {
	controller := &CreativeAPIController{
		service:      s,
		errorHandler: DefaultErrorHandler,
	}

	for _, opt := range opts {
		opt(controller)
	}

	return controller
}

// Routes returns all the api routes for the CreativeAPIController
func (c *CreativeAPIController) Routes() Routes {
	return Routes{
		"AddPreview": Route{
			"AddPreview",
			strings.ToUpper("Post"),
			"/api/{version}/creative/addpreview",
			c.AddPreview,
		},
		"CreateCreative": Route{
			"CreateCreative",
			strings.ToUpper("Post"),
			"/api/{version}/creative/create",
			c.CreateCreative,
		},
		"DeleteCreative": Route{
			"DeleteCreative",
			strings.ToUpper("Post"),
			"/api/{version}/creative/delete",
			c.DeleteCreative,
		},
		"GetCreative": Route{
			"GetCreative",
			strings.ToUpper("Get"),
			"/api/{version}/creative/get",
			c.GetCreative,
		},
		"RemovePreview": Route{
			"RemovePreview",
			strings.ToUpper("Post"),
			"/api/{version}/creative/removepreview",
			c.RemovePreview,
		},
		"GetCreativesByApplication": Route{
			"GetCreativesByApplication",
			strings.ToUpper("Get"),
			"/api/{version}/creative/search",
			c.GetCreativesByApplication,
		},
		"UpdateCreative": Route{
			"UpdateCreative",
			strings.ToUpper("Post"),
			"/api/{version}/creative/update",
			c.UpdateCreative,
		},
		"AdsFind": Route{
			"AdsFind",
			strings.ToUpper("Get"),
			"/api/{version}/ads/find",
			c.AdsFind,
		},
	}
}

// OrderedRoutes returns all the api routes in a deterministic order for the CreativeAPIController
func (c *CreativeAPIController) OrderedRoutes() []Route {
	return []Route{
		Route{
			"AddPreview",
			strings.ToUpper("Post"),
			"/api/{version}/creative/addpreview",
			c.AddPreview,
		},
		Route{
			"CreateCreative",
			strings.ToUpper("Post"),
			"/api/{version}/creative/create",
			c.CreateCreative,
		},
		Route{
			"DeleteCreative",
			strings.ToUpper("Post"),
			"/api/{version}/creative/delete",
			c.DeleteCreative,
		},
		Route{
			"GetCreative",
			strings.ToUpper("Get"),
			"/api/{version}/creative/get",
			c.GetCreative,
		},
		Route{
			"RemovePreview",
			strings.ToUpper("Post"),
			"/api/{version}/creative/removepreview",
			c.RemovePreview,
		},
		Route{
			"GetCreativesByApplication",
			strings.ToUpper("Get"),
			"/api/{version}/creative/search",
			c.GetCreativesByApplication,
		},
		Route{
			"UpdateCreative",
			strings.ToUpper("Post"),
			"/api/{version}/creative/update",
			c.UpdateCreative,
		},
		Route{
			"AdsFind",
			strings.ToUpper("Get"),
			"/api/{version}/ads/find",
			c.AdsFind,
		},
	}
}



// AddPreview - Add Preview
func (c *CreativeAPIController) AddPreview(w http.ResponseWriter, r *http.Request) {
	params := mux.Vars(r)
	query, err := parseQuery(r.URL.RawQuery)
	if err != nil {
		c.errorHandler(w, r, &ParsingError{Err: err}, nil)
		return
	}
	versionParam, err := parseNumericParameter[float32](
		params["version"],
		WithRequire[float32](parseFloat32),
	)
	if err != nil {
		c.errorHandler(w, r, &ParsingError{Param: "version", Err: err}, nil)
		return
	}
	var accountIdParam int64
	if query.Has("accountId") {
		param, err := parseNumericParameter[int64](
			query.Get("accountId"),
			WithParse[int64](parseInt64),
		)
		if err != nil {
			c.errorHandler(w, r, &ParsingError{Param: "accountId", Err: err}, nil)
			return
		}

		accountIdParam = param
	} else {
		c.errorHandler(w, r, &RequiredError{Field: "accountId"}, nil)
		return
	}
	var creativeIdParam int64
	if query.Has("creativeId") {
		param, err := parseNumericParameter[int64](
			query.Get("creativeId"),
			WithParse[int64](parseInt64),
		)
		if err != nil {
			c.errorHandler(w, r, &ParsingError{Param: "creativeId", Err: err}, nil)
			return
		}

		creativeIdParam = param
	} else {
		c.errorHandler(w, r, &RequiredError{Field: "creativeId"}, nil)
		return
	}
	result, err := c.service.AddPreview(r.Context(), versionParam, accountIdParam, creativeIdParam)
	// If an error occurred, encode the error with the status code
	if err != nil {
		c.errorHandler(w, r, err, &result)
		return
	}
	// If no error, encode the body and the result code
	_ = EncodeJSONResponse(result.Body, &result.Code, w)
}

// CreateCreative - Create Creative
func (c *CreativeAPIController) CreateCreative(w http.ResponseWriter, r *http.Request) {
	params := mux.Vars(r)
	query, err := parseQuery(r.URL.RawQuery)
	if err != nil {
		c.errorHandler(w, r, &ParsingError{Err: err}, nil)
		return
	}
	versionParam, err := parseNumericParameter[float32](
		params["version"],
		WithRequire[float32](parseFloat32),
	)
	if err != nil {
		c.errorHandler(w, r, &ParsingError{Param: "version", Err: err}, nil)
		return
	}
	var accountIdParam int64
	if query.Has("accountId") {
		param, err := parseNumericParameter[int64](
			query.Get("accountId"),
			WithParse[int64](parseInt64),
		)
		if err != nil {
			c.errorHandler(w, r, &ParsingError{Param: "accountId", Err: err}, nil)
			return
		}

		accountIdParam = param
	} else {
		c.errorHandler(w, r, &RequiredError{Field: "accountId"}, nil)
		return
	}
	var nameParam string
	if query.Has("name") {
		param := query.Get("name")

		nameParam = param
	} else {
		c.errorHandler(w, r, &RequiredError{Field: "name"}, nil)
		return
	}
	var activeParam bool
	if query.Has("active") {
		param, err := parseBoolParameter(
			query.Get("active"),
			WithParse[bool](parseBool),
		)
		if err != nil {
			c.errorHandler(w, r, &ParsingError{Param: "active", Err: err}, nil)
			return
		}

		activeParam = param
	} else {
		c.errorHandler(w, r, &RequiredError{Field: "active"}, nil)
		return
	}
	var waitForAssetParam bool
	if query.Has("waitForAsset") {
		param, err := parseBoolParameter(
			query.Get("waitForAsset"),
			WithParse[bool](parseBool),
		)
		if err != nil {
			c.errorHandler(w, r, &ParsingError{Param: "waitForAsset", Err: err}, nil)
			return
		}

		waitForAssetParam = param
	} else {
		c.errorHandler(w, r, &RequiredError{Field: "waitForAsset"}, nil)
		return
	}
	var descriptionParam string
	if query.Has("description") {
		param := query.Get("description")

		descriptionParam = param
	} else {
	}
	var assetImageIdParam int64
	if query.Has("assetImageId") {
		param, err := parseNumericParameter[int64](
			query.Get("assetImageId"),
			WithParse[int64](parseInt64),
		)
		if err != nil {
			c.errorHandler(w, r, &ParsingError{Param: "assetImageId", Err: err}, nil)
			return
		}

		assetImageIdParam = param
	} else {
	}
	var actionParam string
	if query.Has("action") {
		param := query.Get("action")

		actionParam = param
	} else {
	}
	var dataParam string
	if query.Has("data") {
		param := query.Get("data")

		dataParam = param
	} else {
	}
	var suffixParam string
	if query.Has("suffix") {
		param := query.Get("suffix")

		suffixParam = param
	} else {
	}
	var type_Param string
	if query.Has("type") {
		param := query.Get("type")

		type_Param = param
	} else {
	}
	var balanceParam float64
	if query.Has("balance") {
		param, err := parseNumericParameter[float64](
			query.Get("balance"),
			WithParse[float64](parseFloat64),
		)
		if err != nil {
			c.errorHandler(w, r, &ParsingError{Param: "balance", Err: err}, nil)
			return
		}

		balanceParam = param
	} else {
	}
	var referenceIdParam int64
	if query.Has("referenceId") {
		param, err := parseNumericParameter[int64](
			query.Get("referenceId"),
			WithParse[int64](parseInt64),
		)
		if err != nil {
			c.errorHandler(w, r, &ParsingError{Param: "referenceId", Err: err}, nil)
			return
		}

		referenceIdParam = param
	} else {
	}
	var appVersionParam string
	if query.Has("appVersion") {
		param := query.Get("appVersion")

		appVersionParam = param
	} else {
	}
	var missionIdParam int64
	if query.Has("missionId") {
		param, err := parseNumericParameter[int64](
			query.Get("missionId"),
			WithParse[int64](parseInt64),
		)
		if err != nil {
			c.errorHandler(w, r, &ParsingError{Param: "missionId", Err: err}, nil)
			return
		}

		missionIdParam = param
	} else {
	}
	var offerIdParam int64
	if query.Has("offerId") {
		param, err := parseNumericParameter[int64](
			query.Get("offerId"),
			WithParse[int64](parseInt64),
		)
		if err != nil {
			c.errorHandler(w, r, &ParsingError{Param: "offerId", Err: err}, nil)
			return
		}

		offerIdParam = param
	} else {
	}
	result, err := c.service.CreateCreative(r.Context(), versionParam, accountIdParam, nameParam, activeParam, waitForAssetParam, descriptionParam, assetImageIdParam, actionParam, dataParam, suffixParam, type_Param, balanceParam, referenceIdParam, appVersionParam, missionIdParam, offerIdParam)
	// If an error occurred, encode the error with the status code
	if err != nil {
		c.errorHandler(w, r, err, &result)
		return
	}
	// If no error, encode the body and the result code
	_ = EncodeJSONResponse(result.Body, &result.Code, w)
}

// DeleteCreative - Delete Creative
func (c *CreativeAPIController) DeleteCreative(w http.ResponseWriter, r *http.Request) {
	params := mux.Vars(r)
	query, err := parseQuery(r.URL.RawQuery)
	if err != nil {
		c.errorHandler(w, r, &ParsingError{Err: err}, nil)
		return
	}
	versionParam, err := parseNumericParameter[float32](
		params["version"],
		WithRequire[float32](parseFloat32),
	)
	if err != nil {
		c.errorHandler(w, r, &ParsingError{Param: "version", Err: err}, nil)
		return
	}
	var accountIdParam int64
	if query.Has("accountId") {
		param, err := parseNumericParameter[int64](
			query.Get("accountId"),
			WithParse[int64](parseInt64),
		)
		if err != nil {
			c.errorHandler(w, r, &ParsingError{Param: "accountId", Err: err}, nil)
			return
		}

		accountIdParam = param
	} else {
		c.errorHandler(w, r, &RequiredError{Field: "accountId"}, nil)
		return
	}
	var creativeIdParam int64
	if query.Has("creativeId") {
		param, err := parseNumericParameter[int64](
			query.Get("creativeId"),
			WithParse[int64](parseInt64),
		)
		if err != nil {
			c.errorHandler(w, r, &ParsingError{Param: "creativeId", Err: err}, nil)
			return
		}

		creativeIdParam = param
	} else {
		c.errorHandler(w, r, &RequiredError{Field: "creativeId"}, nil)
		return
	}
	result, err := c.service.DeleteCreative(r.Context(), versionParam, accountIdParam, creativeIdParam)
	// If an error occurred, encode the error with the status code
	if err != nil {
		c.errorHandler(w, r, err, &result)
		return
	}
	// If no error, encode the body and the result code
	_ = EncodeJSONResponse(result.Body, &result.Code, w)
}

// GetCreative - Get Creative
func (c *CreativeAPIController) GetCreative(w http.ResponseWriter, r *http.Request) {
	params := mux.Vars(r)
	query, err := parseQuery(r.URL.RawQuery)
	if err != nil {
		c.errorHandler(w, r, &ParsingError{Err: err}, nil)
		return
	}
	versionParam, err := parseNumericParameter[float32](
		params["version"],
		WithRequire[float32](parseFloat32),
	)
	if err != nil {
		c.errorHandler(w, r, &ParsingError{Param: "version", Err: err}, nil)
		return
	}
	var accountIdParam int64
	if query.Has("accountId") {
		param, err := parseNumericParameter[int64](
			query.Get("accountId"),
			WithParse[int64](parseInt64),
		)
		if err != nil {
			c.errorHandler(w, r, &ParsingError{Param: "accountId", Err: err}, nil)
			return
		}

		accountIdParam = param
	} else {
		c.errorHandler(w, r, &RequiredError{Field: "accountId"}, nil)
		return
	}
	var creativeIdParam int64
	if query.Has("creativeId") {
		param, err := parseNumericParameter[int64](
			query.Get("creativeId"),
			WithParse[int64](parseInt64),
		)
		if err != nil {
			c.errorHandler(w, r, &ParsingError{Param: "creativeId", Err: err}, nil)
			return
		}

		creativeIdParam = param
	} else {
		c.errorHandler(w, r, &RequiredError{Field: "creativeId"}, nil)
		return
	}
	result, err := c.service.GetCreative(r.Context(), versionParam, accountIdParam, creativeIdParam)
	// If an error occurred, encode the error with the status code
	if err != nil {
		c.errorHandler(w, r, err, &result)
		return
	}
	// If no error, encode the body and the result code
	_ = EncodeJSONResponse(result.Body, &result.Code, w)
}

// RemovePreview - Remove Preview
func (c *CreativeAPIController) RemovePreview(w http.ResponseWriter, r *http.Request) {
	params := mux.Vars(r)
	query, err := parseQuery(r.URL.RawQuery)
	if err != nil {
		c.errorHandler(w, r, &ParsingError{Err: err}, nil)
		return
	}
	versionParam, err := parseNumericParameter[float32](
		params["version"],
		WithRequire[float32](parseFloat32),
	)
	if err != nil {
		c.errorHandler(w, r, &ParsingError{Param: "version", Err: err}, nil)
		return
	}
	var accountIdParam int64
	if query.Has("accountId") {
		param, err := parseNumericParameter[int64](
			query.Get("accountId"),
			WithParse[int64](parseInt64),
		)
		if err != nil {
			c.errorHandler(w, r, &ParsingError{Param: "accountId", Err: err}, nil)
			return
		}

		accountIdParam = param
	} else {
		c.errorHandler(w, r, &RequiredError{Field: "accountId"}, nil)
		return
	}
	var creativeIdParam int64
	if query.Has("creativeId") {
		param, err := parseNumericParameter[int64](
			query.Get("creativeId"),
			WithParse[int64](parseInt64),
		)
		if err != nil {
			c.errorHandler(w, r, &ParsingError{Param: "creativeId", Err: err}, nil)
			return
		}

		creativeIdParam = param
	} else {
		c.errorHandler(w, r, &RequiredError{Field: "creativeId"}, nil)
		return
	}
	result, err := c.service.RemovePreview(r.Context(), versionParam, accountIdParam, creativeIdParam)
	// If an error occurred, encode the error with the status code
	if err != nil {
		c.errorHandler(w, r, err, &result)
		return
	}
	// If no error, encode the body and the result code
	_ = EncodeJSONResponse(result.Body, &result.Code, w)
}

// GetCreativesByApplication - Search Creatives
func (c *CreativeAPIController) GetCreativesByApplication(w http.ResponseWriter, r *http.Request) {
	params := mux.Vars(r)
	query, err := parseQuery(r.URL.RawQuery)
	if err != nil {
		c.errorHandler(w, r, &ParsingError{Err: err}, nil)
		return
	}
	versionParam, err := parseNumericParameter[float32](
		params["version"],
		WithRequire[float32](parseFloat32),
	)
	if err != nil {
		c.errorHandler(w, r, &ParsingError{Param: "version", Err: err}, nil)
		return
	}
	var accountIdParam int64
	if query.Has("accountId") {
		param, err := parseNumericParameter[int64](
			query.Get("accountId"),
			WithParse[int64](parseInt64),
		)
		if err != nil {
			c.errorHandler(w, r, &ParsingError{Param: "accountId", Err: err}, nil)
			return
		}

		accountIdParam = param
	} else {
		c.errorHandler(w, r, &RequiredError{Field: "accountId"}, nil)
		return
	}
	var appKeyParam string
	if query.Has("appKey") {
		param := query.Get("appKey")

		appKeyParam = param
	} else {
		c.errorHandler(w, r, &RequiredError{Field: "appKey"}, nil)
		return
	}
	var startParam int32
	if query.Has("start") {
		param, err := parseNumericParameter[int32](
			query.Get("start"),
			WithParse[int32](parseInt32),
		)
		if err != nil {
			c.errorHandler(w, r, &ParsingError{Param: "start", Err: err}, nil)
			return
		}

		startParam = param
	} else {
		c.errorHandler(w, r, &RequiredError{Field: "start"}, nil)
		return
	}
	var limitParam int32
	if query.Has("limit") {
		param, err := parseNumericParameter[int32](
			query.Get("limit"),
			WithParse[int32](parseInt32),
		)
		if err != nil {
			c.errorHandler(w, r, &ParsingError{Param: "limit", Err: err}, nil)
			return
		}

		limitParam = param
	} else {
		c.errorHandler(w, r, &RequiredError{Field: "limit"}, nil)
		return
	}
	var missionIdParam int64
	if query.Has("missionId") {
		param, err := parseNumericParameter[int64](
			query.Get("missionId"),
			WithParse[int64](parseInt64),
		)
		if err != nil {
			c.errorHandler(w, r, &ParsingError{Param: "missionId", Err: err}, nil)
			return
		}

		missionIdParam = param
	} else {
	}
	var keywordParam string
	if query.Has("keyword") {
		param := query.Get("keyword")

		keywordParam = param
	} else {
	}
	result, err := c.service.GetCreativesByApplication(r.Context(), versionParam, accountIdParam, appKeyParam, startParam, limitParam, missionIdParam, keywordParam)
	// If an error occurred, encode the error with the status code
	if err != nil {
		c.errorHandler(w, r, err, &result)
		return
	}
	// If no error, encode the body and the result code
	_ = EncodeJSONResponse(result.Body, &result.Code, w)
}

// UpdateCreative - Update Creative
func (c *CreativeAPIController) UpdateCreative(w http.ResponseWriter, r *http.Request) {
	params := mux.Vars(r)
	query, err := parseQuery(r.URL.RawQuery)
	if err != nil {
		c.errorHandler(w, r, &ParsingError{Err: err}, nil)
		return
	}
	versionParam, err := parseNumericParameter[float32](
		params["version"],
		WithRequire[float32](parseFloat32),
	)
	if err != nil {
		c.errorHandler(w, r, &ParsingError{Param: "version", Err: err}, nil)
		return
	}
	var accountIdParam int64
	if query.Has("accountId") {
		param, err := parseNumericParameter[int64](
			query.Get("accountId"),
			WithParse[int64](parseInt64),
		)
		if err != nil {
			c.errorHandler(w, r, &ParsingError{Param: "accountId", Err: err}, nil)
			return
		}

		accountIdParam = param
	} else {
		c.errorHandler(w, r, &RequiredError{Field: "accountId"}, nil)
		return
	}
	var creativeIdParam int64
	if query.Has("creativeId") {
		param, err := parseNumericParameter[int64](
			query.Get("creativeId"),
			WithParse[int64](parseInt64),
		)
		if err != nil {
			c.errorHandler(w, r, &ParsingError{Param: "creativeId", Err: err}, nil)
			return
		}

		creativeIdParam = param
	} else {
		c.errorHandler(w, r, &RequiredError{Field: "creativeId"}, nil)
		return
	}
	var nameParam string
	if query.Has("name") {
		param := query.Get("name")

		nameParam = param
	} else {
	}
	var descriptionParam string
	if query.Has("description") {
		param := query.Get("description")

		descriptionParam = param
	} else {
	}
	var assetImageIdParam int64
	if query.Has("assetImageId") {
		param, err := parseNumericParameter[int64](
			query.Get("assetImageId"),
			WithParse[int64](parseInt64),
		)
		if err != nil {
			c.errorHandler(w, r, &ParsingError{Param: "assetImageId", Err: err}, nil)
			return
		}

		assetImageIdParam = param
	} else {
	}
	var actionParam string
	if query.Has("action") {
		param := query.Get("action")

		actionParam = param
	} else {
	}
	var dataParam string
	if query.Has("data") {
		param := query.Get("data")

		dataParam = param
	} else {
	}
	var suffixParam string
	if query.Has("suffix") {
		param := query.Get("suffix")

		suffixParam = param
	} else {
	}
	var type_Param string
	if query.Has("type") {
		param := query.Get("type")

		type_Param = param
	} else {
	}
	var balanceParam float64
	if query.Has("balance") {
		param, err := parseNumericParameter[float64](
			query.Get("balance"),
			WithParse[float64](parseFloat64),
		)
		if err != nil {
			c.errorHandler(w, r, &ParsingError{Param: "balance", Err: err}, nil)
			return
		}

		balanceParam = param
	} else {
	}
	var activeParam bool
	if query.Has("active") {
		param, err := parseBoolParameter(
			query.Get("active"),
			WithParse[bool](parseBool),
		)
		if err != nil {
			c.errorHandler(w, r, &ParsingError{Param: "active", Err: err}, nil)
			return
		}

		activeParam = param
	} else {
	}
	var referenceIdParam int64
	if query.Has("referenceId") {
		param, err := parseNumericParameter[int64](
			query.Get("referenceId"),
			WithParse[int64](parseInt64),
		)
		if err != nil {
			c.errorHandler(w, r, &ParsingError{Param: "referenceId", Err: err}, nil)
			return
		}

		referenceIdParam = param
	} else {
	}
	var appVersionParam string
	if query.Has("appVersion") {
		param := query.Get("appVersion")

		appVersionParam = param
	} else {
	}
	var missionIdParam int64
	if query.Has("missionId") {
		param, err := parseNumericParameter[int64](
			query.Get("missionId"),
			WithParse[int64](parseInt64),
		)
		if err != nil {
			c.errorHandler(w, r, &ParsingError{Param: "missionId", Err: err}, nil)
			return
		}

		missionIdParam = param
	} else {
	}
	result, err := c.service.UpdateCreative(r.Context(), versionParam, accountIdParam, creativeIdParam, nameParam, descriptionParam, assetImageIdParam, actionParam, dataParam, suffixParam, type_Param, balanceParam, activeParam, referenceIdParam, appVersionParam, missionIdParam)
	// If an error occurred, encode the error with the status code
	if err != nil {
		c.errorHandler(w, r, err, &result)
		return
	}
	// If no error, encode the body and the result code
	_ = EncodeJSONResponse(result.Body, &result.Code, w)
}

// AdsFind - Find Missions
func (c *CreativeAPIController) AdsFind(w http.ResponseWriter, r *http.Request) {
	params := mux.Vars(r)
	query, err := parseQuery(r.URL.RawQuery)
	if err != nil {
		c.errorHandler(w, r, &ParsingError{Err: err}, nil)
		return
	}
	versionParam, err := parseNumericParameter[float32](
		params["version"],
		WithRequire[float32](parseFloat32),
	)
	if err != nil {
		c.errorHandler(w, r, &ParsingError{Param: "version", Err: err}, nil)
		return
	}
	var appKeyParam string
	if query.Has("appKey") {
		param := query.Get("appKey")

		appKeyParam = param
	} else {
		c.errorHandler(w, r, &RequiredError{Field: "appKey"}, nil)
		return
	}
	var randomizeParam bool
	if query.Has("randomize") {
		param, err := parseBoolParameter(
			query.Get("randomize"),
			WithParse[bool](parseBool),
		)
		if err != nil {
			c.errorHandler(w, r, &ParsingError{Param: "randomize", Err: err}, nil)
			return
		}

		randomizeParam = param
	} else {
		c.errorHandler(w, r, &RequiredError{Field: "randomize"}, nil)
		return
	}
	var targetedAdsOnlyParam bool
	if query.Has("targetedAdsOnly") {
		param, err := parseBoolParameter(
			query.Get("targetedAdsOnly"),
			WithParse[bool](parseBool),
		)
		if err != nil {
			c.errorHandler(w, r, &ParsingError{Param: "targetedAdsOnly", Err: err}, nil)
			return
		}

		targetedAdsOnlyParam = param
	} else {
		c.errorHandler(w, r, &RequiredError{Field: "targetedAdsOnly"}, nil)
		return
	}
	var type_Param string
	if query.Has("type") {
		param := query.Get("type")

		type_Param = param
	} else {
	}
	var accountIdParam int64
	if query.Has("accountId") {
		param, err := parseNumericParameter[int64](
			query.Get("accountId"),
			WithParse[int64](parseInt64),
		)
		if err != nil {
			c.errorHandler(w, r, &ParsingError{Param: "accountId", Err: err}, nil)
			return
		}

		accountIdParam = param
	} else {
	}
	var appVersionParam string
	if query.Has("appVersion") {
		param := query.Get("appVersion")

		appVersionParam = param
	} else {
	}
	var latitudeParam float64
	if query.Has("latitude") {
		param, err := parseNumericParameter[float64](
			query.Get("latitude"),
			WithParse[float64](parseFloat64),
		)
		if err != nil {
			c.errorHandler(w, r, &ParsingError{Param: "latitude", Err: err}, nil)
			return
		}

		latitudeParam = param
	} else {
	}
	var longitudeParam float64
	if query.Has("longitude") {
		param, err := parseNumericParameter[float64](
			query.Get("longitude"),
			WithParse[float64](parseFloat64),
		)
		if err != nil {
			c.errorHandler(w, r, &ParsingError{Param: "longitude", Err: err}, nil)
			return
		}

		longitudeParam = param
	} else {
	}
	var deviceParam string
	if query.Has("device") {
		param := query.Get("device")

		deviceParam = param
	} else {
	}
	var deviceIdentifierParam int64
	if query.Has("deviceIdentifier") {
		param, err := parseNumericParameter[int64](
			query.Get("deviceIdentifier"),
			WithParse[int64](parseInt64),
		)
		if err != nil {
			c.errorHandler(w, r, &ParsingError{Param: "deviceIdentifier", Err: err}, nil)
			return
		}

		deviceIdentifierParam = param
	} else {
	}
	var deviceVersionParam string
	if query.Has("deviceVersion") {
		param := query.Get("deviceVersion")

		deviceVersionParam = param
	} else {
	}
	var startParam int32
	if query.Has("start") {
		param, err := parseNumericParameter[int32](
			query.Get("start"),
			WithParse[int32](parseInt32),
		)
		if err != nil {
			c.errorHandler(w, r, &ParsingError{Param: "start", Err: err}, nil)
			return
		}

		startParam = param
	} else {
	}
	var limitParam int32
	if query.Has("limit") {
		param, err := parseNumericParameter[int32](
			query.Get("limit"),
			WithParse[int32](parseInt32),
		)
		if err != nil {
			c.errorHandler(w, r, &ParsingError{Param: "limit", Err: err}, nil)
			return
		}

		limitParam = param
	} else {
	}
	var includeAudiencesParam bool
	if query.Has("includeAudiences") {
		param, err := parseBoolParameter(
			query.Get("includeAudiences"),
			WithParse[bool](parseBool),
		)
		if err != nil {
			c.errorHandler(w, r, &ParsingError{Param: "includeAudiences", Err: err}, nil)
			return
		}

		includeAudiencesParam = param
	} else {
	}
	var allocatesTicketsParam bool
	if query.Has("allocatesTickets") {
		param, err := parseBoolParameter(
			query.Get("allocatesTickets"),
			WithParse[bool](parseBool),
		)
		if err != nil {
			c.errorHandler(w, r, &ParsingError{Param: "allocatesTickets", Err: err}, nil)
			return
		}

		allocatesTicketsParam = param
	} else {
	}
	var missionIdsParam string
	if query.Has("missionIds") {
		param := query.Get("missionIds")

		missionIdsParam = param
	} else {
	}
	result, err := c.service.AdsFind(r.Context(), versionParam, appKeyParam, randomizeParam, targetedAdsOnlyParam, type_Param, accountIdParam, appVersionParam, latitudeParam, longitudeParam, deviceParam, deviceIdentifierParam, deviceVersionParam, startParam, limitParam, includeAudiencesParam, allocatesTicketsParam, missionIdsParam)
	// If an error occurred, encode the error with the status code
	if err != nil {
		c.errorHandler(w, r, err, &result)
		return
	}
	// If no error, encode the body and the result code
	_ = EncodeJSONResponse(result.Body, &result.Code, w)
}
